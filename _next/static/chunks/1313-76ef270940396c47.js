"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1313],{20353:function(a,b,c){c.d(b,{Z:function(){return t}});var d=c(26042),e=c(69396),f=c(99534),g=c(85893);c(67294);var h=c(7297),i=c(87379),j=c(57247),k=c(44147);function l(){var a=(0,h.Z)(["\n  0% {\n    background-position: 50% 0%;\n  }\n  50% {\n    background-position: 50% 100%;\n  }\n  100% {\n    background-position: 50% 0%;\n  }\n"]);return l=function(){return a},a}function m(){var a=(0,h.Z)(["\n      animation: "," 3s ease infinite;\n      background-size: 400% 400%;\n    "]);return m=function(){return a},a}function n(){var a=(0,h.Z)(["\n  background: ",";\n  border-radius: ",";\n  color: ",";\n  overflow: hidden;\n  position: relative;\n\n  ","\n\n  padding: 1px 1px 3px 1px;\n\n  ","\n"]);return n=function(){return a},a}function o(){var a=(0,h.Z)(["\n  width: 100%;\n  height: 100%;\n  overflow: ",";\n  background: ",";\n  // background: rgba(255, 255, 255, 0.1);\n  border-radius: ",";\n"]);return o=function(){return a},a}var p=(0,i.F4)(l()),q=function(a){var b=a.isActive,c=a.isSuccess,d=a.isWarning,e=a.borderBackground,f=a.theme;return e||(d?f.colors.warning:c?f.colors.success:b?"linear-gradient(180deg, ".concat(f.colors.primaryBright,", ").concat(f.colors.secondary,")"):f.colors.cardBorder)},r=i.ZP.div.withConfig({componentId:"sc-4fb2107a-0"}).withConfig({componentId:"sc-f44fd48b-0"})(n(),q,function(a){return a.theme.radii.card},function(a){var b=a.theme,c=a.isDisabled;return b.colors[c?"textDisabled":"text"]},function(a){return a.isActive&&(0,i.iv)(m(),p)},j.Dh),s=(0,i.ZP)(k.Z).withConfig({componentId:"sc-4fb2107a-1"}).withConfig({componentId:"sc-f44fd48b-1"})(o(),function(a){return a.hasCustomBorder?"initial":"inherit"},function(a){var b=a.theme,c=a.background;return null!=c?c:b.card.background},function(a){return a.theme.radii.card});r.defaultProps={isActive:!1,isSuccess:!1,isWarning:!1,isDisabled:!1};var t=function(a){var b=a.ribbon,c=a.children,h=a.background,i=(0,f.Z)(a,["ribbon","children","background"]);return(0,g.jsx)(r,(0,e.Z)((0,d.Z)({},i),{children:(0,g.jsxs)(s,{background:h,hasCustomBorder:!!i.borderBackground,children:[b,c]})}))}},2258:function(a,b,c){var d=c(26042),e=c(69396),f=c(85893);c(67294);var g=c(44976),h=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 24 24"},a),{children:(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8382 2.20573L16.12 6.82916L21.2222 7.57057C22.9037 7.81489 23.5751 9.88123 22.3584 11.0672L18.6663 14.6661L19.5379 19.7477C19.8251 21.4224 18.0674 22.6995 16.5635 21.9088L11.9998 19.5096L7.43624 21.9088C5.93232 22.6995 4.17457 21.4224 4.4618 19.7477L5.33337 14.6661L1.64134 11.0672C0.424631 9.88125 1.09601 7.8149 2.77747 7.57057L7.87974 6.82916L10.1615 2.20573C10.9135 0.682081 13.0862 0.682068 13.8382 2.20573Z"})}))};b.Z=h},42432:function(a,b,c){var d=c(26042),e=c(69396),f=c(85893);c(67294);var g=c(44976),h=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 24 24"},a),{children:(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17726 8.2193C9.10443 8.36687 8.96365 8.46916 8.80079 8.49282L3.49187 9.26425C3.08176 9.32385 2.918 9.82783 3.21476 10.1171L7.05633 13.8617C7.17418 13.9766 7.22795 14.1421 7.20013 14.3043L6.29326 19.5917C6.22321 20.0002 6.65192 20.3117 7.01873 20.1188L11.7672 17.6224C11.9128 17.5458 12.0869 17.5458 12.2325 17.6224L16.981 20.1188C17.3478 20.3117 17.7765 20.0002 17.7064 19.5917L16.7996 14.3043C16.7718 14.1421 16.8255 13.9766 16.9434 13.8617L20.7849 10.1171C21.0817 9.82783 20.9179 9.32385 20.5078 9.26425L15.1989 8.49282C15.0361 8.46916 14.8953 8.36687 14.8224 8.2193L12.4482 3.4086C12.2648 3.03698 11.7349 3.03698 11.5515 3.4086L9.17726 8.2193ZM16.2669 6.62701L14.2417 2.52347C13.3247 0.665354 10.675 0.665354 9.75801 2.52347L7.73279 6.62701L3.20427 7.28504C1.15372 7.583 0.334945 10.1029 1.81874 11.5493L5.09561 14.7434L4.32204 19.2537C3.97177 21.2959 6.11535 22.8533 7.94942 21.8891L11.9999 19.7597L16.0503 21.8891C17.8844 22.8533 20.0279 21.2959 19.6777 19.2537L18.9041 14.7434L22.181 11.5493C23.6648 10.1029 22.846 7.583 20.7954 7.28504L16.2669 6.62701Z"})}))};b.Z=h},34810:function(a,b,c){c.d(b,{KX:function(){return ad},Mn:function(){return aj},JX:function(){return ab},jv:function(){return ah},lR:function(){return af},zV:function(){return ae},j8:function(){return ag},CN:function(){return am},B5:function(){return _},rf:function(){return $},Wz:function(){return aa},ku:function(){return an},Ws:function(){return al},"_n":function(){return ak},Q4:function(){return ao},Vq:function(){return ap},b0:function(){return ac},pV:function(){return ai}});var d=c(47568),e=c(34051),f=c.n(e),g=c(67294),h=c(9473),i=c(99982),j=c(12383),k=c(30734),l=c(82618),m=c(97119),n=c(7297),o=c(28687),p=c(61417),q=c(7269),r=c(42838);function s(){var a=(0,n.Z)(["\n      query pairDayDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {\n        pairDayDatas(\n          first: 1000\n          skip: $skip\n          where: { pairAddress: $address, date_gt: $startTime }\n          orderBy: date\n          orderDirection: asc\n        ) {\n          date\n          dailyVolumeUSD\n          reserveUSD\n        }\n      }\n    "]);return s=function(){return a},a}var t,u,v=(t=(0,d.Z)(f().mark(function a(b,c){var d,e,g;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,d=(0,o.gql)(s()),a.next=4,p.dQ.request(d,{startTime:q.Rr,skip:b,address:c});case 4:return g=(e=a.sent.pairDayDatas).map(r.Iq),a.abrupt("return",{data:g,error:!1});case 9:return a.prev=9,a.t0=a.catch(0),console.error("Failed to fetch pool chart data",a.t0),a.abrupt("return",{error:!0});case 13:case"end":return a.stop()}},a,null,[[0,9]])})),function(a,b){return t.apply(this,arguments)}),w=(u=(0,d.Z)(f().mark(function a(b){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,r.Hr)(v,b));case 1:case"end":return a.stop()}},a)})),function(a){return u.apply(this,arguments)}),x=c(36305);function y(){var a=(0,n.Z)(["\n  query poolTransactions($address: Bytes!) {\n    mints(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    swaps(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    burns(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n  }\n"]);return y=function(){return a},a}var z,A=(0,o.gql)(y()),B=(z=(0,d.Z)(f().mark(function a(b){var c,d,e,g;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.dQ.request(A,{address:b});case 3:return d=(c=a.sent).mints.map(r.k9),e=c.burns.map(r._h),g=c.swaps.map(r.H_),a.abrupt("return",{data:(0,x.Z)(d).concat((0,x.Z)(e),(0,x.Z)(g)),error:!1});case 10:return a.prev=10,a.t0=a.catch(0),console.error("Failed to fetch transactions for pool ".concat(b),a.t0),a.abrupt("return",{error:!0});case 14:case"end":return a.stop()}},a,null,[[0,10]])})),function(a){return z.apply(this,arguments)});function C(){var a=(0,n.Z)(["\n      query tokenDayDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {\n        tokenDayDatas(\n          first: 1000\n          skip: $skip\n          where: { token: $address, date_gt: $startTime }\n          orderBy: date\n          orderDirection: asc\n        ) {\n          date\n          dailyVolumeUSD\n          totalLiquidityUSD\n        }\n      }\n    "]);return C=function(){return a},a}var D,E,F=(D=(0,d.Z)(f().mark(function a(b,c){var d,e,g;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,d=(0,o.gql)(C()),a.next=4,p.dQ.request(d,{startTime:q.Rr,skip:b,address:c});case 4:return g=(e=a.sent.tokenDayDatas).map(r.v5),a.abrupt("return",{data:g,error:!1});case 9:return a.prev=9,a.t0=a.catch(0),console.error("Failed to fetch token chart data",a.t0),a.abrupt("return",{error:!0});case 13:case"end":return a.stop()}},a,null,[[0,9]])})),function(a,b){return D.apply(this,arguments)}),G=(E=(0,d.Z)(f().mark(function a(b){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,r.Hr)(F,b));case 1:case"end":return a.stop()}},a)})),function(a){return E.apply(this,arguments)});function H(){var a=(0,n.Z)(["\n  query tokenTransactions($address: Bytes!) {\n    mintsAs0: mints(first: 10, orderBy: timestamp, orderDirection: desc, where: { token0: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    mintsAs1: mints(first: 10, orderBy: timestamp, orderDirection: desc, where: { token1: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    swapsAs0: swaps(first: 10, orderBy: timestamp, orderDirection: desc, where: { token0: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    swapsAs1: swaps(first: 10, orderBy: timestamp, orderDirection: desc, where: { token1: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    burnsAs0: burns(first: 10, orderBy: timestamp, orderDirection: desc, where: { token0: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n    burnsAs1: burns(first: 10, orderBy: timestamp, orderDirection: desc, where: { token1: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n  }\n"]);return H=function(){return a},a}var I,J=(0,o.gql)(H()),K=(I=(0,d.Z)(f().mark(function a(b){var c,d,e,g,h,i,j;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.dQ.request(J,{address:b});case 3:return d=(c=a.sent).mintsAs0.map(r.k9),e=c.mintsAs1.map(r.k9),g=c.burnsAs0.map(r._h),h=c.burnsAs1.map(r._h),i=c.swapsAs0.map(r.H_),j=c.swapsAs1.map(r.H_),a.abrupt("return",{data:(0,x.Z)(d).concat((0,x.Z)(e),(0,x.Z)(g),(0,x.Z)(h),(0,x.Z)(i),(0,x.Z)(j)),error:!1});case 13:return a.prev=13,a.t0=a.catch(0),console.error("Failed to fetch transactions for token ".concat(b),a.t0),a.abrupt("return",{error:!0});case 17:case"end":return a.stop()}},a,null,[[0,13]])})),function(a){return I.apply(this,arguments)}),L=c(85003),M=c(26604),N=c(6680),O=c(75472),P=c.n(O);function Q(){var a=(0,n.Z)(["\n    query tokenPriceData {\n      ","\n    }\n  "]);return Q=function(){return a},a}var R,S=function(a,b){return b.map(function(b){return"\n      t".concat(b.timestamp,':token(id:"').concat(a,'", block: { number: ').concat(b.number," }) { \n        derivedBNB\n      }\n      b").concat(b.timestamp,': bundle(id:"1", block: { number: ').concat(b.number," }) { \n        bnbPrice\n      }\n    ")})},T=function(a){return(0,o.gql)(Q(),a)},U=(R=(0,d.Z)(f().mark(function a(b,c,d){var e,g,h,j,k,l,m,n,o;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=(0,i.Z)(new Date),g=[],h=d;h<=e;)g.push(h),h+=c;return a.prev=4,a.next=7,(0,L.z)(g,"asc",500);case 7:if(!(!(j=a.sent)||0===j.length)){a.next=11;break}return console.error("Error fetching blocks for timestamps",g),a.abrupt("return",{error:!1});case 11:return a.next=13,(0,M.L)(T,S(b,j),N.JY,200);case 13:if(k=a.sent){a.next=17;break}return console.error("Price data failed to load"),a.abrupt("return",{error:!1});case 17:for(l=[],Object.keys(k).forEach(function(a){var b,c=a.split("t")[1];c&&l.push({timestamp:c,derivedBNB:(null===(b=k[a])|| void 0===b?void 0:b.derivedBNB)?parseFloat(k[a].derivedBNB):0,priceUSD:0})}),Object.keys(k).forEach(function(a){var b=a.split("b")[1];if(b){var c=l.findIndex(function(a){return a.timestamp===b});if(c>=0){var d,e,f=l[c].derivedBNB;l[c].priceUSD=parseFloat(null!==(e=null===(d=k[a])|| void 0===d?void 0:d.bnbPrice)&& void 0!==e?e:0)*f}}}),m=P()(l,function(a){return parseInt(a.timestamp,10)}),n=[],o=0;o<m.length-1;o++)n.push({time:parseFloat(m[o].timestamp),open:m[o].priceUSD,close:m[o+1].priceUSD,high:m[o+1].priceUSD,low:m[o].priceUSD});return a.abrupt("return",{data:n,error:!1});case 26:return a.prev=26,a.t0=a.catch(4),console.error("Failed to fetch price data for token ".concat(b),a.t0),a.abrupt("return",{error:!0});case 30:case"end":return a.stop()}},a,null,[[4,26]])})),function(a,b,c){return R.apply(this,arguments)});function V(){var a=(0,n.Z)(["\n  query poolsForToken($address: Bytes!, $blacklist: [String!]) {\n    asToken0: pairs(\n      first: 15\n      orderBy: trackedReserveBNB\n      orderDirection: desc\n      where: { totalTransactions_gt: 100, token0: $address, token1_not_in: $blacklist }\n    ) {\n      id\n    }\n    asToken1: pairs(\n      first: 15\n      orderBy: trackedReserveBNB\n      orderDirection: desc\n      where: { totalTransactions_gt: 100, token1: $address, token0_not_in: $blacklist }\n    ) {\n      id\n    }\n  }\n"]);return V=function(){return a},a}var W,X=(0,o.gql)(V()),Y=(W=(0,d.Z)(f().mark(function a(b){var c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.dQ.request(X,{address:b,blacklist:q.tE});case 3:return c=a.sent,a.abrupt("return",{error:!1,addresses:c.asToken0.concat(c.asToken1).map(function(a){return a.id})});case 7:return a.prev=7,a.t0=a.catch(0),console.error("Failed to fetch pools for token ".concat(b),a.t0),a.abrupt("return",{error:!0});case 11:case"end":return a.stop()}},a,null,[[0,7]])})),function(a){return W.apply(this,arguments)}),Z=c(12232),$=function(){var a=(0,h.v9)(function(a){return a.info.protocol.overview}),b=(0,l.TL)(),c=(0,g.useCallback)(function(a){return b((0,Z.Uo)({protocolData:a}))},[b]);return[a,c]},_=function(){var a=(0,h.v9)(function(a){return a.info.protocol.chartData}),b=(0,l.TL)(),c=(0,g.useCallback)(function(a){return b((0,Z.bj)({chartData:a}))},[b]);return[a,c]},aa=function(){var a=(0,h.v9)(function(a){return a.info.protocol.transactions}),b=(0,l.TL)(),c=(0,g.useCallback)(function(a){return b((0,Z.oz)({transactions:a}))},[b]);return[a,c]},ab=function(){return(0,h.v9)(function(a){return a.info.pools.byAddress})},ac=function(){var a=(0,l.TL)();return(0,g.useCallback)(function(b){return a((0,Z.Bp)({pools:b}))},[a])},ad=function(){var a=(0,l.TL)();return(0,g.useCallback)(function(b){return a((0,Z.iF)({poolAddresses:b}))},[a])},ae=function(a){var b=ab(),c=ad(),d=a.reduce(function(a,c){return Object.keys(b).includes(c)||a.push(c),a},[]);return(0,g.useEffect)(function(){d&&c(d)},[c,d]),a.map(function(a){var c;return null===(c=b[a])|| void 0===c?void 0:c.data}).filter(function(a){return a})},af=function(a){var b=(0,l.TL)(),c=(0,h.v9)(function(b){return b.info.pools.byAddress[a]}),e=null==c?void 0:c.chartData,i=(0,g.useState)(!1),j=i[0],k=i[1];return(0,g.useEffect)(function(){var c,g=(c=(0,d.Z)(f().mark(function c(){var d,e,g;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,w(a);case 2:e=(d=c.sent).error,g=d.data,!e&&g&&b((0,Z.jw)({poolAddress:a,chartData:g})),e&&k(e);case 7:case"end":return c.stop()}},c)})),function(){return c.apply(this,arguments)});e||j||g()},[a,b,j,e]),e},ag=function(a){var b=(0,l.TL)(),c=(0,h.v9)(function(b){return b.info.pools.byAddress[a]}),e=null==c?void 0:c.transactions,i=(0,g.useState)(!1),j=i[0],k=i[1];return(0,g.useEffect)(function(){var c,g=(c=(0,d.Z)(f().mark(function c(){var d,e,g;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,B(a);case 2:e=(d=c.sent).error,g=d.data,e?k(!0):b((0,Z.oG)({poolAddress:a,transactions:g}));case 6:case"end":return c.stop()}},c)})),function(){return c.apply(this,arguments)});e||j||g()},[a,b,j,e]),e},ah=function(){return(0,h.v9)(function(a){return a.info.tokens.byAddress})},ai=function(){var a=(0,l.TL)();return(0,g.useCallback)(function(b){a((0,Z.I6)({tokens:b}))},[a])},aj=function(){var a=(0,l.TL)();return(0,g.useCallback)(function(b){return a((0,Z.uP)({tokenAddresses:b}))},[a])},ak=function(a){var b=ah(),c=aj();return null==a||a.forEach(function(a){b[a]||c([a])}),(0,g.useMemo)(function(){if(a)return a.map(function(a){var c;return null===(c=b[a])|| void 0===c?void 0:c.data}).filter(function(a){return a})},[a,b])},al=function(a){var b,c=ah(),d=aj();if(a&&(0,m.UJ)(a))return c[a]||d([a]),null===(b=c[a])|| void 0===b?void 0:b.data},am=function(a){var b=(0,l.TL)(),c=(0,h.v9)(function(b){return b.info.tokens.byAddress[a]}).poolAddresses,e=(0,g.useState)(!1),i=e[0],j=e[1];return(0,g.useEffect)(function(){var e,g=(e=(0,d.Z)(f().mark(function c(){var d,e,g;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Y(a);case 2:e=(d=c.sent).error,g=d.addresses,!e&&g&&b((0,Z.TV)({tokenAddress:a,poolAddresses:g})),e&&j(e);case 7:case"end":return c.stop()}},c)})),function(){return e.apply(this,arguments)});c||i||g()},[a,b,i,c]),c},an=function(a){var b=(0,l.TL)(),c=(0,h.v9)(function(b){return b.info.tokens.byAddress[a]}).chartData,e=(0,g.useState)(!1),i=e[0],j=e[1];return(0,g.useEffect)(function(){var e,g=(e=(0,d.Z)(f().mark(function c(){var d,e,g;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,G(a);case 2:e=(d=c.sent).error,g=d.data,!e&&g&&b((0,Z.fo)({tokenAddress:a,chartData:g})),e&&j(e);case 7:case"end":return c.stop()}},c)})),function(){return e.apply(this,arguments)});c||i||g()},[a,b,i,c]),c},ao=function(a,b,c){var e=(0,l.TL)(),m=(0,h.v9)(function(b){return b.info.tokens.byAddress[a]}),n=null==m?void 0:m.priceData[b],o=(0,g.useState)(!1),p=o[0],q=o[1],r=null==m?void 0:m.priceData.oldestFetchedTimestamp,s=1e3*(0,i.Z)(new Date),t=(0,i.Z)((0,j.Z)((0,k.Z)(s,c)));return(0,g.useEffect)(function(){var c,g=(c=(0,d.Z)(f().mark(function c(){var d,g,h;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,U(a,b,t);case 2:g=(d=c.sent).data,h=d.error,g&&e((0,Z.Db)({tokenAddress:a,secondsInterval:b,priceData:g,oldestFetchedTimestamp:t})),h&&q(!0);case 7:case"end":return c.stop()}},c)})),function(){return c.apply(this,arguments)});n||p||g()},[a,e,p,b,r,n,t,c]),n},ap=function(a){var b=(0,l.TL)(),c=(0,h.v9)(function(b){return b.info.tokens.byAddress[a]}).transactions,e=(0,g.useState)(!1),i=e[0],j=e[1];return(0,g.useEffect)(function(){var e,g=(e=(0,d.Z)(f().mark(function c(){var d,e,g;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,K(a);case 2:e=(d=c.sent).error,g=d.data,e?j(!0):g&&b((0,Z.Mw)({tokenAddress:a,transactions:g}));case 6:case"end":return c.stop()}},c)})),function(){return e.apply(this,arguments)});c||i||g()},[a,b,i,c]),c}},42838:function(a,b,c){c.d(b,{H_:function(){return o},Hr:function(){return r},Iq:function(){return q},"_h":function(){return n},k9:function(){return m},v5:function(){return p}});var d,e=c(47568),f=c(34051),g=c.n(f),h=c(17204),i=c.n(h),j=c(7269),k=c(99982),l=c(73806),m=function(a){return{type:l.i.MINT,hash:a.id.split("-")[0],timestamp:a.timestamp,sender:a.to,token0Symbol:a.pair.token0.symbol,token1Symbol:a.pair.token1.symbol,token0Address:a.pair.token0.id,token1Address:a.pair.token1.id,amountUSD:parseFloat(a.amountUSD),amountToken0:parseFloat(a.amount0),amountToken1:parseFloat(a.amount1)}},n=function(a){return{type:l.i.BURN,hash:a.id.split("-")[0],timestamp:a.timestamp,sender:a.sender,token0Symbol:a.pair.token0.symbol,token1Symbol:a.pair.token1.symbol,token0Address:a.pair.token0.id,token1Address:a.pair.token1.id,amountUSD:parseFloat(a.amountUSD),amountToken0:parseFloat(a.amount0),amountToken1:parseFloat(a.amount1)}},o=function(a){return{type:l.i.SWAP,hash:a.id.split("-")[0],timestamp:a.timestamp,sender:a.from,token0Symbol:a.pair.token0.symbol,token1Symbol:a.pair.token1.symbol,token0Address:a.pair.token0.id,token1Address:a.pair.token1.id,amountUSD:parseFloat(a.amountUSD),amountToken0:parseFloat(a.amount0In)-parseFloat(a.amount0Out),amountToken1:parseFloat(a.amount1In)-parseFloat(a.amount1Out)}},p=function(a){return{date:a.date,volumeUSD:parseFloat(a.dailyVolumeUSD),liquidityUSD:parseFloat(a.totalLiquidityUSD)}},q=function(a){return{date:a.date,volumeUSD:parseFloat(a.dailyVolumeUSD),liquidityUSD:parseFloat(a.reserveUSD)}},r=(d=(0,e.Z)(g().mark(function a(b,c){var d,e,f,h,l,m,n,o,p,q,r,s,t,u,v,w;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d=[],e=!1,f=0,h=!1;case 4:if(h){a.next=16;break}return a.next=7,b(f,c);case 7:m=(l=a.sent).data,n=l.error,f+=1e3,h=(null==m?void 0:m.length)<1e3,e=n,m&&(d=d.concat(m)),a.next=4;break;case 16:if(!(e||0===d.length)){a.next=18;break}return a.abrupt("return",{error:!0});case 18:for(p=Object.keys(o=i()(d.map(function(a){return[parseInt((a.date/j.Bq).toFixed(0)),a]}))).map(function(a){return parseInt(a,10)}),q=o[p[0]],s=null!==(r=null==q?void 0:q.date)&& void 0!==r?r:j.Rr,u=null!==(t=null==q?void 0:q.liquidityUSD)&& void 0!==t?t:0,v=(0,k.Z)(new Date);s<v-j.Bq;)s+=j.Bq,w=parseInt((s/j.Bq).toFixed(0),10),Object.keys(o).includes(w.toString())?u=o[w].liquidityUSD:o[w]={date:s,volumeUSD:0,liquidityUSD:u};return a.abrupt("return",{data:Object.values(o),error:!1});case 28:case"end":return a.stop()}},a)})),function(a,b){return d.apply(this,arguments)})},73806:function(a,b,c){var d,e;c.d(b,{i:function(){return d}}),(e=d||(d={}))[e.SWAP=0]="SWAP",e[e.MINT=1]="MINT",e[e.BURN=2]="BURN"},14067:function(a,b,c){c.d(b,{X:function(){return r},g:function(){return t}});var d=c(26042),e=c(99534),f=c(7297),g=c(85893),h=c(67294),i=c(87379),j=c(97119),k=c(69396),l=c(95160),m=[],n=function(a){var b=a.src,c=a.alt,f=(0,e.Z)(a,["src","alt"]),i=(0,h.useState)(0)[1],j=m.includes(b);return b&&!j?(0,g.jsx)("img",(0,k.Z)((0,d.Z)({},f),{alt:c,src:b,onError:function(){b&&m.push(b),i(function(a){return a+1})}})):(0,g.jsx)(l.Z,(0,d.Z)({},f))};function o(){var a=(0,f.Z)(["\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  box-shadow: 0px 6px 10px rgba(0, 0, 0, 0.075);\n  background-color: ",";\n  color: ",";\n"]);return o=function(){return a},a}function p(){var a=(0,f.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 32px;\n"]);return p=function(){return a},a}var q=(0,i.ZP)(n).withConfig({componentId:"sc-b53c968a-0"})(o(),function(a){return a.size},function(a){return a.size},function(a){return a.size},function(a){return a.theme.colors.background},function(a){return a.theme.colors.text}),r=function(a){var b=a.address,c=a.size,f=(0,e.Z)(a,["address","size"]),i=(0,h.useMemo)(function(){var a=(0,j.UJ)(b);return a?"https://assets-cdn.trustwallet.com/blockchains/smartchain/assets/".concat(a,"/logo.png"):null},[b]);return(0,g.jsx)(q,(0,d.Z)({size:void 0===c?"24px":c,src:i,alt:"token logo"},f))},s=i.ZP.div.withConfig({componentId:"sc-b53c968a-1"})(p()),t=function(a){var b=a.address0,c=a.address1,d=a.size,e=void 0===d?16:d;return(0,g.jsxs)(s,{children:[b&&(0,g.jsx)(r,{address:b,size:"".concat(e.toString(),"px")}),c&&(0,g.jsx)(r,{address:c,size:"".concat(e.toString(),"px")})]})}},36795:function(a,b,c){c.d(b,{Eh:function(){return p},Ob:function(){return o},SS:function(){return q},"_J":function(){return m},y6:function(){return n}});var d=c(7297),e=c(87379),f=c(62077),g=c(75943);function h(){var a=(0,d.Z)(["\n  cursor: pointer;\n"]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n  width: 100%;\n  padding-top: 16px;\n  flex-direction: column;\n  gap: 16px;\n  background-color: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n"]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 0.2em;\n  margin-bottom: 1.2em;\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)(["\n  color: ",";\n  padding: 0 20px;\n  :hover {\n    cursor: pointer;\n  }\n"]);return k=function(){return a},a}function l(){var a=(0,d.Z)(["\n  height: 1px;\n  background-color: ",";\n  width: 100%;\n"]);return l=function(){return a},a}var m=(0,e.ZP)(f.Z).withConfig({componentId:"sc-4dd460a5-0"})(h()),n=(0,e.ZP)(g.Z).withConfig({componentId:"sc-4dd460a5-1"})(i(),function(a){return a.theme.card.background},function(a){return a.theme.radii.card},function(a){return a.theme.colors.cardBorder}),o=e.ZP.div.withConfig({componentId:"sc-4dd460a5-2"})(j()),p=e.ZP.div.withConfig({componentId:"sc-4dd460a5-3"})(k(),function(a){return a.theme.colors.primary}),q=e.ZP.div.withConfig({componentId:"sc-4dd460a5-4"})(l(),function(a){return a.theme.colors.cardBorder})},46573:function(a,b,c){var d=c(26042),e=c(69396),f=c(99534),g=c(7297),h=c(85893),i=c(87379),j=c(2258),k=c(42432),l=c(63850);function m(){var a=(0,g.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"]);return m=function(){return a},a}var n=i.ZP.div.withConfig({componentId:"sc-aaa78dec-0"})(m()),o=function(a){var b=a.fill,c=(0,f.Z)(a,["fill"]),g=(0,l.ZP)().theme;return(0,h.jsx)(n,(0,e.Z)((0,d.Z)({},c),{children:void 0!==b&&b?(0,h.jsx)(j.Z,{stroke:g.colors.warning,color:g.colors.warning}):(0,h.jsx)(k.Z,{stroke:g.colors.textDisabled})}))};b.Z=o},44138:function(a,b,c){c.d(b,{O:function(){return aW}});var d=c(85893),e=c(47568),f=c(10253),g=c(34051),h=c.n(g),i=c(67294),j=c(7297),k=c(28687),l=c(61417),m=c(28839),n=c(45802),o=c(57487),p=c(86535);function q(){var a=(0,j.Z)(["query overview {\n      pancakeFactories(\n        ","\n        first: 1) {\n        totalTransactions\n        totalVolumeUSD\n        totalLiquidityUSD\n      }\n    }"]);return q=function(){return a},a}var r,s=(r=(0,e.Z)(h().mark(function a(b){var c,d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=(0,k.gql)(q(),b?"block: { number: ".concat(b,"}"):""),a.next=4,l.dQ.request(c);case 4:return d=a.sent,a.abrupt("return",{data:d,error:!1});case 8:return a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch info overview",a.t0),a.abrupt("return",{data:null,error:!0});case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a){return r.apply(this,arguments)}),t=function(a){return a?{totalTransactions:parseFloat(a.totalTransactions),totalVolumeUSD:parseFloat(a.totalVolumeUSD),totalLiquidityUSD:parseFloat(a.totalLiquidityUSD)}:null},u=function(){var a=(0,i.useState)({error:!1}),b=a[0],c=a[1],d=(0,f.Z)((0,n.z)(),2),g=d[0],j=d[1],k=(0,o.Z)([g,j]),l=k.blocks,q=k.error,r=(0,f.Z)(null!=l?l:[],2),u=r[0],v=r[1];return(0,i.useEffect)(function(){var a,d=(a=(0,e.Z)(h().mark(function a(){var b,d,e,g,i,j,k,l,n,o,q,r,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=f.Z,a.next=5,Promise.all([s(),s(null!==(g=null==u?void 0:u.number)&& void 0!==g?g:void 0),s(null!==(i=null==v?void 0:v.number)&& void 0!==i?i:void 0),]);case 5:a.t1=a.sent,l=(k=(j=(0,a.t0)(a.t1,3))[0]).error,n=k.data,o=j[1],q=o.error,r=o.data,w=j[2],x=w.error,y=w.data,z=l||q||x,A=t(null==n?void 0:null===(b=n.pancakeFactories)|| void 0===b?void 0:b[0]),B=t(null==r?void 0:null===(d=r.pancakeFactories)|| void 0===d?void 0:d[0]),C=t(null==y?void 0:null===(e=y.pancakeFactories)|| void 0===e?void 0:e[0]),D=A&&B&&C,z||!D?c({error:!0}):(F=(E=(0,f.Z)((0,m.T)(A.totalVolumeUSD,B.totalVolumeUSD,C.totalVolumeUSD),2))[0],G=E[1],H=(0,p.Y)(A.totalLiquidityUSD,B.totalLiquidityUSD),J=(I=(0,f.Z)((0,m.T)(A.totalTransactions,B.totalTransactions,C.totalTransactions),2))[0],K=I[1],c({error:!1,data:L={volumeUSD:F,volumeUSDChange:"number"==typeof G?G:0,liquidityUSD:A.totalLiquidityUSD,liquidityUSDChange:H,txCount:J,txCountChange:K}}));case 22:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});(null==u?void 0:u.number)&&(null==v?void 0:v.number)&&!q&&!b.data&&d()},[u,v,q,b]),b},v=c(7269),w=c(42838);function x(){var a=(0,j.Z)(["\n  query overviewCharts($startTime: Int!, $skip: Int!) {\n    pancakeDayDatas(first: 1000, skip: $skip, where: { date_gt: $startTime }, orderBy: date, orderDirection: asc) {\n      date\n      dailyVolumeUSD\n      totalLiquidityUSD\n    }\n  }\n"]);return x=function(){return a},a}var y,z=(0,k.gql)(x()),A=(y=(0,e.Z)(h().mark(function a(b){var c,d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.dQ.request(z,{startTime:v.Rr,skip:b});case 3:return d=(c=a.sent.pancakeDayDatas).map(w.v5),a.abrupt("return",{data:d,error:!1});case 8:return a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch overview chart data",a.t0),a.abrupt("return",{error:!0});case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a){return y.apply(this,arguments)}),B=function(){var a=(0,i.useState)(),b=a[0],c=a[1],d=(0,i.useState)(!1),f=d[0],g=d[1];return(0,i.useEffect)(function(){var a,d=(a=(0,e.Z)(h().mark(function a(){var b;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,w.Hr)(A);case 2:(b=a.sent.data)?c(b):g(!0);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});b||f||d()},[b,f]),{error:f,data:b}},C=c(36305);function D(){var a=(0,j.Z)(["\n  query overviewTransactions {\n    mints: mints(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    swaps: swaps(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    burns: burns(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n  }\n"]);return D=function(){return a},a}var E,F=(0,k.gql)(D()),G=(E=(0,e.Z)(h().mark(function a(){var b,c,d,e;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.dQ.request(F);case 3:if(b=a.sent){a.next=6;break}return a.abrupt("return",void 0);case 6:return c=b.mints.map(w.k9),d=b.burns.map(w._h),e=b.swaps.map(w.H_),a.abrupt("return",(0,C.Z)(c).concat((0,C.Z)(d),(0,C.Z)(e)).sort(function(a,b){return parseInt(b.timestamp,10)-parseInt(a.timestamp,10)}));case 12:return a.prev=12,a.t0=a.catch(0),a.abrupt("return",void 0);case 15:case"end":return a.stop()}},a,null,[[0,12]])})),function(){return E.apply(this,arguments)});function H(){var a=(0,j.Z)(["\n      query topPools($blacklist: [String!], $timestamp24hAgo: Int) {\n        pairDayDatas(\n          first: 30\n          where: { dailyTxns_gt: 300, token0_not_in: $blacklist, token1_not_in: $blacklist, date_gt: $timestamp24hAgo }\n          orderBy: dailyVolumeUSD\n          orderDirection: desc\n        ) {\n          id\n        }\n      }\n    "]);return H=function(){return a},a}var I,J=(I=(0,e.Z)(h().mark(function a(b){var c,d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=(0,k.gql)(H()),a.next=4,l.dQ.request(c,{blacklist:v.tE,timestamp24hAgo:b});case 4:return d=a.sent,a.abrupt("return",d.pairDayDatas.map(function(a){return a.id.split("-")[0]}));case 8:return a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch top pools",a.t0),a.abrupt("return",[]);case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a){return I.apply(this,arguments)}),K=function(){var a=(0,i.useState)([]),b=a[0],c=a[1],d=(0,f.Z)((0,n.z)(),1)[0];return(0,i.useEffect)(function(){var a,f=(a=(0,e.Z)(h().mark(function a(){var b;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J(d);case 2:c(b=a.sent);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});0===b.length&&f()},[b,d]),b},L=c(72505),M=c(26042),N=c(69396);function O(){var a=(0,j.Z)(["\n      query tokens {\n        now: ","\n        oneDayAgo: ","\n        twoDaysAgo: ","\n        oneWeekAgo: ","\n        twoWeeksAgo: ","\n      }\n    "]);return O=function(){return a},a}var P,Q=function(a,b){var c='["'.concat(b.join('","'),'"]'),d=a?"block: {number: ".concat(a,"}"):"";return"tokens(\n      where: {id_in: ".concat(c,"}\n      ").concat(d,"\n      orderBy: tradeVolumeUSD\n      orderDirection: desc\n    ) {\n      id\n      symbol\n      name\n      derivedBNB\n      derivedUSD\n      tradeVolumeUSD\n      totalTransactions\n      totalLiquidity\n    }\n  ")},R=(P=(0,e.Z)(h().mark(function a(b,c,d,e,f){var g,i;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,g=(0,k.gql)(O(),Q(null,f),Q(b,f),Q(c,f),Q(d,f),Q(e,f)),a.next=4,l.dQ.request(g);case 4:return i=a.sent,a.abrupt("return",{data:i,error:!1});case 8:return a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch token data",a.t0),a.abrupt("return",{error:!0});case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a,b,c,d,e){return P.apply(this,arguments)}),S=function(a){return a?a.reduce(function(a,b){var c=b.derivedBNB,d=b.derivedUSD,e=b.tradeVolumeUSD,f=b.totalTransactions,g=b.totalLiquidity;return a[b.id]=(0,N.Z)((0,M.Z)({},b),{derivedBNB:parseFloat(c),derivedUSD:parseFloat(d),tradeVolumeUSD:parseFloat(e),totalTransactions:parseFloat(f),totalLiquidity:parseFloat(g)}),a},{}):{}},T=function(a){var b=(0,i.useState)({error:!1}),c=b[0],d=b[1],g=(0,f.Z)((0,n.z)(),4),j=g[0],k=g[1],l=g[2],q=g[3],r=(0,o.Z)([j,k,l,q]),s=r.blocks,t=r.error,u=(0,f.Z)(null!=s?s:[],4),v=u[0],w=u[1],x=u[2],y=u[3];return(0,i.useEffect)(function(){var b,c=(b=(0,e.Z)(h().mark(function b(){var c,e,g,i,j,k,l,n,o;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,R(v.number,w.number,x.number,y.number,a);case 2:e=(c=b.sent).error,g=c.data,e?d({error:!0}):(i=S(null==g?void 0:g.now),j=S(null==g?void 0:g.oneDayAgo),k=S(null==g?void 0:g.twoDaysAgo),l=S(null==g?void 0:g.oneWeekAgo),n=S(null==g?void 0:g.twoWeeksAgo),o=a.reduce(function(a,b){var c=i[b],d=j[b],e=k[b],g=l[b],h=n[b],o=(0,f.Z)((0,m.T)(null==c?void 0:c.tradeVolumeUSD,null==d?void 0:d.tradeVolumeUSD,null==e?void 0:e.tradeVolumeUSD),2),q=o[0],r=o[1],s=(0,f.Z)((0,m.T)(null==c?void 0:c.tradeVolumeUSD,null==g?void 0:g.tradeVolumeUSD,null==h?void 0:h.tradeVolumeUSD),1),t=s[0],u=c?c.totalLiquidity*c.derivedUSD:0,v=d?d.totalLiquidity*d.derivedUSD:0,w=(0,p.Y)(u,v),x=c?c.totalLiquidity:0,y=c?c.derivedUSD:0,z=d?d.derivedUSD:0,A=g?g.derivedUSD:0,B=(0,p.Y)(y,z),C=(0,p.Y)(y,A),D=(0,p.D)(null==c?void 0:c.totalTransactions,null==d?void 0:d.totalTransactions);return a[b]={exists:!!c,address:b,name:c?c.name:"",symbol:c?c.symbol:"",volumeUSD:q,volumeUSDChange:r,volumeUSDWeek:t,txCount:D,liquidityUSD:u,liquidityUSDChange:w,liquidityToken:x,priceUSD:y,priceUSDChange:B,priceUSDChangeWeek:C},a},{}),d({data:o,error:!1}));case 6:case"end":return b.stop()}},b)})),function(){return b.apply(this,arguments)}),g=(null==v?void 0:v.number)&&(null==w?void 0:w.number)&&(null==x?void 0:x.number)&&(null==y?void 0:y.number);a.length>0&&g&&!t&&c()},[a,v,w,x,y,t]),c};function U(){var a=(0,j.Z)(["\n      query topTokens($blacklist: [String!], $timestamp24hAgo: Int) {\n        tokenDayDatas(\n          first: 30\n          where: { dailyTxns_gt: 300, id_not_in: $blacklist, date_gt: $timestamp24hAgo }\n          orderBy: dailyVolumeUSD\n          orderDirection: desc\n        ) {\n          id\n        }\n      }\n    "]);return U=function(){return a},a}var V,W=(V=(0,e.Z)(h().mark(function a(b){var c,d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=(0,k.gql)(U()),a.next=4,l.dQ.request(c,{blacklist:v.tE,timestamp24hAgo:b});case 4:return d=a.sent,a.abrupt("return",d.tokenDayDatas.map(function(a){return a.id.split("-")[0]}));case 8:return a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch top tokens",a.t0),a.abrupt("return",[]);case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a){return V.apply(this,arguments)}),X=function(){var a=(0,i.useState)([]),b=a[0],c=a[1],d=(0,f.Z)((0,n.z)(),1)[0];return(0,i.useEffect)(function(){var a,f=(a=(0,e.Z)(h().mark(function a(){var b;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W(d);case 2:c(b=a.sent);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});0===b.length&&f()},[b,d]),b},Y=c(34810),Z=function(){var a=(0,f.Z)((0,Y.rf)(),2),b=a[0],c=a[1],d=u(),g=d.data,j=d.error,k=(0,f.Z)((0,Y.B5)(),2),l=k[0],m=k[1],n=B(),o=n.data,p=n.error,q=(0,f.Z)((0,Y.Wz)(),2),r=q[0],s=q[1];return(0,i.useEffect)(function(){void 0===b&&g&&!j&&c(g)},[j,g,b,c]),(0,i.useEffect)(function(){void 0===l&&o&&!p&&m(o)},[l,p,o,m]),(0,i.useEffect)(function(){var a,b=(a=(0,e.Z)(h().mark(function a(){var b;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,G();case 2:(b=a.sent)&&s(b);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});r||b()},[r,s]),null},$=function(){var a=(0,Y.b0)(),b=(0,Y.KX)(),c=(0,Y.JX)(),d=K();(0,i.useEffect)(function(){d.length>0&&b(d)},[b,d]);var e=(0,i.useMemo)(function(){return Object.keys(c).reduce(function(a,b){return c[b].data||a.push(b),a},[])},[c]),f=(0,L.ZP)(e),g=f.error,h=f.data;return(0,i.useEffect)(function(){h&&!g&&a(Object.values(h))},[g,h,a]),null},_=function(){var a=(0,Y.pV)(),b=(0,Y.Mn)(),c=(0,Y.jv)(),d=X();(0,i.useEffect)(function(){d.length>0&&b(d)},[b,d]);var e=(0,i.useMemo)(function(){return Object.keys(c).reduce(function(a,b){return c[b].data||a.push(b),a},[])},[c]),f=T(e),g=f.error,h=f.data;return(0,i.useEffect)(function(){h&&!g&&a(Object.values(h))},[g,h,a]),null},aa=c(75943),ab=c(44147),ac=c(12587),ad=c(51983),ae=c(12966),af=c(52775),ag=c(11163),ah=c(87379),ai=c(32762),aj=c(34701),ak=c(62685),al=c(62077);function am(){var a=(0,j.Z)(["\n  query tokens($symbol: String, $name: String, $id: String) {\n    asSymbol: tokens(first: 10, where: { symbol_contains: $symbol }, orderBy: tradeVolumeUSD, orderDirection: desc) {\n      id\n    }\n    asName: tokens(first: 10, where: { name_contains: $name }, orderBy: tradeVolumeUSD, orderDirection: desc) {\n      id\n    }\n    asAddress: tokens(first: 1, where: { id: $id }, orderBy: tradeVolumeUSD, orderDirection: desc) {\n      id\n    }\n  }\n"]);return am=function(){return a},a}function an(){var a=(0,j.Z)(["\n  query pools($tokens: [Bytes]!, $id: String) {\n    as0: pairs(first: 10, where: { token0_in: $tokens }) {\n      id\n    }\n    as1: pairs(first: 10, where: { token1_in: $tokens }) {\n      id\n    }\n    asAddress: pairs(first: 1, where: { id: $id }) {\n      id\n    }\n  }\n"]);return an=function(){return a},a}var ao=(0,k.gql)(am()),ap=(0,k.gql)(an()),aq=function(a){var b=a.reduce(function(a,b){return(0,C.Z)(a).concat((0,C.Z)(b))},[]).map(function(a){return a.id});return Array.from(new Set(b))},ar=function(a){var b=(0,i.useState)({tokens:[],pools:[],loading:!1,error:!1}),c=b[0],d=b[1],f=a.length<v.OZ;(0,i.useEffect)(function(){d({tokens:[],pools:[],loading:!f,error:!1})},[a,f]),(0,i.useEffect)(function(){var b,c=(b=(0,e.Z)(h().mark(function b(){var c,e,f;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,l.dQ.request(ao,{symbol:a.toUpperCase(),name:a.charAt(0).toUpperCase()+a.slice(1),id:a.toLowerCase()});case 3:return e=aq([(c=b.sent).asAddress,c.asSymbol,c.asName]),b.next=7,l.dQ.request(ap,{tokens:e,id:a.toLowerCase()});case 7:d({tokens:e,pools:aq([(f=b.sent).asAddress,f.as0,f.as1]),loading:!1,error:!1}),b.next=15;break;case 11:b.prev=11,b.t0=b.catch(0),console.error("Search failed for ".concat(a),b.t0),d({tokens:[],pools:[],loading:!1,error:!0});case 15:case"end":return b.stop()}},b,null,[[0,11]])})),function(){return b.apply(this,arguments)});f||c()},[a,f]);var g=(0,Y._n)(c.tokens),j=(0,Y.zV)(c.pools),k=g.length!==c.tokens.length||c.loading,m=j.length!==c.pools.length||c.loading;return{tokens:g,pools:j,tokensLoading:k,poolsLoading:m,error:c.error}},as=c(14067),at=c(59604),au=c(921),av=c(46573),aw=c(52687),ax=c(75472),ay=c.n(ax);function az(){var a=(0,j.Z)(["\n  position: relative;\n  z-index: 30;\n  width: 100%;\n"]);return az=function(){return a},a}function aA(){var a=(0,j.Z)(["\n  z-index: 9999;\n  border: 1px solid ",";\n"]);return aA=function(){return a},a}function aB(){var a=(0,j.Z)(["\n  display: ",";\n  flex-direction: column;\n  z-index: 9999;\n  width: 100%;\n  top: 50px;\n  max-height: 400px;\n  overflow: auto;\n  right: 0;\n  padding: 1.5rem;\n  padding-bottom: 2.5rem;\n  position: absolute;\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.04);\n  border: 1px solid ",";\n  margin-top: 4px;\n  "," {\n    margin-top: 0;\n    width: 500px;\n    max-height: 600px;\n  }\n  "," {\n    margin-top: 0;\n    width: 800px;\n    max-height: 600px;\n  }\n"]);return aB=function(){return a},a}function aC(){var a=(0,j.Z)(["\n  position: absolute;\n  min-height: 100vh;\n  width: 100vw;\n  z-index: 10;\n  background-color: black;\n  opacity: 0.7;\n  left: 0;\n  top: 0;\n"]);return aC=function(){return a},a}function aD(){var a=(0,j.Z)(["\n  display: grid;\n  grid-gap: 1em;\n  grid-template-columns: 1fr;\n  margin: 8px 0;\n  align-items: center;\n  "," {\n    grid-template-columns: 1.5fr repeat(3, 1fr);\n  }\n"]);return aD=function(){return a},a}function aE(){var a=(0,j.Z)(["\n  height: 1px;\n  background-color: ",";\n  width: 100%;\n  margin: 16px 0;\n"]);return aE=function(){return a},a}function aF(){var a=(0,j.Z)(["\n  color: ",";\n  display: ",";\n  margin-top: 16px;\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"]);return aF=function(){return a},a}function aG(){var a=(0,j.Z)(["\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"]);return aG=function(){return a},a}function aH(){var a=(0,j.Z)(["\n  width: fit-content;\n  padding: 4px 8px;\n  border-radius: 8px;\n  display: flex;\n  font-size: 12px;\n  font-weight: 600;\n  margin-right: 10px;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  color: ",";\n  :hover {\n    opacity: 0.6;\n    cursor: pointer;\n  }\n"]);return aH=function(){return a},a}var aI=ah.ZP.div.withConfig({componentId:"sc-1fd71e1b-0"})(az()),aJ=(0,ah.ZP)(ai.Z).withConfig({componentId:"sc-1fd71e1b-1"})(aA(),function(a){return a.theme.colors.inputSecondary}),aK=ah.ZP.div.withConfig({componentId:"sc-1fd71e1b-2"})(aB(),function(a){return a.hide?"none":"flex"},function(a){return a.theme.colors.background},function(a){return a.theme.colors.secondary},function(a){return a.theme.mediaQueries.sm},function(a){return a.theme.mediaQueries.md}),aL=ah.ZP.div.withConfig({componentId:"sc-1fd71e1b-3"})(aC()),aM=ah.ZP.div.withConfig({componentId:"sc-1fd71e1b-4"})(aD(),function(a){return a.theme.mediaQueries.sm}),aN=ah.ZP.div.withConfig({componentId:"sc-1fd71e1b-5"})(aE(),function(a){return a.theme.colors.cardBorder}),aO=ah.ZP.div.withConfig({componentId:"sc-1fd71e1b-6"})(aF(),function(a){return a.theme.colors.secondary},function(a){return a.hide?"none":"block"}),aP=ah.ZP.div.withConfig({componentId:"sc-1fd71e1b-7"})(aG()),aQ=ah.ZP.div.withConfig({componentId:"sc-1fd71e1b-8"})(aH(),function(a){var b=a.theme,c=a.enabled;return c?b.colors.primary:"transparent"},function(a){var b=a.theme;return a.enabled?b.card.background:b.colors.secondary}),aR=function(a,b){return a.address.toLowerCase().includes(b.toLowerCase())||a.symbol.toLowerCase().includes(b.toLowerCase())||a.name.toLowerCase().includes(b.toLowerCase())},aS=function(){var a=(0,ag.useRouter)(),b=(0,aj.Z)(),c=b.isXs,e=b.isSm,g=(0,af.$G)().t,h=(0,i.useRef)(null),j=(0,i.useRef)(null),k=(0,i.useRef)(null),l=(0,i.useState)(!1),m=l[0],n=l[1],o=(0,i.useState)(""),p=o[0],q=o[1],r=(0,aw.Z)(p,600),s=ar(r),t=s.tokens,u=s.pools,w=s.tokensLoading,x=s.poolsLoading,y=s.error,z=(0,i.useState)(3),A=z[0],B=z[1],C=(0,i.useState)(3),D=C[0],E=C[1];(0,i.useEffect)(function(){B(3),E(3)},[r]);var F=function(a){var b=j.current&&j.current.contains(a.target),c=h.current&&h.current.contains(a.target),d=k.current&&k.current.contains(a.target);b||c||d||(E(3),B(3),n(!1))};(0,i.useEffect)(function(){return m?(document.addEventListener("click",F),document.querySelector("body").style.overflow="hidden"):(document.removeEventListener("click",F),document.querySelector("body").style.overflow="visible"),function(){document.removeEventListener("click",F)}},[m]);var G,H,I,J,K,L,M,N,O=(0,f.Z)((0,au.z6)(),2),P=O[0],Q=O[1],R=(0,f.Z)((0,au.Hx)(),2),S=R[0],T=R[1],U=function(b){n(!1),E(3),B(3),a.push(b)},V=(0,Y._n)(P),W=V.length!==P.length,X=(0,Y.zV)(S),Z=X.length!==S.length,$=(0,i.useState)(!1),_=$[0],ab=$[1],ac=(0,i.useMemo)(function(){return _?V.filter(function(a){return aR(a,p)}):ay()(t,function(a){return a.volumeUSD},"desc")},[_,t,V,p]),ad=(0,i.useMemo)(function(){return _?X.filter(function(a){var b,c;return b=a,c=p,b.address.toLowerCase().includes(c.toLowerCase())||aR(b.token0,c)||aR(b.token1,c)}):ay()(u,function(a){return a.volumeUSD},"desc")},[u,_,X,p]);return(0,d.jsxs)(d.Fragment,{children:[m?(0,d.jsx)(aL,{}):null,(0,d.jsxs)(aI,{children:[(0,d.jsx)(aJ,{type:"text",value:p,onChange:function(a){q(a.target.value)},placeholder:g("Search pools or tokens"),ref:h,onFocus:function(){n(!0)}}),(0,d.jsxs)(aK,{hide:!m,ref:j,children:[(0,d.jsxs)(aa.Z,{mb:"16px",children:[(0,d.jsx)(aQ,{enabled:!_,onClick:function(){return ab(!1)},children:g("Search")}),(0,d.jsx)(aQ,{enabled:_,onClick:function(){return ab(!0)},children:g("Watchlist")})]}),y&&(0,d.jsx)(al.Z,{color:"failure",children:g("Error occurred, please try again")}),(0,d.jsxs)(aM,{children:[(0,d.jsx)(al.Z,{bold:!0,color:"secondary",children:g("Tokens")}),!c&&!e&&(0,d.jsx)(al.Z,{textAlign:"end",fontSize:"12px",children:g("Price")}),!c&&!e&&(0,d.jsx)(al.Z,{textAlign:"end",fontSize:"12px",children:g("Volume 24H")}),!c&&!e&&(0,d.jsx)(al.Z,{textAlign:"end",fontSize:"12px",children:g("Liquidity")})]}),ac.slice(0,A).map(function(a,b){return(0,d.jsx)(aP,{onClick:function(){return U("/info/token/".concat(a.address))},children:(0,d.jsxs)(aM,{children:[(0,d.jsxs)(aa.Z,{children:[(0,d.jsx)(as.X,{address:a.address}),(0,d.jsx)(al.Z,{ml:"10px",children:(0,d.jsx)(al.Z,{children:"".concat(a.name," (").concat(a.symbol,")")})}),(0,d.jsx)(av.Z,{id:"watchlist-icon",style:{marginLeft:"8px"},fill:P.includes(a.address),onClick:function(b){b.stopPropagation(),Q(a.address)}})]}),!c&&!e&&(0,d.jsxs)(al.Z,{textAlign:"end",children:["$",(0,at.d)(a.priceUSD)]}),!c&&!e&&(0,d.jsxs)(al.Z,{textAlign:"end",children:["$",(0,at.d)(a.volumeUSD)]}),!c&&!e&&(0,d.jsxs)(al.Z,{textAlign:"end",children:["$",(0,at.d)(a.liquidityUSD)]})]})},b)}),(G=_?W:w,H=0===ac.length&&!G&&r.length>=v.OZ,I=0===ac.length&&!G,J=g(_?"Saved tokens will appear here":"No results"),(0,d.jsxs)(d.Fragment,{children:[G&&(0,d.jsx)(ak.Z,{}),(_?I:H)&&(0,d.jsx)(al.Z,{children:J}),!_&&r.length<v.OZ&&(0,d.jsx)(al.Z,{children:g("Search pools or tokens")})]})),(0,d.jsx)(aO,{onClick:function(){B(A+5)},hide:ac.length<=A,ref:k,children:g("See more...")}),(0,d.jsx)(aN,{}),(0,d.jsxs)(aM,{children:[(0,d.jsx)(al.Z,{bold:!0,color:"secondary",mb:"8px",children:g("Pools")}),!c&&!e&&(0,d.jsx)(al.Z,{textAlign:"end",fontSize:"12px",children:g("Volume 24H")}),!c&&!e&&(0,d.jsx)(al.Z,{textAlign:"end",fontSize:"12px",children:g("Volume 7D")}),!c&&!e&&(0,d.jsx)(al.Z,{textAlign:"end",fontSize:"12px",children:g("Liquidity")})]}),ad.slice(0,D).map(function(a,b){return(0,d.jsx)(aP,{onClick:function(){return U("/info/pool/".concat(a.address))},children:(0,d.jsxs)(aM,{children:[(0,d.jsxs)(aa.Z,{children:[(0,d.jsx)(as.g,{address0:a.token0.address,address1:a.token1.address}),(0,d.jsx)(al.Z,{ml:"10px",style:{whiteSpace:"nowrap"},children:(0,d.jsx)(al.Z,{children:"".concat(a.token0.symbol," / ").concat(a.token1.symbol)})}),(0,d.jsx)(av.Z,{id:"watchlist-icon",style:{marginLeft:"10px"},fill:S.includes(a.address),onClick:function(b){b.stopPropagation(),T(a.address)}})]}),!c&&!e&&(0,d.jsxs)(al.Z,{textAlign:"end",children:["$",(0,at.d)(a.volumeUSD)]}),!c&&!e&&(0,d.jsxs)(al.Z,{textAlign:"end",children:["$",(0,at.d)(a.volumeUSDWeek)]}),!c&&!e&&(0,d.jsxs)(al.Z,{textAlign:"end",children:["$",(0,at.d)(a.liquidityUSD)]})]})},b)}),(K=_?Z:x,L=0===ad.length&&!x&&r.length>=v.OZ,M=0===ad.length&&!K,N=g(_?"Saved tokens will appear here":"No results"),(0,d.jsxs)(d.Fragment,{children:[K&&(0,d.jsx)(ak.Z,{}),(_?M:L)&&(0,d.jsx)(al.Z,{children:N}),!_&&r.length<v.OZ&&(0,d.jsx)(al.Z,{children:g("Search pools or tokens")})]})),(0,d.jsx)(aO,{onClick:function(){E(D+5)},hide:ad.length<=D,ref:k,children:g("See more...")})]})]})]})};function aT(){var a=(0,j.Z)(["\n  background: ",";\n  justify-content: space-between;\n  padding: 20px 16px;\n  flex-direction: column;\n  gap: 8px;\n  "," {\n    padding: 20px 40px;\n    flex-direction: row;\n  }\n"]);return aT=function(){return a},a}var aU=(0,ah.ZP)(aa.Z).withConfig({componentId:"sc-6f127091-0"})(aT(),function(a){return a.theme.colors.gradientCardHeader},function(a){return a.theme.mediaQueries.sm}),aV=function(){var a=(0,af.$G)().t,b=(0,ag.useRouter)(),c="/info/pools"===b.pathname,e="/info/tokens"===b.pathname,f=0;return c&&(f=1),e&&(f=2),(0,d.jsxs)(aU,{children:[(0,d.jsx)(ab.Z,{children:(0,d.jsxs)(ac.Z,{activeIndex:f,scale:"sm",variant:"subtle",children:[(0,d.jsx)(ad.Z,{as:ae.a,to:"/info",children:a("Overview")}),(0,d.jsx)(ad.Z,{as:ae.a,to:"/info/pools",children:a("Pools")}),(0,d.jsx)(ad.Z,{as:ae.a,to:"/info/tokens",children:a("Tokens")})]})}),(0,d.jsx)(ab.Z,{width:["100%","100%","250px"],children:(0,d.jsx)(aS,{})})]})},aW=function(a){var b=a.children;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Z,{}),(0,d.jsx)($,{}),(0,d.jsx)(_,{}),(0,d.jsx)(aV,{}),b]})}}}])