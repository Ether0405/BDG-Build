(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2146],{43174:function(a,b,c){var d=c(55189)(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]});a.exports=d},95857:function(a,b,c){"use strict";var d=c(26042),e=c(69396),f=c(99534),g=c(7297),h=c(85893);c(67294);var i=c(87379);function j(){var a=(0,g.Z)(["\n  z-index: ",";\n  background-color: ",";\n  color: white;\n  margin: 0;\n  padding: 8px 0;\n  position: absolute;\n  right: ",";\n  top: 0;\n  text-align: center;\n  transform: ",";\n  transform-origin: top left;\n  width: 96px;\n\n  &:before,\n  &:after {\n    background-color: ",';\n    content: "";\n    height: 100%;\n    margin: 0 -1px; /* Removes tiny gap */\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n\n  &:before {\n    right: 100%;\n  }\n\n  &:after {\n    left: 100%;\n  }\n\n  & > div {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 96px;\n  }\n']);return j=function(){return a},a}var k=i.ZP.div.withConfig({componentId:"sc-e1bdbf71-0"}).withConfig({componentId:"sc-e59b2756-0"})(j(),function(a){return a.theme.zIndices.ribbon},function(a){var b=a.variantColor;return a.theme.colors[void 0===b?"secondary":b]},function(a){return"right"===a.ribbonPosition?0:"auto"},function(a){return"right"===a.ribbonPosition?"translateX(30%) translateY(0%) rotate(45deg)":"translateX(0%) translateY(200%) rotate(-45deg)"},function(a){var b=a.variantColor;return a.theme.colors[void 0===b?"secondary":b]}),l=function(a){var b=a.variantColor,c=a.text,g=a.ribbonPosition,i=(0,f.Z)(a,["variantColor","text","ribbonPosition"]);return(0,h.jsx)(k,(0,e.Z)((0,d.Z)({variantColor:b,ribbonPosition:g},i),{children:(0,h.jsx)("div",{title:c,children:c})}))};l.defaultProps={ribbonPosition:"right"},b.Z=l},92146:function(a,b,c){"use strict";c.d(b,{Z:function(){return bD}});var d=c(10253),e=c(7297),f=c(85893),g=c(67294),h=c(73935),i=c(87379),j=c(2593),k=c(32112),l=c(44431),m=c.n(l),n=c(29315),o=c(62077),p=c(75943),q=c(98768),r=c(69589),s=c(63970),t=c(75472),u=c.n(t),v=c(43174),w=c.n(v),x=c(52775),y=c(45636),z=c(83251),A=c(75660),B=c(44142),C=c(27553),D=c(67274),E=c(19385),F=c(76688),G=c(96470),H=c(921),I=c(9372),J=c(11163),K=c(69117),L=c(88770),M=c(97478),N=c(77137),O=c(95857),P=c(70257),Q=c(7447),R=c(87318),S=c(39023),T=c(88896),U=c(94998),V=c(47451),W=function(a){var b=a.pool,c=a.stakedBalance,d=a.performanceFee,e=a.showIcon,g=(0,x.$G)().t,h=b.vaultKey,i=g(h?"APY includes compounding, APR doesn’t. This pool’s CAKE is compounded automatically, so we show APY.":"This pool’s rewards aren’t compounded automatically, so we show APR"),j=(0,T.Z)(i,{placement:"bottom-start"}),k=j.targetRef,l=j.tooltip,m=j.tooltipVisible;return(0,f.jsxs)(p.Z,{alignItems:"center",justifyContent:"space-between",children:[m&&l,(0,f.jsx)(U.Z,{ref:k,children:h?"".concat(g("APY"),":"):"".concat(g("APR"),":")}),(0,f.jsx)(V.Z,{pool:b,stakedBalance:c,performanceFee:void 0===d?0:d,showIcon:void 0===e||e})]})},X=W,Y=c(28487),Z=c(34773),$=c(32020),_=c(44147),aa=c(75759),ab=c(15895),ac=c(62685),ad=c(98553),ae=c(63771),af=c(36963),ag=c(79108),ah=function(a){var b=a.pool,c=a.isLoading,d=b.sousId,e=b.stakingToken,g=b.earningToken,h=(0,x.$G)().t,i=(0,af.X_)(e.address||""),j=(0,ag.iB)(i,d,g.symbol),k=j.handleApprove,l=j.pendingTx;return(0,f.jsx)(f.Fragment,{children:void 0!==c&&c?(0,f.jsx)(ac.Z,{width:"100%",height:"52px"}):(0,f.jsx)(ad.Z,{isLoading:l,endIcon:l?(0,f.jsx)(ae.Z,{spin:!0,color:"currentColor"}):null,disabled:l,onClick:k,width:"100%",children:h("Enable")})})},ai=ah,aj=c(21812),ak=c(89663),al=c(2412),am=c(96484),an=c(59123),ao=c(18778),ap=c(52438),aq=c(40119),ar=function(a){var b=a.pool,c=a.stakingTokenBalance,e=a.stakedBalance,g=a.isBnbPool,h=a.isStaked,i=a.isLoading,j=b.stakingToken,k=b.stakingTokenPrice,l=b.stakingLimit,m=b.isFinished,n=b.userData,q=(0,x.$G)().t,r=(0,an.mW)(e,j.decimals),s=(0,an.mW)(e.multipliedBy(k),j.decimals),t=(0,d.Z)((0,aj.Z)((0,f.jsx)(ap.Z,{tokenSymbol:j.symbol})),1)[0],u=(0,d.Z)((0,aj.Z)((0,f.jsx)(aq.Z,{isBnbPool:g,pool:b,stakingTokenBalance:c,stakingTokenPrice:k})),1)[0],v=(0,d.Z)((0,aj.Z)((0,f.jsx)(aq.Z,{stakingTokenBalance:c,isBnbPool:g,pool:b,stakingTokenPrice:k,isRemovingStake:!0})),1)[0],w=(0,T.Z)(q("You’ve already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),y=w.targetRef,z=w.tooltip,A=w.tooltipVisible,B=l.gt(0)&&n.stakedBalance.gte(l);return(0,f.jsx)(p.Z,{flexDirection:"column",children:void 0!==i&&i?(0,f.jsx)(ac.Z,{width:"100%",height:"52px"}):h?(0,f.jsxs)(p.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,f.jsx)(p.Z,{flexDirection:"column",children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ao.Z,{bold:!0,fontSize:"20px",decimals:3,value:r}),0!==k&&(0,f.jsx)(o.Z,{fontSize:"12px",color:"textSubtle",children:(0,f.jsx)(ao.Z,{fontSize:"12px",color:"textSubtle",decimals:2,value:s,prefix:"~",unit:" USD"})})]})}),(0,f.jsxs)(p.Z,{children:[(0,f.jsx)(ak.Z,{variant:"secondary",onClick:v,mr:"6px",children:(0,f.jsx)(al.Z,{color:"primary",width:"24px"})}),B?(0,f.jsx)("span",{ref:y,children:(0,f.jsx)(ak.Z,{variant:"secondary",disabled:!0,children:(0,f.jsx)(am.Z,{color:"textDisabled",width:"24px",height:"24px"})})}):(0,f.jsx)(ak.Z,{variant:"secondary",onClick:c.gt(0)?u:t,disabled:m,children:(0,f.jsx)(am.Z,{color:"primary",width:"24px",height:"24px"})})]}),A&&z]}):(0,f.jsx)(ad.Z,{disabled:m,onClick:c.gt(0)?u:t,children:q("Stake")})})},as=ar,at=c(72363),au=function(a){var b=a.earnings,c=a.earningToken,e=a.sousId,g=a.isBnbPool,h=a.earningTokenPrice,i=a.isLoading,j=(0,x.$G)().t,k=(0,an.mW)(b,c.decimals),l=(0,an.uf)(k,3,3),m=(0,an.mW)(b.multipliedBy(h),c.decimals),n=(0,an.NJ)(b,c.decimals),q=b.toNumber()>0,s=0===e,t=(0,d.Z)((0,aj.Z)((0,f.jsx)(at.Z,{formattedBalance:l,fullBalance:n,earningToken:c,earningsDollarValue:m,sousId:e,isBnbPool:g,isCompoundPool:s})),1),u=t[0];return(0,f.jsxs)(p.Z,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[(0,f.jsx)(p.Z,{flexDirection:"column",children:void 0!==i&&i?(0,f.jsx)(ac.Z,{width:"80px",height:"48px"}):(0,f.jsx)(f.Fragment,{children:q?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ao.Z,{bold:!0,fontSize:"20px",decimals:5,value:k}),h>0&&(0,f.jsx)(ao.Z,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:m,unit:" USD"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.Z,{color:"textDisabled",children:"0"}),(0,f.jsx)(o.Z,{fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})}),(0,f.jsx)(ad.Z,{disabled:!q,onClick:u,children:j(s?"Collect":"Harvest")})]})},av=au,aw=c(34015);function ax(){var a=(0,e.Z)(["\n  display: inline;\n"]);return ax=function(){return a},a}var ay=(0,i.ZP)(o.Z).withConfig({componentId:"sc-6f8e547-0"})(ax()),az=function(a){var b=a.pool,c=a.stakedBalance,d=b.sousId,e=b.stakingToken,g=b.earningToken,h=b.poolCategory,i=b.userData,j=b.earningTokenPrice,k=b.profileRequirement,l=h===aa.jh.BINANCE,n=(0,x.$G)().t,o=(null==i?void 0:i.allowance)?new(m())(i.allowance):R.HW,q=(null==i?void 0:i.stakingTokenBalance)?new(m())(i.stakingTokenBalance):R.HW,r=(null==i?void 0:i.pendingReward)?new(m())(i.pendingReward):R.HW,s=!o.gt(0)&&!l,t=c.gt(0),u=!i,v=(0,ab.f)(k),w=v.notMeetRequired,y=v.notMeetThreshold;return(0,f.jsx)(p.Z,{flexDirection:"column",children:(0,f.jsxs)(p.Z,{flexDirection:"column",children:[(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(_.Z,{display:"inline",children:[(0,f.jsx)(ay,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:"".concat(g.symbol," ")}),(0,f.jsx)(ay,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n("Earned")})]}),(0,f.jsx)(av,{earnings:r,earningToken:g,sousId:d,earningTokenPrice:j,isBnbPool:l,isLoading:u})]}),(0,f.jsxs)(_.Z,{display:"inline",children:[(0,f.jsxs)(ay,{color:t?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[t?e.symbol:n("Stake")," "]}),(0,f.jsx)(ay,{color:t?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:t?n("Staked"):"".concat(e.symbol)})]}),w||y?(0,f.jsx)(aw.Q,{profileRequirement:k}):s?(0,f.jsx)(ai,{pool:b,isLoading:u}):(0,f.jsx)(as,{isLoading:u,pool:b,stakingTokenBalance:q,stakedBalance:c,isBnbPool:l,isStaked:t})]})})},aA=function(a){var b=a.pool,c=a.account,d=b.sousId,e=b.stakingToken,g=b.earningToken,h=b.isFinished,i=b.userData,j=(0,x.$G)().t,k=(null==i?void 0:i.stakedBalance)?new(m())(i.stakedBalance):R.HW,l=k.gt(0),n="CAKE"===g.symbol&&"CAKE"===e.symbol;return(0,f.jsxs)(Y.r,{isFinished:h&&0!==d,ribbon:h&&(0,f.jsx)(O.Z,{variantColor:"textDisabled",text:j("Finished")}),children:[(0,f.jsxs)($.Z,{isStaking:l,isFinished:h&&0!==d,children:[(0,f.jsx)($.e,{title:n?j("Manual"):j("Earn %asset%",{asset:g.symbol}),subTitle:n?j("Earn CAKE, stake CAKE"):j("Stake %symbol%",{symbol:e.symbol})}),(0,f.jsx)(S.q,{primaryToken:g,secondaryToken:e,width:64,height:64})]}),(0,f.jsxs)(P.Z,{children:[(0,f.jsx)(X,{pool:b,stakedBalance:k}),(0,f.jsx)(p.Z,{mt:"24px",flexDirection:"column",children:c?(0,f.jsx)(az,{pool:b,stakedBalance:k}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:j("Start earning")}),(0,f.jsx)(Q.Z,{})]})})]}),(0,f.jsx)(Z.Z,{pool:b,account:c})]})},aB=c(37593),aC=c(12966),aD=c(57329),aE=c(12587),aF=c(51983),aG=c(85765),aH=c(40628);function aI(){var a=(0,e.Z)(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"]);return aI=function(){return a},a}function aJ(){var a=(0,e.Z)(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"]);return aJ=function(){return a},a}function aK(){var a=(0,e.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 16px;\n  }\n"]);return aK=function(){return a},a}var aL=i.ZP.div.withConfig({componentId:"sc-abaf7347-0"})(aI(),o.Z),aM=i.ZP.div.withConfig({componentId:"sc-abaf7347-1"})(aJ(),function(a){return a.theme.mediaQueries.sm}),aN=i.ZP.div.withConfig({componentId:"sc-abaf7347-2"})(aK(),function(a){return a.theme.mediaQueries.sm}),aO=function(a){var b=a.stakedOnly,c=a.setStakedOnly,d=a.hasStakeInFinishedPools,e=a.viewMode,g=a.setViewMode,h=(0,J.useRouter)(),i=(0,x.$G)().t,j="/pools"===h.pathname||"/_mp/pools"===h.pathname,k=(0,f.jsx)(aD.Z,{idPrefix:"clickPool",viewMode:e,onToggle:g}),l=(0,f.jsx)(aN,{children:(0,f.jsxs)(aE.Z,{activeIndex:j?0:1,scale:"sm",variant:"subtle",children:[(0,f.jsx)(aF.Z,{as:aC.a,to:"/pools",replace:!0,children:i("Live")}),(0,f.jsx)(aG.Z,{show:d,children:(0,f.jsx)(aF.Z,{id:"finished-pools-button",as:aC.a,to:"/pools/history",replace:!0,children:i("Finished")})})]})}),m=(0,f.jsxs)(aL,{children:[(0,f.jsx)(aH.Z,{checked:b,onChange:function(){return c(!b)},scale:"sm"}),(0,f.jsxs)(o.Z,{children:[" ",i("Staked only")]})]});return(0,f.jsxs)(aM,{children:[k,m,l]})},aP=c(34701),aQ=c(40779),aR=c(16488);function aS(){var a=(0,e.Z)(["\n  flex: 4.5;\n  "," {\n    flex: 1 0 120px;\n  }\n"]);return aS=function(){return a},a}var aT=(0,i.ZP)(aR.Z).withConfig({componentId:"sc-2588d212-0"})(aS(),function(a){return a.theme.mediaQueries.sm}),aU=function(a){var b=a.pool,c=a.account,e=(0,x.$G)().t,g=(0,aP.Z)().isMobile,h=b.sousId,i=b.earningToken,j=b.poolCategory,k=b.userData,l=b.earningTokenPrice,n=(null==k?void 0:k.pendingReward)?new(m())(k.pendingReward):R.HW,q=(0,an.mW)(n,i.decimals),r=(0,an.mW)(n.multipliedBy(l),i.decimals),s=c&&n.gt(0),t=(0,an.NJ)(n,i.decimals),u=(0,an.uf)(q,3,3),v=j===aa.jh.BINANCE,w=e("%asset% Earned",{asset:i.symbol}),y=(0,d.Z)((0,aj.Z)((0,f.jsx)(at.Z,{formattedBalance:u,fullBalance:t,earningToken:i,earningsDollarValue:r,sousId:h,isBnbPool:v,isCompoundPool:0===h})),1),z=y[0],A=function(a){a.stopPropagation(),z()};return(0,f.jsx)(aT,{role:"cell",children:(0,f.jsxs)(aR.J,{children:[(0,f.jsx)(o.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:w}),!b.userDataLoaded&&c?(0,f.jsx)(ac.Z,{width:"80px",height:"16px"}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(p.Z,{children:(0,f.jsxs)(_.Z,{mr:"8px",height:"32px",onClick:s?A:void 0,children:[(0,f.jsx)(ao.Z,{mt:"4px",bold:!g,fontSize:g?"14px":"16px",color:s?"primary":"textDisabled",decimals:s?5:1,value:s?q:0}),s?(0,f.jsx)(f.Fragment,{children:l>0&&(0,f.jsx)(ao.Z,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:r,unit:" USD"})}):(0,f.jsx)(o.Z,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})})]})})},aV=c(32883);function aW(){var a=(0,e.Z)(["\n  flex: 2 0 100px;\n"]);return aW=function(){return a},a}var aX=(0,i.ZP)(aR.Z).withConfig({componentId:"sc-c9953473-0"})(aW()),aY=function(a){var b=a.pool,c=(0,x.$G)().t,d=b.stakingToken,e=b.totalStaked,h=b.vaultKey,i=(0,z.eB)(h).totalCakeInVault,j=(0,g.useMemo)(function(){return h?(0,an.mW)(i,d.decimals):(0,an.mW)(e,d.decimals)},[h,i,e,d.decimals]);return(0,f.jsx)(aX,{role:"cell",children:(0,f.jsxs)(aR.J,{children:[(0,f.jsx)(o.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:c("Total staked")}),e&&e.gte(0)?(0,f.jsx)(p.Z,{height:"20px",alignItems:"center",children:(0,f.jsx)(ao.Z,{fontSize:"16px",value:j,decimals:0,unit:" ".concat(d.symbol)})}):(0,f.jsx)(ac.Z,{width:"80px",height:"16px"})]})})},aZ=c(21588),a$=c(97119),a_=c(87237);function a0(){var a=(0,e.Z)(["\n  flex: 2 0 100px;\n"]);return a0=function(){return a},a}var a1=(0,i.ZP)(aR.Z).withConfig({componentId:"sc-cbec0181-0"})(a0()),a2=function(a){var b=a.pool,c=b.sousId,d=b.totalStaked,e=b.startBlock,g=b.endBlock,h=b.isFinished,i=(0,L.je)(),j=(0,x.$G)().t,k=(0,a_.zy)(b,i),l=k.shouldShowBlockCountdown,m=k.blocksUntilStart,n=k.blocksRemaining,r=k.hasPoolStarted,s=k.blocksToDisplay,t=l?(0,f.jsxs)(p.Z,{alignItems:"center",children:[(0,f.jsxs)(p.Z,{flex:"1.3",children:[(0,f.jsx)(ao.Z,{fontSize:"16px",value:s,decimals:0}),(0,f.jsx)(o.Z,{ml:"4px",textTransform:"lowercase",children:j("Blocks")})]}),(0,f.jsx)(p.Z,{flex:"1",children:(0,f.jsx)(q.Z,{external:!0,href:(0,a$.C)(r?g:e,"countdown"),onClick:function(a){return a.stopPropagation()},children:(0,f.jsx)(aZ.Z,{ml:"4px"})})})]}):(0,f.jsx)(o.Z,{children:"-"}),u=r&&!d.gt(0)||!i|| !n&&!m;return(0,f.jsx)(a1,{role:"cell",children:(0,f.jsxs)(aR.J,{children:[(0,f.jsx)(o.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:j(r||!l?"Ends in":"Starts in")}),u&&0!==c&&!h?(0,f.jsx)(ac.Z,{width:"80px",height:"16px"}):t]})})},a3=c(11252),a4=c(32056),a5=c(43337);function a6(){var a=(0,e.Z)([""]);return a6=function(){return a},a}var a7=(0,i.ZP)(aR.Z).withConfig({componentId:"sc-193f00af-0"})(a6()),a8=function(a){var b=a.pool,c=a.account,d=(0,x.$G)().t,e=(0,aP.Z)().isMobile,g=(0,z.eB)(b.vaultKey),h=g.userData,i=h.userShares,j=h.balance,k=j.cakeAsBigNumber,l=j.cakeAsNumberBalance,n=h.isLoading,q=i.gt(0),r=b.vaultKey&&q,s=b.stakingTokenPrice,t=b.stakingToken,u=b.userData,v=(0,an.mW)(k.multipliedBy(s),t.decimals),w=(null==u?void 0:u.stakedBalance)?new(m())(u.stakedBalance):R.HW,y=(0,an.mW)(w,t.decimals),A=(0,an.mW)(w.multipliedBy(s),t.decimals),B="".concat(b.stakingToken.symbol," ").concat(d(b.vaultKey===G.om.CakeVault&&g.userData.locked?"Locked":"Staked")),C=c&&(w.gt(0)||r),D=b.vaultKey?n:!b.userDataLoaded;return(0,f.jsx)(a7,{role:"cell",flex:b.vaultKey===G.om.CakeFlexibleSideVault?"1 0 162px":b.vaultKey!==G.om.CakeVault||C?"2 0 100px":"1 0 120px",children:(0,f.jsxs)(aR.J,{children:[(0,f.jsx)(o.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:B}),D&&c?(0,f.jsx)(ac.Z,{width:"80px",height:"16px"}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(p.Z,{children:(0,f.jsxs)(_.Z,{mr:"8px",height:"32px",children:[(0,f.jsx)(ao.Z,{mt:"4px",bold:!e,fontSize:e?"14px":"16px",color:C?"primary":"textDisabled",decimals:C?5:1,value:C?b.vaultKey?Number.isNaN(l)?0:l:y:0}),C?(0,f.jsx)(ao.Z,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:b.vaultKey?v:A,unit:" USD"}):(0,f.jsx)(o.Z,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})})]})})},a9=c(42219),ba=c(27934);function bb(){var a=(0,e.Z)(["\n  background-color: transparent;\n  display: flex;\n  cursor: pointer;\n"]);return bb=function(){return a},a}var bc=i.ZP.div.withConfig({componentId:"sc-dd7146e0-0"})(bb()),bd=function(a){var b=a.children,c=a.panel,d=a.initialActivity,e=(0,g.useRef)(!1),h=(0,aP.Z)(),i=h.isTablet,j=h.isDesktop,k=(0,g.useState)(d),l=k[0],m=k[1],n=(0,a9.Z)(l,300),o=(0,g.useCallback)(function(){m(function(a){return!a})},[]);return(0,g.useEffect)(function(){d&& !1===e.current&&(m(d),e.current=!0)},[d]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(bc,{role:"row",onClick:o,children:[b,(0,f.jsx)(ba.Z,{expanded:l,isFullLayout:i||j})]}),n&&c]})},be=(0,g.memo)(bd),bf=(0,g.memo)(function(a){var b=a.vaultKey,c=a.account,d=a.initialActivity,e=(0,aP.Z)(),g=e.isXs,h=e.isSm,i=e.isMd,j=e.isLg,k=e.isXl,l=e.isXxl,m=k||l,n=(0,z.YX)(b);return(0,f.jsxs)(be,{initialActivity:d,panel:(0,f.jsx)(a3.Z,{account:c,pool:n,expanded:!0,breakpoints:{isXs:g,isSm:h,isMd:i,isLg:j,isXl:k,isXxl:l}}),children:[(0,f.jsx)(aQ.Z,{pool:n}),m&&(0,f.jsx)(a4.Z,{pool:n,account:c}),m?(0,f.jsx)(a8,{pool:n,account:c}):null,(0,f.jsx)(a5.Z,{pool:n}),(j||k||l)&&(0,f.jsx)(aY,{pool:n})]})}),bg=function(a){var b=a.sousId,c=a.account,d=a.initialActivity,e=(0,aP.Z)(),g=e.isXs,h=e.isSm,i=e.isMd,j=e.isLg,k=e.isXl,l=e.isXxl,m=e.isDesktop,n=(0,z.AI)(b).pool;return(0,f.jsxs)(be,{initialActivity:d,panel:(0,f.jsx)(a3.Z,{account:c,pool:n,expanded:!0,breakpoints:{isXs:g,isSm:h,isMd:i,isLg:j,isXl:k,isXxl:l}}),children:[(0,f.jsx)(aQ.Z,{pool:n}),(0,f.jsx)(aU,{pool:n,account:c}),(j||k||l)&&(0,f.jsx)(aY,{pool:n}),(0,f.jsx)(aV.Z,{pool:n}),m&&(0,f.jsx)(a2,{pool:n})]})},bh=(0,g.memo)(bg);function bi(){var a=(0,e.Z)(["\n  border-radius: ",";\n  scroll-margin-top: 64px;\n\n  background-color: ",";\n  > div:not(:last-child) {\n    border-bottom: 2px solid ",";\n  }\n"]);return bi=function(){return a},a}function bj(){var a=(0,e.Z)(["\n  border-radius: ",";\n  background-color: ",";\n  padding: 1px 1px 3px 1px;\n  background-size: 400% 400%;\n"]);return bj=function(){return a},a}var bk=i.ZP.div.withConfig({componentId:"sc-a3ab40d2-0"})(bi(),function(a){return a.theme.radii.card},function(a){return a.theme.card.background},function(a){return a.theme.colors.disabled}),bl=i.ZP.div.withConfig({componentId:"sc-a3ab40d2-1"})(bj(),function(a){return a.theme.radii.card},function(a){return a.theme.colors.cardBorder}),bm=function(a){var b=a.pools,c=a.account,d=a.urlSearch,e=(0,g.useRef)(null);return(0,f.jsx)(bl,{children:(0,f.jsx)(bk,{id:"pools-table",role:"table",ref:e,children:b.map(function(a){var b,e;return a.vaultKey?(0,f.jsx)(bf,{initialActivity:d.toLowerCase()===(null===(b=a.earningToken.symbol)|| void 0===b?void 0:b.toLowerCase()),vaultKey:a.vaultKey,account:c},a.vaultKey):(0,f.jsx)(bh,{initialActivity:d.toLowerCase()===(null===(e=a.earningToken.symbol)|| void 0===e?void 0:e.toLowerCase()),sousId:a.sousId,account:c},a.sousId)})})})};function bn(){var a=(0,e.Z)(["\n  justify-content: center;\n"]);return bn=function(){return a},a}function bo(){var a=(0,e.Z)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"]);return bo=function(){return a},a}function bp(){var a=(0,e.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"]);return bp=function(){return a},a}function bq(){var a=(0,e.Z)(["\n  > "," {\n    font-size: 12px;\n  }\n"]);return bq=function(){return a},a}function br(){var a=(0,e.Z)(["\n  > div {\n    flex: 1;\n  }\n"]);return br=function(){return a},a}function bs(){var a=(0,e.Z)(["\n  padding-bottom: 32px;\n  flex-direction: column;\n  "," {\n    flex-direction: row;\n  }\n"]);return bs=function(){return a},a}function bt(){var a=(0,e.Z)(["\n  font-weight: 400;\n  white-space: nowrap;\n  text-decoration: underline;\n"]);return bt=function(){return a},a}var bu=(0,i.ZP)(B.Z).withConfig({componentId:"sc-56415755-0"})(bn()),bv=i.ZP.div.withConfig({componentId:"sc-56415755-1"})(bo(),function(a){return a.theme.mediaQueries.sm}),bw=i.ZP.div.withConfig({componentId:"sc-56415755-2"})(bp(),function(a){return a.theme.mediaQueries.sm}),bx=i.ZP.div.withConfig({componentId:"sc-56415755-3"})(bq(),o.Z),by=(0,i.ZP)(p.Z).withConfig({componentId:"sc-56415755-4"})(br()),bz=(0,i.ZP)(p.Z).withConfig({componentId:"sc-56415755-5"})(bs(),function(a){return a.theme.mediaQueries.md}),bA=(0,i.ZP)(q.Z).withConfig({componentId:"sc-56415755-6"})(bt()),bB=function(a,b,c,d){switch(b){case"apr":return u()(d,function(a){return a.apr?a.apr:0},"desc");case"earned":return u()(d,function(b){if(!b.userData||!b.earningTokenPrice)return 0;if(b.vaultKey){var c=b.userData,d=b.pricePerFullShare;return c&&c.userShares?(0,a_.UN)(a,c.cakeAtLastUserAction,c.userShares,d,b.earningTokenPrice,b.vaultKey===G.om.CakeVault?b.userData.currentPerformanceFee.plus(b.userData.currentOverdueFee):null).autoUsdToDisplay:0}return b.userData.pendingReward.times(b.earningTokenPrice).toNumber()},"desc");case"totalStaked":return u()(d,function(a){var b,c=Number.NaN;if(a.vaultKey){var d=a;a.stakingTokenPrice&&d.totalCakeInVault.isFinite()&&(c=+(0,k.formatUnits)(j.O$.from(d.totalCakeInVault.toString()),a.stakingToken.decimals)*a.stakingTokenPrice)}else(null===(b=a.totalStaked)|| void 0===b?void 0:b.isFinite())&&a.stakingTokenPrice&&(c=+(0,k.formatUnits)(j.O$.from(a.totalStaked.toString()),a.stakingToken.decimals)*a.stakingTokenPrice);return Number.isFinite(c)?c:0},"desc");case"latest":return u()(d,function(a){return Number(a.sousId)},"desc");default:return d}},bC=60/M.hJ*4,bD=function(){var a,b=(0,J.useRouter)(),c=(0,x.$G)().t,e=(0,n.Ge)().account,i=(0,z.f6)(),j=i.pools,k=i.userDataLoaded,l=(0,d.Z)((0,H.tw)(),2),q=l[0],t=l[1],u=(0,d.Z)((0,H.Yi)(),2),v=u[0],B=u[1],G=(0,g.useState)(12),M=G[0],O=G[1],P=(0,y.Z)(),Q=P.observerRef,R=P.isIntersecting,S=(0,g.useMemo)(function(){var a;return"string"==typeof(null==b?void 0:null===(a=b.query)|| void 0===a?void 0:a.search)?b.query.search:""},[b.query]),T=(0,g.useState)(""),U=T[0],V=T[1],W=S&&!U?S:U,X=(0,g.useState)("hot"),Y=X[0],Z=X[1],$=(0,g.useRef)(0),_=(0,L.Xh)(),aa=(0,g.useMemo)(function(){return w()(j,function(a){return a.isFinished})},[j]),ab=aa[0],ac=aa[1],ad=(0,g.useMemo)(function(){return ac.filter(function(a){return!(_>0)||!a.startBlock||Number(a.startBlock)<_+bC})},[_,ac]),ae=(0,g.useMemo)(function(){return ab.filter(function(a){return a.vaultKey?a.userData.userShares.gt(0):a.userData&&new(m())(a.userData.stakedBalance).isGreaterThan(0)})},[ab]),af=(0,g.useCallback)(function(){return ad.filter(function(a){return a.vaultKey?a.userData.userShares.gt(0):a.userData&&new(m())(a.userData.stakedBalance).isGreaterThan(0)})},[ad]),ag=ae.length>0;(0,z.l7)(),(0,g.useEffect)(function(){R&&O(function(a){return a<=$.current?a+12:a})},[R]);var ah=b.pathname.includes("history"),ai=(0,g.useCallback)(function(a){return V(a.target.value)},[]),aj=(0,g.useCallback)(function(a){return Z(a.value)},[]);a=ah?q?ae:ab:q?af():ad,a=(0,g.useMemo)(function(){var b=bB(e,Y,j,a).slice(0,M);if(W){var c=(0,A.b)(W.toLowerCase());return b.filter(function(a){return(0,A.b)(a.earningToken.symbol.toLowerCase()).includes(c)})}return b},[e,Y,j,a,M,W]),$.current=a.length;var ak=(0,f.jsx)(bu,{children:a.map(function(a){return a.vaultKey?(0,f.jsx)(aB.Z,{pool:a,showStakedOnly:q},a.vaultKey):(0,f.jsx)(aA,{pool:a,account:e},a.sousId)})}),al=(0,f.jsx)(bm,{urlSearch:S,pools:a,account:e});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(D.Z,{children:(0,f.jsx)(p.Z,{justifyContent:"space-between",flexDirection:["column",null,null,"row"],children:(0,f.jsxs)(p.Z,{flex:"1",flexDirection:"column",mr:["8px",0],children:[(0,f.jsx)(r.Z,{as:"h1",scale:"xxl",color:"secondary",mb:"24px",children:c("Syrup Pools")}),(0,f.jsx)(r.Z,{scale:"md",color:"text",children:c("Just stake some tokens to earn.")}),(0,f.jsx)(r.Z,{scale:"md",color:"text",children:c("High APR, low risk.")})]})})}),(0,f.jsxs)(C.Z,{children:[(0,f.jsxs)(bv,{children:[(0,f.jsx)(aO,{stakedOnly:q,setStakedOnly:t,hasStakeInFinishedPools:ag,viewMode:v,setViewMode:B}),(0,f.jsxs)(bw,{children:[(0,f.jsxs)(bx,{children:[(0,f.jsx)(o.Z,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",children:c("Sort by")}),(0,f.jsx)(by,{children:(0,f.jsx)(F.Z,{options:[{label:c("Hot"),value:"hot"},{label:c("APR"),value:"apr"},{label:c("Earned"),value:"earned"},{label:c("Total staked"),value:"totalStaked"},{label:c("Latest"),value:"latest"},],onOptionChange:aj})})]}),(0,f.jsxs)(bx,{style:{marginLeft:16},children:[(0,f.jsx)(o.Z,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",children:c("Search")}),(0,f.jsx)(E.Z,{initialValue:W,onChange:ai,placeholder:"Search Pools"})]})]})]}),ah&&(0,f.jsxs)(bz,{children:[(0,f.jsx)(o.Z,{fontSize:["16px",null,"20px"],color:"failure",pr:"4px",children:c("Looking for v1 CAKE syrup pools?")}),(0,f.jsxs)(bA,{href:"/migration",fontSize:["16px",null,"20px"],color:"failure",children:[c("Go to migration page"),"."]})]}),e&&!k&&q&&(0,f.jsx)(p.Z,{justifyContent:"center",mb:"4px",children:(0,f.jsx)(K.Z,{})}),v===I.wO.CARD?ak:al,(0,f.jsx)("div",{ref:Q}),(0,f.jsx)(s.Z,{mx:"auto",mt:"12px",src:"/images/decorations/3d-syrup-bunnies.png",alt:"Pancake illustration",width:192,height:184.5})]}),(0,h.createPortal)((0,f.jsx)(N.Z,{}),document.body)]})}}}])