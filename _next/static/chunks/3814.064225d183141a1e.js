(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3814],{98099:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(97117);function e(a,b,c){return void 0===b&&(b=new Uint8Array(2)),void 0===c&&(c=0),b[c+0]=a>>>8,b[c+1]=a>>>0,b}function f(a,b,c){return void 0===b&&(b=new Uint8Array(2)),void 0===c&&(c=0),b[c+0]=a>>>0,b[c+1]=a>>>8,b}function g(a,b){return void 0===b&&(b=0),a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3]}function h(a,b){return void 0===b&&(b=0),(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}function i(a,b){return void 0===b&&(b=0),a[b+3]<<24|a[b+2]<<16|a[b+1]<<8|a[b]}function j(a,b){return void 0===b&&(b=0),(a[b+3]<<24|a[b+2]<<16|a[b+1]<<8|a[b])>>>0}function k(a,b,c){return void 0===b&&(b=new Uint8Array(4)),void 0===c&&(c=0),b[c+0]=a>>>24,b[c+1]=a>>>16,b[c+2]=a>>>8,b[c+3]=a>>>0,b}function l(a,b,c){return void 0===b&&(b=new Uint8Array(4)),void 0===c&&(c=0),b[c+0]=a>>>0,b[c+1]=a>>>8,b[c+2]=a>>>16,b[c+3]=a>>>24,b}function m(a,b,c){return void 0===b&&(b=new Uint8Array(8)),void 0===c&&(c=0),k(a/4294967296>>>0,b,c),k(a>>>0,b,c+4),b}function n(a,b,c){return void 0===b&&(b=new Uint8Array(8)),void 0===c&&(c=0),l(a>>>0,b,c),l(a/4294967296>>>0,b,c+4),b}b.readInt16BE=function(a,b){return void 0===b&&(b=0),(a[b+0]<<8|a[b+1])<<16>>16},b.readUint16BE=function(a,b){return void 0===b&&(b=0),(a[b+0]<<8|a[b+1])>>>0},b.readInt16LE=function(a,b){return void 0===b&&(b=0),(a[b+1]<<8|a[b])<<16>>16},b.readUint16LE=function(a,b){return void 0===b&&(b=0),(a[b+1]<<8|a[b])>>>0},b.writeUint16BE=e,b.writeInt16BE=e,b.writeUint16LE=f,b.writeInt16LE=f,b.readInt32BE=g,b.readUint32BE=h,b.readInt32LE=i,b.readUint32LE=j,b.writeUint32BE=k,b.writeInt32BE=k,b.writeUint32LE=l,b.writeInt32LE=l,b.readInt64BE=function(a,b){void 0===b&&(b=0);var c=g(a,b),d=g(a,b+4);return 4294967296*c+d-(d>>31)*4294967296},b.readUint64BE=function(a,b){void 0===b&&(b=0);var c=h(a,b),d=h(a,b+4);return 4294967296*c+d},b.readInt64LE=function(a,b){void 0===b&&(b=0);var c=i(a,b);return 4294967296*i(a,b+4)+c-(c>>31)*4294967296},b.readUint64LE=function(a,b){void 0===b&&(b=0);var c=j(a,b),d=j(a,b+4);return 4294967296*d+c},b.writeUint64BE=m,b.writeInt64BE=m,b.writeUint64LE=n,b.writeInt64LE=n,b.readUintBE=function(a,b,c){if(void 0===c&&(c=0),a%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(a/8>b.length-c)throw Error("readUintBE: array is too short for the given bitLength");for(var d=0,e=1,f=a/8+c-1;f>=c;f--)d+=b[f]*e,e*=256;return d},b.readUintLE=function(a,b,c){if(void 0===c&&(c=0),a%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(a/8>b.length-c)throw Error("readUintLE: array is too short for the given bitLength");for(var d=0,e=1,f=c;f<c+a/8;f++)d+=b[f]*e,e*=256;return d},b.writeUintBE=function(a,b,c,e){if(void 0===c&&(c=new Uint8Array(a/8)),void 0===e&&(e=0),a%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!d.isSafeInteger(b))throw Error("writeUintBE value must be an integer");for(var f=1,g=a/8+e-1;g>=e;g--)c[g]=b/f&255,f*=256;return c},b.writeUintLE=function(a,b,c,e){if(void 0===c&&(c=new Uint8Array(a/8)),void 0===e&&(e=0),a%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!d.isSafeInteger(b))throw Error("writeUintLE value must be an integer");for(var f=1,g=e;g<e+a/8;g++)c[g]=b/f&255,f*=256;return c},b.readFloat32BE=function(a,b){return void 0===b&&(b=0),new DataView(a.buffer,a.byteOffset,a.byteLength).getFloat32(b)},b.readFloat32LE=function(a,b){return void 0===b&&(b=0),new DataView(a.buffer,a.byteOffset,a.byteLength).getFloat32(b,!0)},b.readFloat64BE=function(a,b){return void 0===b&&(b=0),new DataView(a.buffer,a.byteOffset,a.byteLength).getFloat64(b)},b.readFloat64LE=function(a,b){return void 0===b&&(b=0),new DataView(a.buffer,a.byteOffset,a.byteLength).getFloat64(b,!0)},b.writeFloat32BE=function(a,b,c){return void 0===b&&(b=new Uint8Array(4)),void 0===c&&(c=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setFloat32(c,a),b},b.writeFloat32LE=function(a,b,c){return void 0===b&&(b=new Uint8Array(4)),void 0===c&&(c=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setFloat32(c,a,!0),b},b.writeFloat64BE=function(a,b,c){return void 0===b&&(b=new Uint8Array(8)),void 0===c&&(c=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setFloat64(c,a),b},b.writeFloat64LE=function(a,b,c){return void 0===b&&(b=new Uint8Array(8)),void 0===c&&(c=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setFloat64(c,a,!0),b}},15501:function(a,b,c){"use strict";var d=c(25439),e=c(63027),f=c(17309),g=c(98099),h=c(4153);b.Cv=32,b.WH=12,b.pg=16;var i=new Uint8Array(16),j=function(){function a(a){if(this.nonceLength=b.WH,this.tagLength=b.pg,a.length!==b.Cv)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(a)}return a.prototype.seal=function(a,b,c,e){if(a.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var g,h=new Uint8Array(16);h.set(a,h.length-a.length);var i=new Uint8Array(32);d.stream(this._key,h,i,4);var j=b.length+this.tagLength;if(e){if(e.length!==j)throw Error("ChaCha20Poly1305: incorrect destination length");g=e}else g=new Uint8Array(j);return d.streamXOR(this._key,h,b,g,4),this._authenticate(g.subarray(g.length-this.tagLength,g.length),i,g.subarray(0,g.length-this.tagLength),c),f.wipe(h),g},a.prototype.open=function(a,b,c,e){if(a.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(b.length<this.tagLength)return null;var g,i=new Uint8Array(16);i.set(a,i.length-a.length);var j=new Uint8Array(32);d.stream(this._key,i,j,4);var k=new Uint8Array(this.tagLength);if(this._authenticate(k,j,b.subarray(0,b.length-this.tagLength),c),!h.equal(k,b.subarray(b.length-this.tagLength,b.length)))return null;var l=b.length-this.tagLength;if(e){if(e.length!==l)throw Error("ChaCha20Poly1305: incorrect destination length");g=e}else g=new Uint8Array(l);return d.streamXOR(this._key,i,b.subarray(0,b.length-this.tagLength),g,4),f.wipe(i),g},a.prototype.clean=function(){return f.wipe(this._key),this},a.prototype._authenticate=function(a,b,c,d){var h=new e.Poly1305(b);d&&(h.update(d),d.length%16>0&&h.update(i.subarray(d.length%16))),h.update(c),c.length%16>0&&h.update(i.subarray(c.length%16));var j=new Uint8Array(8);d&&g.writeUint64LE(d.length,j),h.update(j),g.writeUint64LE(c.length,j),h.update(j);for(var k=h.digest(),l=0;l<k.length;l++)a[l]=k[l];h.clean(),f.wipe(k),f.wipe(j)},a}();b.OK=j},25439:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(98099),e=c(17309);function f(a,b,c){for(var e=c[3]<<24|c[2]<<16|c[1]<<8|c[0],f=c[7]<<24|c[6]<<16|c[5]<<8|c[4],g=c[11]<<24|c[10]<<16|c[9]<<8|c[8],h=c[15]<<24|c[14]<<16|c[13]<<8|c[12],i=c[19]<<24|c[18]<<16|c[17]<<8|c[16],j=c[23]<<24|c[22]<<16|c[21]<<8|c[20],k=c[27]<<24|c[26]<<16|c[25]<<8|c[24],l=c[31]<<24|c[30]<<16|c[29]<<8|c[28],m=b[3]<<24|b[2]<<16|b[1]<<8|b[0],n=b[7]<<24|b[6]<<16|b[5]<<8|b[4],o=b[11]<<24|b[10]<<16|b[9]<<8|b[8],p=b[15]<<24|b[14]<<16|b[13]<<8|b[12],q=1634760805,r=857760878,s=2036477234,t=1797285236,u=e,v=f,w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,F=o,G=p,H=0;H<20;H+=2)C^=q=q+u|0,u^=y=y+(C=C>>>16|C<<16)|0,u=u>>>20|u<<12,D^=r=r+v|0,v^=z=z+(D=D>>>16|D<<16)|0,v=v>>>20|v<<12,F^=s=s+w|0,w^=A=A+(F=F>>>16|F<<16)|0,w=w>>>20|w<<12,G^=t=t+x|0,x^=B=B+(G=G>>>16|G<<16)|0,x=x>>>20|x<<12,F^=s=s+w|0,w^=A=A+(F=F>>>24|F<<8)|0,w=w>>>25|w<<7,G^=t=t+x|0,x^=B=B+(G=G>>>24|G<<8)|0,x=x>>>25|x<<7,D^=r=r+v|0,v^=z=z+(D=D>>>24|D<<8)|0,v=v>>>25|v<<7,C^=q=q+u|0,u^=y=y+(C=C>>>24|C<<8)|0,u=u>>>25|u<<7,G^=q=q+v|0,v^=A=A+(G=G>>>16|G<<16)|0,v=v>>>20|v<<12,C^=r=r+w|0,w^=B=B+(C=C>>>16|C<<16)|0,w=w>>>20|w<<12,D^=s=s+x|0,x^=y=y+(D=D>>>16|D<<16)|0,x=x>>>20|x<<12,F^=t=t+u|0,u^=z=z+(F=F>>>16|F<<16)|0,u=u>>>20|u<<12,D^=s=s+x|0,x^=y=y+(D=D>>>24|D<<8)|0,x=x>>>25|x<<7,F^=t=t+u|0,u^=z=z+(F=F>>>24|F<<8)|0,u=u>>>25|u<<7,C^=r=r+w|0,w^=B=B+(C=C>>>24|C<<8)|0,w=w>>>25|w<<7,G^=q=q+v|0,v^=A=A+(G=G>>>24|G<<8)|0,v=v>>>25|v<<7;d.writeUint32LE(q+1634760805|0,a,0),d.writeUint32LE(r+857760878|0,a,4),d.writeUint32LE(s+2036477234|0,a,8),d.writeUint32LE(t+1797285236|0,a,12),d.writeUint32LE(u+e|0,a,16),d.writeUint32LE(v+f|0,a,20),d.writeUint32LE(w+g|0,a,24),d.writeUint32LE(x+h|0,a,28),d.writeUint32LE(y+i|0,a,32),d.writeUint32LE(z+j|0,a,36),d.writeUint32LE(A+k|0,a,40),d.writeUint32LE(B+l|0,a,44),d.writeUint32LE(C+m|0,a,48),d.writeUint32LE(D+n|0,a,52),d.writeUint32LE(F+o|0,a,56),d.writeUint32LE(G+p|0,a,60)}function g(a,b,c,d,g){if(void 0===g&&(g=0),32!==a.length)throw Error("ChaCha: key size must be 32 bytes");if(d.length<c.length)throw Error("ChaCha: destination is shorter than source");if(0===g){if(8!==b.length&&12!==b.length)throw Error("ChaCha nonce must be 8 or 12 bytes");j=(i=new Uint8Array(16)).length-b.length,i.set(b,j)}else{if(16!==b.length)throw Error("ChaCha nonce with counter must be 16 bytes");i=b,j=g}for(var i,j,k=new Uint8Array(64),l=0;l<c.length;l+=64){f(k,i,a);for(var m=l;m<l+64&&m<c.length;m++)d[m]=c[m]^k[m-l];h(i,0,j)}return e.wipe(k),0===g&&e.wipe(i),d}function h(a,b,c){for(var d=1;c--;)d=d+(255&a[b])|0,a[b]=255&d,d>>>=8,b++;if(d>0)throw Error("ChaCha: counter overflow")}b.streamXOR=g,b.stream=function(a,b,c,d){return void 0===d&&(d=0),e.wipe(c),g(a,b,c,c,d)}},4153:function(a,b){"use strict";function c(a,b){if(a.length!==b.length)return 0;for(var c=0,d=0;d<a.length;d++)c|=a[d]^b[d];return 1&c-1>>>8}Object.defineProperty(b,"__esModule",{value:!0}),b.select=function(a,b,c){return~(a-1)&b|a-1&c},b.lessOrEqual=function(a,b){return(0|a)-(0|b)-1>>>31&1},b.compare=c,b.equal=function(a,b){return 0!==a.length&&0!==b.length&&0!==c(a,b)}},31050:function(a,b,c){"use strict";b.Xx=b._w=b.aP=b.KS=b.jQ=void 0,c(31416);let d=c(93350);function e(a){let b=new Float64Array(16);if(a)for(let c=0;c<a.length;c++)b[c]=a[c];return b}c(17309),b.jQ=64,b.KS=64,b.aP=32;let f=new Uint8Array(32);f[0]=9;let g=e(),h=e([1]),i=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b){for(let c=0;c<16;c++)a[c]=0|b[c]}function o(a){let b=1;for(let c=0;c<16;c++){let d=a[c]+b+65535;b=Math.floor(d/65536),a[c]=d-65536*b}a[0]+=b-1+37*(b-1)}function p(a,b,c){let d=~(c-1);for(let e=0;e<16;e++){let f=d&(a[e]^b[e]);a[e]^=f,b[e]^=f}}function q(a,b){let c=e(),d=e();for(let f=0;f<16;f++)d[f]=b[f];o(d),o(d),o(d);for(let g=0;g<2;g++){c[0]=d[0]-65517;for(let h=1;h<15;h++)c[h]=d[h]-65535-(c[h-1]>>16&1),c[h-1]&=65535;c[15]=d[15]-32767-(c[14]>>16&1);let i=c[15]>>16&1;c[14]&=65535,p(d,c,1-i)}for(let j=0;j<16;j++)a[2*j]=255&d[j],a[2*j+1]=d[j]>>8}function r(a,b){let c=new Uint8Array(32),d=new Uint8Array(32);return q(c,a),q(d,b),function a(b,c){let d=0;for(let e=0;e<32;e++)d|=b[e]^c[e];return(1&d-1>>>8)-1}(c,d)}function s(a){let b=new Uint8Array(32);return q(b,a),1&b[0]}function t(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]+c[d]}function u(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]-c[d]}function v(a,b,c){let d,e,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,F=0,G=0,H=0,I=0,J=0,K=0,L=c[0],M=c[1],N=c[2],O=c[3],P=c[4],Q=c[5],R=c[6],S=c[7],T=c[8],U=c[9],V=c[10],W=c[11],X=c[12],Y=c[13],Z=c[14],$=c[15];f+=(d=b[0])*L,g+=d*M,h+=d*N,i+=d*O,j+=d*P,k+=d*Q,l+=d*R,m+=d*S,n+=d*T,o+=d*U,p+=d*V,q+=d*W,r+=d*X,s+=d*Y,t+=d*Z,u+=d*$,d=b[1],g+=d*L,h+=d*M,i+=d*N,j+=d*O,k+=d*P,l+=d*Q,m+=d*R,n+=d*S,o+=d*T,p+=d*U,q+=d*V,r+=d*W,s+=d*X,t+=d*Y,u+=d*Z,v+=d*$,d=b[2],h+=d*L,i+=d*M,j+=d*N,k+=d*O,l+=d*P,m+=d*Q,n+=d*R,o+=d*S,p+=d*T,q+=d*U,r+=d*V,s+=d*W,t+=d*X,u+=d*Y,v+=d*Z,w+=d*$,d=b[3],i+=d*L,j+=d*M,k+=d*N,l+=d*O,m+=d*P,n+=d*Q,o+=d*R,p+=d*S,q+=d*T,r+=d*U,s+=d*V,t+=d*W,u+=d*X,v+=d*Y,w+=d*Z,x+=d*$,d=b[4],j+=d*L,k+=d*M,l+=d*N,m+=d*O,n+=d*P,o+=d*Q,p+=d*R,q+=d*S,r+=d*T,s+=d*U,t+=d*V,u+=d*W,v+=d*X,w+=d*Y,x+=d*Z,y+=d*$,d=b[5],k+=d*L,l+=d*M,m+=d*N,n+=d*O,o+=d*P,p+=d*Q,q+=d*R,r+=d*S,s+=d*T,t+=d*U,u+=d*V,v+=d*W,w+=d*X,x+=d*Y,y+=d*Z,z+=d*$,d=b[6],l+=d*L,m+=d*M,n+=d*N,o+=d*O,p+=d*P,q+=d*Q,r+=d*R,s+=d*S,t+=d*T,u+=d*U,v+=d*V,w+=d*W,x+=d*X,y+=d*Y,z+=d*Z,A+=d*$,d=b[7],m+=d*L,n+=d*M,o+=d*N,p+=d*O,q+=d*P,r+=d*Q,s+=d*R,t+=d*S,u+=d*T,v+=d*U,w+=d*V,x+=d*W,y+=d*X,z+=d*Y,A+=d*Z,B+=d*$,d=b[8],n+=d*L,o+=d*M,p+=d*N,q+=d*O,r+=d*P,s+=d*Q,t+=d*R,u+=d*S,v+=d*T,w+=d*U,x+=d*V,y+=d*W,z+=d*X,A+=d*Y,B+=d*Z,C+=d*$,d=b[9],o+=d*L,p+=d*M,q+=d*N,r+=d*O,s+=d*P,t+=d*Q,u+=d*R,v+=d*S,w+=d*T,x+=d*U,y+=d*V,z+=d*W,A+=d*X,B+=d*Y,C+=d*Z,D+=d*$,d=b[10],p+=d*L,q+=d*M,r+=d*N,s+=d*O,t+=d*P,u+=d*Q,v+=d*R,w+=d*S,x+=d*T,y+=d*U,z+=d*V,A+=d*W,B+=d*X,C+=d*Y,D+=d*Z,F+=d*$,d=b[11],q+=d*L,r+=d*M,s+=d*N,t+=d*O,u+=d*P,v+=d*Q,w+=d*R,x+=d*S,y+=d*T,z+=d*U,A+=d*V,B+=d*W,C+=d*X,D+=d*Y,F+=d*Z,G+=d*$,d=b[12],r+=d*L,s+=d*M,t+=d*N,u+=d*O,v+=d*P,w+=d*Q,x+=d*R,y+=d*S,z+=d*T,A+=d*U,B+=d*V,C+=d*W,D+=d*X,F+=d*Y,G+=d*Z,H+=d*$,d=b[13],s+=d*L,t+=d*M,u+=d*N,v+=d*O,w+=d*P,x+=d*Q,y+=d*R,z+=d*S,A+=d*T,B+=d*U,C+=d*V,D+=d*W,F+=d*X,G+=d*Y,H+=d*Z,I+=d*$,d=b[14],t+=d*L,u+=d*M,v+=d*N,w+=d*O,x+=d*P,y+=d*Q,z+=d*R,A+=d*S,B+=d*T,C+=d*U,D+=d*V,F+=d*W,G+=d*X,H+=d*Y,I+=d*Z,J+=d*$,d=b[15],u+=d*L,v+=d*M,w+=d*N,x+=d*O,y+=d*P,z+=d*Q,A+=d*R,B+=d*S,C+=d*T,D+=d*U,F+=d*V,G+=d*W,H+=d*X,I+=d*Y,J+=d*Z,K+=d*$,f+=38*v,g+=38*w,h+=38*x,i+=38*y,j+=38*z,k+=38*A,l+=38*B,m+=38*C,n+=38*D,o+=38*F,p+=38*G,q+=38*H,r+=38*I,s+=38*J,t+=38*K,e=1,d=f+e+65535,e=Math.floor(d/65536),f=d-65536*e,d=g+e+65535,e=Math.floor(d/65536),g=d-65536*e,d=h+e+65535,e=Math.floor(d/65536),h=d-65536*e,d=i+e+65535,e=Math.floor(d/65536),i=d-65536*e,d=j+e+65535,e=Math.floor(d/65536),j=d-65536*e,d=k+e+65535,e=Math.floor(d/65536),k=d-65536*e,d=l+e+65535,e=Math.floor(d/65536),l=d-65536*e,d=m+e+65535,e=Math.floor(d/65536),m=d-65536*e,d=n+e+65535,e=Math.floor(d/65536),n=d-65536*e,d=o+e+65535,e=Math.floor(d/65536),o=d-65536*e,d=p+e+65535,e=Math.floor(d/65536),p=d-65536*e,d=q+e+65535,e=Math.floor(d/65536),q=d-65536*e,d=r+e+65535,e=Math.floor(d/65536),r=d-65536*e,d=s+e+65535,e=Math.floor(d/65536),s=d-65536*e,d=t+e+65535,e=Math.floor(d/65536),t=d-65536*e,d=u+e+65535,e=Math.floor(d/65536),u=d-65536*e,f+=e-1+37*(e-1),e=1,d=f+e+65535,e=Math.floor(d/65536),f=d-65536*e,d=g+e+65535,e=Math.floor(d/65536),g=d-65536*e,d=h+e+65535,e=Math.floor(d/65536),h=d-65536*e,d=i+e+65535,e=Math.floor(d/65536),i=d-65536*e,d=j+e+65535,e=Math.floor(d/65536),j=d-65536*e,d=k+e+65535,e=Math.floor(d/65536),k=d-65536*e,d=l+e+65535,e=Math.floor(d/65536),l=d-65536*e,d=m+e+65535,e=Math.floor(d/65536),m=d-65536*e,d=n+e+65535,e=Math.floor(d/65536),n=d-65536*e,d=o+e+65535,e=Math.floor(d/65536),o=d-65536*e,d=p+e+65535,e=Math.floor(d/65536),p=d-65536*e,d=q+e+65535,e=Math.floor(d/65536),q=d-65536*e,d=r+e+65535,e=Math.floor(d/65536),r=d-65536*e,d=s+e+65535,e=Math.floor(d/65536),s=d-65536*e,d=t+e+65535,e=Math.floor(d/65536),t=d-65536*e,d=u+e+65535,e=Math.floor(d/65536),u=d-65536*e,f+=e-1+37*(e-1),a[0]=f,a[1]=g,a[2]=h,a[3]=i,a[4]=j,a[5]=k,a[6]=l,a[7]=m,a[8]=n,a[9]=o,a[10]=p,a[11]=q,a[12]=r,a[13]=s,a[14]=t,a[15]=u}function w(a,b){v(a,b,b)}function x(a,b){let c=e(),d=e(),f=e(),g=e(),h=e(),i=e(),k=e(),l=e(),m=e();u(c,a[1],a[0]),u(m,b[1],b[0]),v(c,c,m),t(d,a[0],a[1]),t(m,b[0],b[1]),v(d,d,m),v(f,a[3],b[3]),v(f,f,j),v(g,a[2],b[2]),t(g,g,g),u(h,d,c),u(i,g,f),t(k,g,f),t(l,d,c),v(a[0],h,i),v(a[1],l,k),v(a[2],k,i),v(a[3],h,l)}function y(a,b,c){for(let d=0;d<4;d++)p(a[d],b[d],c)}function z(a,b){let c=e(),d=e(),f=e();(function a(b,c){let d=e(),f;for(f=0;f<16;f++)d[f]=c[f];for(f=253;f>=0;f--)w(d,d),2!==f&&4!==f&&v(d,d,c);for(f=0;f<16;f++)b[f]=d[f]})(f,b[2]),v(c,b[0],f),v(d,b[1],f),q(a,d),a[31]^=s(c)<<7}function A(a,b){let c=[e(),e(),e(),e()];n(c[0],k),n(c[1],l),n(c[2],h),v(c[3],k,l),function a(b,c,d){n(b[0],g),n(b[1],h),n(b[2],h),n(b[3],g);for(let e=255;e>=0;--e){let f=d[e/8|0]>>(7&e)&1;y(b,c,f),x(c,b),x(b,b),y(b,c,f)}}(a,c,b)}b._w=function a(c){if(c.length!==b.aP)throw Error(`ed25519: seed must be ${b.aP} bytes`);let f=(0,d.hash)(c);f[0]&=248,f[31]&=127,f[31]|=64;let g=new Uint8Array(32),h=[e(),e(),e(),e()];A(h,f),z(g,h);let i=new Uint8Array(64);return i.set(c),i.set(g,32),{publicKey:g,secretKey:i}};let B=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function C(a,b){let c,d,e,f;for(d=63;d>=32;--d){for(c=0,e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*B[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=256*c;b[e]+=c,b[d]=0}for(e=0,c=0;e<32;e++)b[e]+=c-(b[31]>>4)*B[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*B[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=255&b[d]}function D(a){let b=new Float64Array(64);for(let c=0;c<64;c++)b[c]=a[c];for(let d=0;d<64;d++)a[d]=0;C(a,b)}b.Xx=function(a,b){let c=new Float64Array(64),f=[e(),e(),e(),e()],g=(0,d.hash)(a.subarray(0,32));g[0]&=248,g[31]&=127,g[31]|=64;let h=new Uint8Array(64);h.set(g.subarray(32),32);let i=new d.SHA512;i.update(h.subarray(32)),i.update(b);let j=i.digest();i.clean(),D(j),A(f,j),z(h,f),i.reset(),i.update(h.subarray(0,32)),i.update(a.subarray(32)),i.update(b);let k=i.digest();D(k);for(let l=0;l<32;l++)c[l]=j[l];for(let m=0;m<32;m++)for(let n=0;n<32;n++)c[m+n]+=k[m]*g[n];return C(h.subarray(32),c),h}},79984:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isSerializableHash=function(a){return void 0!==a.saveState&& void 0!==a.restoreState&& void 0!==a.cleanSavedState}},512:function(a,b,c){"use strict";var d=c(25629),e=c(17309),f=function(){function a(a,b,c,e){void 0===c&&(c=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=a,this._info=e;var f=d.hmac(this._hash,c,b);this._hmac=new d.HMAC(a,f),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return a.prototype._fillBuffer=function(){this._counter[0]++;var a=this._counter[0];if(0===a)throw Error("hkdf: cannot expand more");this._hmac.reset(),a>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},a.prototype.expand=function(a){for(var b=new Uint8Array(a),c=0;c<b.length;c++)this._bufpos===this._buffer.length&&this._fillBuffer(),b[c]=this._buffer[this._bufpos++];return b},a.prototype.clean=function(){this._hmac.clean(),e.wipe(this._buffer),e.wipe(this._counter),this._bufpos=0},a}();b.t=f},25629:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(79984),e=c(4153),f=c(17309),g=function(){function a(a,b){this._finished=!1,this._inner=new a,this._outer=new a,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var c=new Uint8Array(this.blockSize);b.length>this.blockSize?this._inner.update(b).finish(c).clean():c.set(b);for(var e=0;e<c.length;e++)c[e]^=54;this._inner.update(c);for(var e=0;e<c.length;e++)c[e]^=106;this._outer.update(c),d.isSerializableHash(this._inner)&&d.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),f.wipe(c)}return a.prototype.reset=function(){if(!d.isSerializableHash(this._inner)||!d.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},a.prototype.clean=function(){d.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),d.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},a.prototype.update=function(a){return this._inner.update(a),this},a.prototype.finish=function(a){return this._finished?(this._outer.finish(a),this):(this._inner.finish(a),this._outer.update(a.subarray(0,this.digestLength)).finish(a),this._finished=!0,this)},a.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},a.prototype.saveState=function(){if(!d.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},a.prototype.restoreState=function(a){if(!d.isSerializableHash(this._inner)||!d.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(a),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},a.prototype.cleanSavedState=function(a){if(!d.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(a)},a}();b.HMAC=g,b.hmac=function(a,b,c){var d=new g(a,b);d.update(c);var e=d.digest();return d.clean(),e},b.equal=e.equal},97117:function(a,b){"use strict";function c(a,b){return a+b|0}function d(a,b){return a-b|0}Object.defineProperty(b,"__esModule",{value:!0}),b.mul=Math.imul||function(a,b){var c=65535&a,d=65535&b;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0},b.add=c,b.sub=d,b.rotl=function(a,b){return a<<b|a>>>32-b},b.rotr=function(a,b){return a<<32-b|a>>>b},b.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},b.MAX_SAFE_INTEGER=9007199254740991,b.isSafeInteger=function(a){return b.isInteger(a)&&a>= -b.MAX_SAFE_INTEGER&&a<=b.MAX_SAFE_INTEGER}},63027:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(4153),e=c(17309);b.DIGEST_LENGTH=16;var f=function(){function a(a){this.digestLength=b.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=8191&c;var d=a[2]|a[3]<<8;this._r[1]=(c>>>13|d<<3)&8191;var e=a[4]|a[5]<<8;this._r[2]=(d>>>10|e<<6)&7939;var f=a[6]|a[7]<<8;this._r[3]=(e>>>7|f<<9)&8191;var g=a[8]|a[9]<<8;this._r[4]=(f>>>4|g<<12)&255,this._r[5]=g>>>1&8190;var h=a[10]|a[11]<<8;this._r[6]=(g>>>14|h<<2)&8191;var i=a[12]|a[13]<<8;this._r[7]=(h>>>11|i<<5)&8065;var j=a[14]|a[15]<<8;this._r[8]=(i>>>8|j<<8)&8191,this._r[9]=j>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return a.prototype._blocks=function(a,b,c){for(var d=this._fin?0:2048,e=this._h[0],f=this._h[1],g=this._h[2],h=this._h[3],i=this._h[4],j=this._h[5],k=this._h[6],l=this._h[7],m=this._h[8],n=this._h[9],o=this._r[0],p=this._r[1],q=this._r[2],r=this._r[3],s=this._r[4],t=this._r[5],u=this._r[6],v=this._r[7],w=this._r[8],x=this._r[9];c>=16;){var y=a[b+0]|a[b+1]<<8;e+=8191&y;var z=a[b+2]|a[b+3]<<8;f+=(y>>>13|z<<3)&8191;var A=a[b+4]|a[b+5]<<8;g+=(z>>>10|A<<6)&8191;var B=a[b+6]|a[b+7]<<8;h+=(A>>>7|B<<9)&8191;var C=a[b+8]|a[b+9]<<8;i+=(B>>>4|C<<12)&8191,j+=C>>>1&8191;var D=a[b+10]|a[b+11]<<8;k+=(C>>>14|D<<2)&8191;var F=a[b+12]|a[b+13]<<8;l+=(D>>>11|F<<5)&8191;var G=a[b+14]|a[b+15]<<8;m+=(F>>>8|G<<8)&8191,n+=G>>>5|d;var H=0,I=H;I+=e*o,I+=f*(5*x),I+=g*(5*w),I+=h*(5*v),I+=i*(5*u),H=I>>>13,I&=8191,I+=j*(5*t),I+=k*(5*s),I+=l*(5*r),I+=m*(5*q),I+=n*(5*p),H+=I>>>13,I&=8191;var J=H;J+=e*p,J+=f*o,J+=g*(5*x),J+=h*(5*w),J+=i*(5*v),H=J>>>13,J&=8191,J+=j*(5*u),J+=k*(5*t),J+=l*(5*s),J+=m*(5*r),J+=n*(5*q),H+=J>>>13,J&=8191;var K=H;K+=e*q,K+=f*p,K+=g*o,K+=h*(5*x),K+=i*(5*w),H=K>>>13,K&=8191,K+=j*(5*v),K+=k*(5*u),K+=l*(5*t),K+=m*(5*s),K+=n*(5*r),H+=K>>>13,K&=8191;var L=H;L+=e*r,L+=f*q,L+=g*p,L+=h*o,L+=i*(5*x),H=L>>>13,L&=8191,L+=j*(5*w),L+=k*(5*v),L+=l*(5*u),L+=m*(5*t),L+=n*(5*s),H+=L>>>13,L&=8191;var M=H;M+=e*s,M+=f*r,M+=g*q,M+=h*p,M+=i*o,H=M>>>13,M&=8191,M+=j*(5*x),M+=k*(5*w),M+=l*(5*v),M+=m*(5*u),M+=n*(5*t),H+=M>>>13,M&=8191;var N=H;N+=e*t,N+=f*s,N+=g*r,N+=h*q,N+=i*p,H=N>>>13,N&=8191,N+=j*o,N+=k*(5*x),N+=l*(5*w),N+=m*(5*v),N+=n*(5*u),H+=N>>>13,N&=8191;var O=H;O+=e*u,O+=f*t,O+=g*s,O+=h*r,O+=i*q,H=O>>>13,O&=8191,O+=j*p,O+=k*o,O+=l*(5*x),O+=m*(5*w),O+=n*(5*v),H+=O>>>13,O&=8191;var P=H;P+=e*v,P+=f*u,P+=g*t,P+=h*s,P+=i*r,H=P>>>13,P&=8191,P+=j*q,P+=k*p,P+=l*o,P+=m*(5*x),P+=n*(5*w),H+=P>>>13,P&=8191;var Q=H;Q+=e*w,Q+=f*v,Q+=g*u,Q+=h*t,Q+=i*s,H=Q>>>13,Q&=8191,Q+=j*r,Q+=k*q,Q+=l*p,Q+=m*o,Q+=n*(5*x),H+=Q>>>13,Q&=8191;var R=H;R+=e*x,R+=f*w,R+=g*v,R+=h*u,R+=i*t,H=R>>>13,R&=8191,R+=j*s,R+=k*r,R+=l*q,R+=m*p,R+=n*o,H+=R>>>13,R&=8191,I=8191&(H=(H=(H<<2)+H|0)+I|0),H>>>=13,J+=H,e=I,f=J,g=K,h=L,i=M,j=N,k=O,l=P,m=Q,n=R,b+=16,c-=16}this._h[0]=e,this._h[1]=f,this._h[2]=g,this._h[3]=h,this._h[4]=i,this._h[5]=j,this._h[6]=k,this._h[7]=l,this._h[8]=m,this._h[9]=n},a.prototype.finish=function(a,b){void 0===b&&(b=0);var c,d,e,f,g=new Uint16Array(10);if(this._leftover){for(f=this._leftover,this._buffer[f++]=1;f<16;f++)this._buffer[f]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(c=this._h[1]>>>13,this._h[1]&=8191,f=2;f<10;f++)this._h[f]+=c,c=this._h[f]>>>13,this._h[f]&=8191;for(this._h[0]+=5*c,c=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=c,c=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=c,g[0]=this._h[0]+5,c=g[0]>>>13,g[0]&=8191,f=1;f<10;f++)g[f]=this._h[f]+c,c=g[f]>>>13,g[f]&=8191;for(g[9]-=8192,d=(1^c)-1,f=0;f<10;f++)g[f]&=d;for(f=0,d=~d;f<10;f++)this._h[f]=this._h[f]&d|g[f];for(f=1,this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,e=this._h[0]+this._pad[0],this._h[0]=65535&e;f<8;f++)e=(this._h[f]+this._pad[f]|0)+(e>>>16)|0,this._h[f]=65535&e;return a[b+0]=this._h[0]>>>0,a[b+1]=this._h[0]>>>8,a[b+2]=this._h[1]>>>0,a[b+3]=this._h[1]>>>8,a[b+4]=this._h[2]>>>0,a[b+5]=this._h[2]>>>8,a[b+6]=this._h[3]>>>0,a[b+7]=this._h[3]>>>8,a[b+8]=this._h[4]>>>0,a[b+9]=this._h[4]>>>8,a[b+10]=this._h[5]>>>0,a[b+11]=this._h[5]>>>8,a[b+12]=this._h[6]>>>0,a[b+13]=this._h[6]>>>8,a[b+14]=this._h[7]>>>0,a[b+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(a){var b,c=0,d=a.length;if(this._leftover){(b=16-this._leftover)>d&&(b=d);for(var e=0;e<b;e++)this._buffer[this._leftover+e]=a[c+e];if(d-=b,c+=b,this._leftover+=b,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(d>=16&&(b=d-d%16,this._blocks(a,c,b),c+=b,d-=b),d){for(var e=0;e<d;e++)this._buffer[this._leftover+e]=a[c+e];this._leftover+=d}return this},a.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},a.prototype.clean=function(){return e.wipe(this._buffer),e.wipe(this._r),e.wipe(this._h),e.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();b.Poly1305=f,b.oneTimeAuth=function(a,b){var c=new f(a);c.update(b);var d=c.digest();return c.clean(),d},b.equal=function(a,c){return a.length===b.DIGEST_LENGTH&&c.length===b.DIGEST_LENGTH&&d.equal(a,c)}},31416:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.randomStringForEntropy=b.randomString=b.randomUint32=b.randomBytes=b.defaultRandomSource=void 0;let d=c(46008),e=c(98099),f=c(17309);function g(a,c=b.defaultRandomSource){return c.randomBytes(a)}b.defaultRandomSource=new d.SystemRandomSource,b.randomBytes=g,b.randomUint32=function(a=b.defaultRandomSource){let c=g(4,a),d=(0,e.readUint32LE)(c);return(0,f.wipe)(c),d};let h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function i(a,c=h,d=b.defaultRandomSource){if(c.length<2)throw Error("randomString charset is too short");if(c.length>256)throw Error("randomString charset is too long");let e="",i=c.length,j=256-256%i;for(;a>0;){let k=g(Math.ceil(256*a/j),d);for(let l=0;l<k.length&&a>0;l++){let m=k[l];m<j&&(e+=c.charAt(m%i),a--)}(0,f.wipe)(k)}return e}b.randomString=i,b.randomStringForEntropy=function(a,c=h,d=b.defaultRandomSource){let e=Math.ceil(a/(Math.log(c.length)/Math.LN2));return i(e,c,d)}},75455:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BrowserRandomSource=void 0,b.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let a="undefined"!=typeof self?self.crypto||self.msCrypto:null;a&& void 0!==a.getRandomValues&&(this._crypto=a,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(a){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let b=new Uint8Array(a);for(let c=0;c<b.length;c+=65536)this._crypto.getRandomValues(b.subarray(c,c+Math.min(b.length-c,65536)));return b}}},58871:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeRandomSource=void 0;let d=c(17309);b.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let a=c(35883);a&&a.randomBytes&&(this._crypto=a,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(a){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let b=this._crypto.randomBytes(a);if(b.length!==a)throw Error("NodeRandomSource: got fewer bytes than requested");let c=new Uint8Array(a);for(let e=0;e<c.length;e++)c[e]=b[e];return(0,d.wipe)(b),c}}},46008:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SystemRandomSource=void 0;let d=c(75455),e=c(58871);b.SystemRandomSource=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new d.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new e.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(a){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(a)}}},73294:function(a,b,c){"use strict";var d=c(98099),e=c(17309);b.k=32,b.cn=64;var f=function(){function a(){this.digestLength=b.k,this.blockSize=b.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){e.wipe(this._buffer),e.wipe(this._temp),this.reset()},a.prototype.update=function(a,b){if(void 0===b&&(b=a.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var c=0;if(this._bytesHashed+=b,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&b>0;)this._buffer[this._bufferLength++]=a[c++],b--;this._bufferLength===this.blockSize&&(h(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(b>=this.blockSize&&(c=h(this._temp,this._state,a,c,b),b%=this.blockSize);b>0;)this._buffer[this._bufferLength++]=a[c++],b--;return this},a.prototype.finish=function(a){if(!this._finished){var b=this._bytesHashed,c=this._bufferLength,e=b/536870912|0,f=b<<3,g=b%64<56?64:128;this._buffer[c]=128;for(var i=c+1;i<g-8;i++)this._buffer[i]=0;d.writeUint32BE(e,this._buffer,g-8),d.writeUint32BE(f,this._buffer,g-4),h(this._temp,this._state,this._buffer,0,g),this._finished=!0}for(var i=0;i<this.digestLength/4;i++)d.writeUint32BE(this._state[i],a,4*i);return this},a.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},a.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(a){return this._state.set(a.state),this._bufferLength=a.bufferLength,a.buffer&&this._buffer.set(a.buffer),this._bytesHashed=a.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(a){e.wipe(a.state),a.buffer&&e.wipe(a.buffer),a.bufferLength=0,a.bytesHashed=0},a}();b.mE=f;var g=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function h(a,b,c,e,f){for(;f>=64;){for(var h=b[0],i=b[1],j=b[2],k=b[3],l=b[4],m=b[5],n=b[6],o=b[7],p=0;p<16;p++){var q=e+4*p;a[p]=d.readUint32BE(c,q)}for(var p=16;p<64;p++){var r=a[p-2],s=(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,t=((r=a[p-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3;a[p]=(s+a[p-7]|0)+(t+a[p-16]|0)}for(var p=0;p<64;p++){var s=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&m^ ~l&n)|0)+(o+(g[p]+a[p]|0)|0)|0,t=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&i^h&j^i&j)|0;o=n,n=m,m=l,l=k+s|0,k=j,j=i,i=h,h=s+t|0}b[0]+=h,b[1]+=i,b[2]+=j,b[3]+=k,b[4]+=l,b[5]+=m,b[6]+=n,b[7]+=o,e+=64,f-=64}return e}b.vp=function(a){var b=new f;b.update(a);var c=b.digest();return b.clean(),c}},93350:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(98099),e=c(17309);b.DIGEST_LENGTH=64,b.BLOCK_SIZE=128;var f=function(){function a(){this.digestLength=b.DIGEST_LENGTH,this.blockSize=b.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){e.wipe(this._buffer),e.wipe(this._tempHi),e.wipe(this._tempLo),this.reset()},a.prototype.update=function(a,c){if(void 0===c&&(c=a.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var d=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<b.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=a[d++],c--;this._bufferLength===this.blockSize&&(h(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(d=h(this._tempHi,this._tempLo,this._stateHi,this._stateLo,a,d,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=a[d++],c--;return this},a.prototype.finish=function(a){if(!this._finished){var b=this._bytesHashed,c=this._bufferLength,e=b/536870912|0,f=b<<3,g=b%128<112?128:256;this._buffer[c]=128;for(var i=c+1;i<g-8;i++)this._buffer[i]=0;d.writeUint32BE(e,this._buffer,g-8),d.writeUint32BE(f,this._buffer,g-4),h(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,g),this._finished=!0}for(var i=0;i<this.digestLength/8;i++)d.writeUint32BE(this._stateHi[i],a,8*i),d.writeUint32BE(this._stateLo[i],a,8*i+4);return this},a.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},a.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(a){return this._stateHi.set(a.stateHi),this._stateLo.set(a.stateLo),this._bufferLength=a.bufferLength,a.buffer&&this._buffer.set(a.buffer),this._bytesHashed=a.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(a){e.wipe(a.stateHi),e.wipe(a.stateLo),a.buffer&&e.wipe(a.buffer),a.bufferLength=0,a.bytesHashed=0},a}();b.SHA512=f;var g=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function h(a,b,c,e,f,h,i){for(var j,k,l,m,n,o,p,q,r=c[0],s=c[1],t=c[2],u=c[3],v=c[4],w=c[5],x=c[6],y=c[7],z=e[0],A=e[1],B=e[2],C=e[3],D=e[4],F=e[5],G=e[6],H=e[7];i>=128;){for(var I=0;I<16;I++){var J=8*I+h;a[I]=d.readUint32BE(f,J),b[I]=d.readUint32BE(f,J+4)}for(var I=0;I<80;I++){var K=r,L=s,M=t,N=u,O=v,P=w,Q=x,R=y,S=z,T=A,U=B,V=C,W=D,X=F,Y=G,Z=H;if(j=y,n=65535&(k=H),o=k>>>16,p=65535&j,q=j>>>16,j=(v>>>14|D<<18)^(v>>>18|D<<14)^(D>>>9|v<<23),k=(D>>>14|v<<18)^(D>>>18|v<<14)^(v>>>9|D<<23),n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,j=v&w^ ~v&x,k=D&F^ ~D&G,n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,j=g[2*I],k=g[2*I+1],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,j=a[I%16],k=b[I%16],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,l=65535&p|q<<16,m=65535&n|o<<16,j=l,k=m,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=(r>>>28|z<<4)^(z>>>2|r<<30)^(z>>>7|r<<25),k=(z>>>28|r<<4)^(r>>>2|z<<30)^(r>>>7|z<<25),n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,j=r&s^r&t^s&t,k=z&A^z&B^A&B,n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,R=65535&p|q<<16,Z=65535&n|o<<16,j=N,k=V,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=l,k=m,n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,N=65535&p|q<<16,V=65535&n|o<<16,s=K,t=L,u=M,v=N,w=O,x=P,y=Q,r=R,A=S,B=T,C=U,D=V,F=W,G=X,H=Y,z=Z,I%16==15)for(var J=0;J<16;J++)j=a[J],k=b[J],n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=a[(J+9)%16],k=b[(J+9)%16],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,l=a[(J+1)%16],m=b[(J+1)%16],j=(l>>>1|m<<31)^(l>>>8|m<<24)^l>>>7,k=(m>>>1|l<<31)^(m>>>8|l<<24)^(m>>>7|l<<25),n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,l=a[(J+14)%16],m=b[(J+14)%16],j=(l>>>19|m<<13)^(m>>>29|l<<3)^l>>>6,k=(m>>>19|l<<13)^(l>>>29|m<<3)^(m>>>6|l<<26),n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,a[J]=65535&p|q<<16,b[J]=65535&n|o<<16}j=r,n=65535&(k=z),o=k>>>16,p=65535&j,q=j>>>16,j=c[0],k=e[0],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[0]=r=65535&p|q<<16,e[0]=z=65535&n|o<<16,j=s,k=A,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[1],k=e[1],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[1]=s=65535&p|q<<16,e[1]=A=65535&n|o<<16,j=t,k=B,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[2],k=e[2],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[2]=t=65535&p|q<<16,e[2]=B=65535&n|o<<16,j=u,k=C,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[3],k=e[3],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[3]=u=65535&p|q<<16,e[3]=C=65535&n|o<<16,j=v,k=D,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[4],k=e[4],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[4]=v=65535&p|q<<16,e[4]=D=65535&n|o<<16,j=w,k=F,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[5],k=e[5],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[5]=w=65535&p|q<<16,e[5]=F=65535&n|o<<16,j=x,k=G,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[6],k=e[6],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[6]=x=65535&p|q<<16,e[6]=G=65535&n|o<<16,j=y,k=H,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[7],k=e[7],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[7]=y=65535&p|q<<16,e[7]=H=65535&n|o<<16,h+=128,i-=128}return h}b.hash=function(a){var b=new f;b.update(a);var c=b.digest();return b.clean(),c}},17309:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.wipe=function(a){for(var b=0;b<a.length;b++)a[b]=0;return a}},57664:function(a,b,c){"use strict";b.gi=b.Au=b.KS=b.kz=void 0;let d=c(31416),e=c(17309);function f(a){let b=new Float64Array(16);if(a)for(let c=0;c<a.length;c++)b[c]=a[c];return b}b.kz=32,b.KS=32;let g=new Uint8Array(32);g[0]=9;let h=f([56129,1]);function i(a){let b=1;for(let c=0;c<16;c++){let d=a[c]+b+65535;b=Math.floor(d/65536),a[c]=d-65536*b}a[0]+=b-1+37*(b-1)}function j(a,b,c){let d=~(c-1);for(let e=0;e<16;e++){let f=d&(a[e]^b[e]);a[e]^=f,b[e]^=f}}function k(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]+c[d]}function l(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]-c[d]}function m(a,b,c){let d,e,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,F=0,G=0,H=0,I=0,J=0,K=0,L=c[0],M=c[1],N=c[2],O=c[3],P=c[4],Q=c[5],R=c[6],S=c[7],T=c[8],U=c[9],V=c[10],W=c[11],X=c[12],Y=c[13],Z=c[14],$=c[15];f+=(d=b[0])*L,g+=d*M,h+=d*N,i+=d*O,j+=d*P,k+=d*Q,l+=d*R,m+=d*S,n+=d*T,o+=d*U,p+=d*V,q+=d*W,r+=d*X,s+=d*Y,t+=d*Z,u+=d*$,d=b[1],g+=d*L,h+=d*M,i+=d*N,j+=d*O,k+=d*P,l+=d*Q,m+=d*R,n+=d*S,o+=d*T,p+=d*U,q+=d*V,r+=d*W,s+=d*X,t+=d*Y,u+=d*Z,v+=d*$,d=b[2],h+=d*L,i+=d*M,j+=d*N,k+=d*O,l+=d*P,m+=d*Q,n+=d*R,o+=d*S,p+=d*T,q+=d*U,r+=d*V,s+=d*W,t+=d*X,u+=d*Y,v+=d*Z,w+=d*$,d=b[3],i+=d*L,j+=d*M,k+=d*N,l+=d*O,m+=d*P,n+=d*Q,o+=d*R,p+=d*S,q+=d*T,r+=d*U,s+=d*V,t+=d*W,u+=d*X,v+=d*Y,w+=d*Z,x+=d*$,d=b[4],j+=d*L,k+=d*M,l+=d*N,m+=d*O,n+=d*P,o+=d*Q,p+=d*R,q+=d*S,r+=d*T,s+=d*U,t+=d*V,u+=d*W,v+=d*X,w+=d*Y,x+=d*Z,y+=d*$,d=b[5],k+=d*L,l+=d*M,m+=d*N,n+=d*O,o+=d*P,p+=d*Q,q+=d*R,r+=d*S,s+=d*T,t+=d*U,u+=d*V,v+=d*W,w+=d*X,x+=d*Y,y+=d*Z,z+=d*$,d=b[6],l+=d*L,m+=d*M,n+=d*N,o+=d*O,p+=d*P,q+=d*Q,r+=d*R,s+=d*S,t+=d*T,u+=d*U,v+=d*V,w+=d*W,x+=d*X,y+=d*Y,z+=d*Z,A+=d*$,d=b[7],m+=d*L,n+=d*M,o+=d*N,p+=d*O,q+=d*P,r+=d*Q,s+=d*R,t+=d*S,u+=d*T,v+=d*U,w+=d*V,x+=d*W,y+=d*X,z+=d*Y,A+=d*Z,B+=d*$,d=b[8],n+=d*L,o+=d*M,p+=d*N,q+=d*O,r+=d*P,s+=d*Q,t+=d*R,u+=d*S,v+=d*T,w+=d*U,x+=d*V,y+=d*W,z+=d*X,A+=d*Y,B+=d*Z,C+=d*$,d=b[9],o+=d*L,p+=d*M,q+=d*N,r+=d*O,s+=d*P,t+=d*Q,u+=d*R,v+=d*S,w+=d*T,x+=d*U,y+=d*V,z+=d*W,A+=d*X,B+=d*Y,C+=d*Z,D+=d*$,d=b[10],p+=d*L,q+=d*M,r+=d*N,s+=d*O,t+=d*P,u+=d*Q,v+=d*R,w+=d*S,x+=d*T,y+=d*U,z+=d*V,A+=d*W,B+=d*X,C+=d*Y,D+=d*Z,F+=d*$,d=b[11],q+=d*L,r+=d*M,s+=d*N,t+=d*O,u+=d*P,v+=d*Q,w+=d*R,x+=d*S,y+=d*T,z+=d*U,A+=d*V,B+=d*W,C+=d*X,D+=d*Y,F+=d*Z,G+=d*$,d=b[12],r+=d*L,s+=d*M,t+=d*N,u+=d*O,v+=d*P,w+=d*Q,x+=d*R,y+=d*S,z+=d*T,A+=d*U,B+=d*V,C+=d*W,D+=d*X,F+=d*Y,G+=d*Z,H+=d*$,d=b[13],s+=d*L,t+=d*M,u+=d*N,v+=d*O,w+=d*P,x+=d*Q,y+=d*R,z+=d*S,A+=d*T,B+=d*U,C+=d*V,D+=d*W,F+=d*X,G+=d*Y,H+=d*Z,I+=d*$,d=b[14],t+=d*L,u+=d*M,v+=d*N,w+=d*O,x+=d*P,y+=d*Q,z+=d*R,A+=d*S,B+=d*T,C+=d*U,D+=d*V,F+=d*W,G+=d*X,H+=d*Y,I+=d*Z,J+=d*$,d=b[15],u+=d*L,v+=d*M,w+=d*N,x+=d*O,y+=d*P,z+=d*Q,A+=d*R,B+=d*S,C+=d*T,D+=d*U,F+=d*V,G+=d*W,H+=d*X,I+=d*Y,J+=d*Z,K+=d*$,f+=38*v,g+=38*w,h+=38*x,i+=38*y,j+=38*z,k+=38*A,l+=38*B,m+=38*C,n+=38*D,o+=38*F,p+=38*G,q+=38*H,r+=38*I,s+=38*J,t+=38*K,e=1,d=f+e+65535,e=Math.floor(d/65536),f=d-65536*e,d=g+e+65535,e=Math.floor(d/65536),g=d-65536*e,d=h+e+65535,e=Math.floor(d/65536),h=d-65536*e,d=i+e+65535,e=Math.floor(d/65536),i=d-65536*e,d=j+e+65535,e=Math.floor(d/65536),j=d-65536*e,d=k+e+65535,e=Math.floor(d/65536),k=d-65536*e,d=l+e+65535,e=Math.floor(d/65536),l=d-65536*e,d=m+e+65535,e=Math.floor(d/65536),m=d-65536*e,d=n+e+65535,e=Math.floor(d/65536),n=d-65536*e,d=o+e+65535,e=Math.floor(d/65536),o=d-65536*e,d=p+e+65535,e=Math.floor(d/65536),p=d-65536*e,d=q+e+65535,e=Math.floor(d/65536),q=d-65536*e,d=r+e+65535,e=Math.floor(d/65536),r=d-65536*e,d=s+e+65535,e=Math.floor(d/65536),s=d-65536*e,d=t+e+65535,e=Math.floor(d/65536),t=d-65536*e,d=u+e+65535,e=Math.floor(d/65536),u=d-65536*e,f+=e-1+37*(e-1),e=1,d=f+e+65535,e=Math.floor(d/65536),f=d-65536*e,d=g+e+65535,e=Math.floor(d/65536),g=d-65536*e,d=h+e+65535,e=Math.floor(d/65536),h=d-65536*e,d=i+e+65535,e=Math.floor(d/65536),i=d-65536*e,d=j+e+65535,e=Math.floor(d/65536),j=d-65536*e,d=k+e+65535,e=Math.floor(d/65536),k=d-65536*e,d=l+e+65535,e=Math.floor(d/65536),l=d-65536*e,d=m+e+65535,e=Math.floor(d/65536),m=d-65536*e,d=n+e+65535,e=Math.floor(d/65536),n=d-65536*e,d=o+e+65535,e=Math.floor(d/65536),o=d-65536*e,d=p+e+65535,e=Math.floor(d/65536),p=d-65536*e,d=q+e+65535,e=Math.floor(d/65536),q=d-65536*e,d=r+e+65535,e=Math.floor(d/65536),r=d-65536*e,d=s+e+65535,e=Math.floor(d/65536),s=d-65536*e,d=t+e+65535,e=Math.floor(d/65536),t=d-65536*e,d=u+e+65535,e=Math.floor(d/65536),u=d-65536*e,f+=e-1+37*(e-1),a[0]=f,a[1]=g,a[2]=h,a[3]=i,a[4]=j,a[5]=k,a[6]=l,a[7]=m,a[8]=n,a[9]=o,a[10]=p,a[11]=q,a[12]=r,a[13]=s,a[14]=t,a[15]=u}function n(a,b){m(a,b,b)}function o(a,b){let c=new Uint8Array(32),d=new Float64Array(80),e=f(),g=f(),o=f(),p=f(),q=f(),r=f();for(let s=0;s<31;s++)c[s]=a[s];c[31]=127&a[31]|64,c[0]&=248,function(a,b){for(let c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}(d,b);for(let t=0;t<16;t++)g[t]=d[t];e[0]=p[0]=1;for(let u=254;u>=0;--u){let v=c[u>>>3]>>>(7&u)&1;j(e,g,v),j(o,p,v),k(q,e,o),l(e,e,o),k(o,g,p),l(g,g,p),n(p,q),n(r,e),m(e,o,e),m(o,g,q),k(q,e,o),l(e,e,o),n(g,e),l(o,p,r),m(e,o,h),k(e,e,p),m(o,o,e),m(e,p,r),m(p,g,d),n(g,q),j(e,g,v),j(o,p,v)}for(let w=0;w<16;w++)d[w+16]=e[w],d[w+32]=o[w],d[w+48]=g[w],d[w+64]=p[w];let x=d.subarray(32),y=d.subarray(16);!function(a,b){let c=f();for(let d=0;d<16;d++)c[d]=b[d];for(let e=253;e>=0;e--)n(c,c),2!==e&&4!==e&&m(c,c,b);for(let g=0;g<16;g++)a[g]=c[g]}(x,x),m(y,y,x);let z=new Uint8Array(32);return!function(a,b){let c=f(),d=f();for(let e=0;e<16;e++)d[e]=b[e];i(d),i(d),i(d);for(let g=0;g<2;g++){c[0]=d[0]-65517;for(let h=1;h<15;h++)c[h]=d[h]-65535-(c[h-1]>>16&1),c[h-1]&=65535;c[15]=d[15]-32767-(c[14]>>16&1);let k=c[15]>>16&1;c[14]&=65535,j(d,c,1-k)}for(let l=0;l<16;l++)a[2*l]=255&d[l],a[2*l+1]=d[l]>>8}(z,y),z}b.Au=function(a){let c=(0,d.randomBytes)(32,a),f=function a(c){var d;if(c.length!==b.KS)throw Error(`x25519: seed must be ${b.KS} bytes`);let e=new Uint8Array(c),f=(d=e,o(d,g));return{publicKey:f,secretKey:e}}(c);return(0,e.wipe)(c),f},b.gi=function(a,c,d=!1){if(a.length!==b.kz)throw Error("X25519: incorrect secret key length");if(c.length!==b.kz)throw Error("X25519: incorrect public key length");let e=o(a,c);if(d){let f=0;for(let g=0;g<e.length;g++)f|=e[g];if(0===f)throw Error("X25519: invalid shared key")}return e}},33814:function(a,b,c){"use strict";c.r(b),c.d(b,{EthereumProvider:function(){return hQ},OPTIONAL_EVENTS:function(){return hD},OPTIONAL_METHODS:function(){return hB},REQUIRED_EVENTS:function(){return hC},REQUIRED_METHODS:function(){return hA},default:function(){return hP}});var d={};c.r(d),c.d(d,{identity:function(){return L}});var e={};c.r(e),c.d(e,{base2:function(){return M}});var f={};c.r(f),c.d(f,{base8:function(){return N}});var g={};c.r(g),c.d(g,{base10:function(){return O}});var h={};c.r(h),c.d(h,{base16:function(){return P},base16upper:function(){return Q}});var i={};c.r(i),c.d(i,{base32:function(){return R},base32hex:function(){return V},base32hexpad:function(){return X},base32hexpadupper:function(){return Y},base32hexupper:function(){return W},base32pad:function(){return T},base32padupper:function(){return U},base32upper:function(){return S},base32z:function(){return Z}});var j={};c.r(j),c.d(j,{base36:function(){return $},base36upper:function(){return _}});var k={};c.r(k),c.d(k,{base58btc:function(){return aa},base58flickr:function(){return ab}});var l={};c.r(l),c.d(l,{base64:function(){return ac},base64pad:function(){return ad},base64url:function(){return ae},base64urlpad:function(){return af}});var m={};c.r(m),c.d(m,{sha256:function(){return ar},sha512:function(){return as}});var n={};c.r(n),c.d(n,{identity:function(){return at}});var o={};c.r(o),c.d(o,{code:function(){return av},decode:function(){return ax},encode:function(){return aw},name:function(){return au}});var p={};c.r(p),c.d(p,{code:function(){return aB},decode:function(){return aD},encode:function(){return aC},name:function(){return aA}});var q,r=c(17187),s=c.n(r),t=c(15501),u=c(512),v=c(31416),w=c(73294),x=c(57664),y=function(a,b){if(a.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),d=0;d<c.length;d++)c[d]=255;for(var e=0;e<a.length;e++){var f=a.charAt(e),g=f.charCodeAt(0);if(255!==c[g])throw TypeError(f+" is ambiguous");c[g]=e}var h=a.length,i=a.charAt(0),j=Math.log(h)/Math.log(256),k=Math.log(256)/Math.log(h);function l(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;var b=0;if(" "!==a[b]){for(var d=0,e=0;a[b]===i;)d++,b++;for(var f=(a.length-b)*j+1>>>0,g=new Uint8Array(f);a[b];){var k=c[a.charCodeAt(b)];if(255===k)return;for(var l=0,m=f-1;(0!==k||l<e)&& -1!==m;m--,l++)k+=h*g[m]>>>0,g[m]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");e=l,b++}if(" "!==a[b]){for(var n=f-e;n!==f&&0===g[n];)n++;for(var o=new Uint8Array(d+(f-n)),p=d;n!==f;)o[p++]=g[n++];return o}}}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";for(var c=0,d=0,e=0,f=b.length;e!==f&&0===b[e];)e++,c++;for(var g=(f-e)*k+1>>>0,j=new Uint8Array(g);e!==f;){for(var l=b[e],m=0,n=g-1;(0!==l||m<d)&& -1!==n;n--,m++)l+=256*j[n]>>>0,j[n]=l%h>>>0,l=l/h>>>0;if(0!==l)throw Error("Non-zero carry");d=m,e++}for(var o=g-d;o!==g&&0===j[o];)o++;for(var p=i.repeat(c);o<g;++o)p+=a.charAt(j[o]);return p},decodeUnsafe:l,decode:function(a){var c=l(a);if(c)return c;throw Error(`Non-${b} character`)}}};new Uint8Array(0);let z=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Unknown type, must be binary type")},A=a=>new TextEncoder().encode(a),B=a=>new TextDecoder().decode(a);class C{constructor(a){this.decoders=a}or(a){return D(this,a)}decode(a){let b=a[0],c=this.decoders[b];if(c)return c.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let D=(a,b)=>new C({...a.decoders||{[a.prefix]:a},...b.decoders||{[b.prefix]:b}});class F{constructor(a,b,c,d){this.name=a,this.prefix=b,this.baseEncode=c,this.baseDecode=d,this.encoder=new class{constructor(a,b,c){this.name=a,this.prefix=b,this.baseEncode=c}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}(a,b,c),this.decoder=new class{constructor(a,b,c){this.name=a,this.prefix=b,this.baseDecode=c}decode(a){if("string"==typeof a){if(a[0]===this.prefix)return this.baseDecode(a.slice(1));throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}throw Error("Can only multibase decode strings")}or(a){return D(this,a)}}(a,b,d)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}let G=({name:a,prefix:b,encode:c,decode:d})=>new F(a,b,c,d),H=({prefix:a,name:b,alphabet:c})=>{let{encode:d,decode:e}=y(c,b);return G({prefix:a,name:b,encode:d,decode:a=>z(e(a))})},I=(a,b,c,d)=>{let e={};for(let f=0;f<b.length;++f)e[b[f]]=f;let g=a.length;for(;"="===a[g-1];)--g;let h=new Uint8Array(g*c/8|0),i=0,j=0,k=0;for(let l=0;l<g;++l){let m=e[a[l]];if(void 0===m)throw SyntaxError(`Non-${d} character`);j=j<<c|m,i+=c,i>=8&&(i-=8,h[k++]=255&j>>i)}if(i>=c||255&j<<8-i)throw SyntaxError("Unexpected end of data");return h},J=(a,b,c)=>{let d="="===b[b.length-1],e=(1<<c)-1,f="",g=0,h=0;for(let i=0;i<a.length;++i)for(h=h<<8|a[i],g+=8;g>c;)g-=c,f+=b[e&h>>g];if(g&&(f+=b[e&h<<c-g]),d)for(;f.length*c&7;)f+="=";return f},K=({name:a,prefix:b,bitsPerChar:c,alphabet:d})=>G({prefix:b,name:a,encode(a){return J(a,d,c)},decode(b){return I(b,d,c,a)}}),L=G({prefix:"\0",name:"identity",encode:a=>B(a),decode:a=>A(a)}),M=K({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),N=K({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),O=H({prefix:"9",name:"base10",alphabet:"0123456789"}),P=K({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Q=K({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),R=K({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),S=K({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),T=K({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),U=K({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),V=K({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),W=K({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),X=K({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Y=K({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Z=K({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),$=H({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_=H({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),aa=H({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ab=H({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ac=K({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ad=K({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ae=K({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),af=K({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function ag(a,b,c){b=b||[];for(var d=c=c||0;a>=2147483648;)b[c++]=255&a|128,a/=128;for(;-128&a;)b[c++]=255&a|128,a>>>=7;return b[c]=0|a,ag.bytes=c-d+1,b}function ah(a,b){var c,d=0,b=b||0,e=0,f=b,g=a.length;do{if(f>=g)throw ah.bytes=0,RangeError("Could not decode varint");c=a[f++],d+=e<28?(127&c)<<e:(127&c)*Math.pow(2,e),e+=7}while(c>=128);return ah.bytes=f-b,d}var ai,aj={encode:ag,decode:ah,encodingLength:function(a){return a<128?1:a<16384?2:a<2097152?3:a<268435456?4:a<34359738368?5:a<4398046511104?6:a<562949953421312?7:a<72057594037927940?8:a<0x7fffffffffffffff?9:10}};let ak=(a,b,c=0)=>(aj.encode(a,b,c),b),al=a=>aj.encodingLength(a),am=(a,b)=>{let c=b.byteLength,d=al(a),e=d+al(c),f=new Uint8Array(e+c);return ak(a,f,0),ak(c,f,d),f.set(b,e),new an(a,c,b,f)};class an{constructor(a,b,c,d){this.code=a,this.size=b,this.digest=c,this.bytes=d}}let ao=({name:a,code:b,encode:c})=>new ap(a,b,c);class ap{constructor(a,b,c){this.name=a,this.code=b,this.encode=c}async digest(a){if(a instanceof Uint8Array){let b=await this.encode(a);return am(this.code,b)}throw Error("Unknown type, must be binary type")}}let aq=a=>async b=>new Uint8Array(await crypto.subtle.digest(a,b)),ar=ao({name:"sha2-256",code:18,encode:aq("SHA-256")}),as=ao({name:"sha2-512",code:19,encode:aq("SHA-512")}),at=ao({name:"identity",code:0,encode:a=>z(a)}),au="raw",av=85,aw=a=>z(a),ax=a=>z(a),ay=new TextEncoder,az=new TextDecoder,aA="json",aB=512,aC=a=>ay.encode(JSON.stringify(a)),aD=a=>JSON.parse(az.decode(a));class aE{constructor(a,b,c,d){this.code=b,this.version=a,this.multihash=c,this.bytes=d,this.byteOffset=d.byteOffset,this.byteLength=d.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:aN,byteLength:aN,code:aM,version:aM,multihash:aM,bytes:aM,_baseCache:aN,asCID:aN})}toV0(){if(0===this.version)return this;{let{code:a,multihash:b}=this;if(a!==aI)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(b.code!==aJ)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return aE.createV0(b)}}toV1(){switch(this.version){case 0:{let{code:a,digest:b}=this.multihash,c=Digest.create(a,b);return aE.createV1(this.code,c)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(a){return a&&this.code===a.code&&this.version===a.version&&Digest.equals(this.multihash,a.multihash)}toString(a){let{bytes:b,version:c,_baseCache:d}=this;return 0===c?aG(b,d,a||base58btc.encoder):aH(b,d,a||base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(a){return aO(/^0\.0/,aP),!!(a&&(a[aL]||a.asCID===a))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(a){if(a instanceof aE)return a;if(null!=a&&a.asCID===a){let{version:b,code:c,multihash:d,bytes:e}=a;return new aE(b,c,d,e||aK(b,c,d.bytes))}if(null==a|| !0!==a[aL])return null;{let{version:f,multihash:g,code:h}=a,i=Digest.decode(g);return aE.create(f,h,i)}}static create(a,b,c){if("number"!=typeof b)throw Error("String codecs are no longer supported");switch(a){case 0:if(b===aI)return new aE(a,b,c,c.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${aI}) block encoding`);case 1:{let d=aK(a,b,c.bytes);return new aE(a,b,c,d)}default:throw Error("Invalid version")}}static createV0(a){return aE.create(0,aI,a)}static createV1(a,b){return aE.create(1,a,b)}static decode(a){let[b,c]=aE.decodeFirst(a);if(c.length)throw Error("Incorrect length");return b}static decodeFirst(a){let b=aE.inspectBytes(a),c=b.size-b.multihashSize,d=coerce(a.subarray(c,c+b.multihashSize));if(d.byteLength!==b.multihashSize)throw Error("Incorrect length");let e=d.subarray(b.multihashSize-b.digestSize),f=new Digest.Digest(b.multihashCode,b.digestSize,e,d),g=0===b.version?aE.createV0(f):aE.createV1(b.codec,f);return[g,a.subarray(b.size)]}static inspectBytes(a){let b=0,c=()=>{let[c,d]=varint.decode(a.subarray(b));return b+=d,c},d=c(),e=aI;if(18===d?(d=0,b=0):1===d&&(e=c()),0!==d&&1!==d)throw RangeError(`Invalid CID version ${d}`);let f=b,g=c(),h=c(),i=b+h;return{version:d,codec:e,multihashCode:g,digestSize:h,multihashSize:i-f,size:i}}static parse(a,b){let[c,d]=aF(a,b),e=aE.decode(d);return e._baseCache.set(c,a),e}}let aF=(a,b)=>{switch(a[0]){case"Q":{let c=b||base58btc;return[base58btc.prefix,c.decode(`${base58btc.prefix}${a}`)]}case base58btc.prefix:{let d=b||base58btc;return[base58btc.prefix,d.decode(a)]}case base32.prefix:{let e=b||base32;return[base32.prefix,e.decode(a)]}default:if(null==b)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[a[0],b.decode(a)]}},aG=(a,b,c)=>{let{prefix:d}=c;if(d!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${c.name} encoding`);let e=b.get(d);if(null!=e)return e;{let f=c.encode(a).slice(1);return b.set(d,f),f}},aH=(a,b,c)=>{let{prefix:d}=c,e=b.get(d);if(null!=e)return e;{let f=c.encode(a);return b.set(d,f),f}},aI=112,aJ=18,aK=(a,b,c)=>{let d=varint.encodingLength(a),e=d+varint.encodingLength(b),f=new Uint8Array(e+c.byteLength);return varint.encodeTo(a,f,0),varint.encodeTo(b,f,d),f.set(c,e),f},aL=Symbol.for("@ipld/js-cid/CID"),aM={writable:!1,configurable:!1,enumerable:!0},aN={writable:!1,enumerable:!1,configurable:!1},aO=(a,b)=>{if(a.test("0.0.0-dev"))console.warn(b);else throw Error(b)},aP=null,aQ={...d,...e,...f,...g,...h,...i,...j,...k,...l};function aR(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}aR("utf8","u",a=>{let b=new TextDecoder("utf8");return"u"+b.decode(a)},a=>{let b=new TextEncoder;return b.encode(a.substring(1))}),aR("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{a=a.substring(1);let b=function(a=0){if(null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe){var b;return b=globalThis.Buffer.allocUnsafe(a),null!=globalThis.Buffer?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):b}return new Uint8Array(a)}(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),aQ.base16;var aS=c(66736),aT=c(62873),aU=c(65755);c(69528),c(61882);let aV={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var aW=c(34155);function aX(a){let[b,c,d]=a.split(":");return{namespace:b,reference:c,address:d}}let aY=a=>a?.split(":"),aZ="base64pad";function a$(a){return Number(E(a,"base10"))}var a_=Object.defineProperty,a0=Object.getOwnPropertySymbols,a1=Object.prototype.hasOwnProperty,a2=Object.prototype.propertyIsEnumerable,a3=(a,b,c)=>b in a?a_(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c;let a4={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function a5(){return"u">typeof aW&&"u">typeof aW.versions&&"u">typeof aW.versions.node}function a6(a,b){return a.filter(a=>b.includes(a)).length===a.length}function a7(a=[],b=[]){return[...new Set([...a,...b])]}var a8=Object.defineProperty,a9=Object.getOwnPropertySymbols,ba=Object.prototype.hasOwnProperty,bb=Object.prototype.propertyIsEnumerable,bc=(a,b,c)=>b in a?a8(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,bd=Object.defineProperty,be=Object.defineProperties,bf=Object.getOwnPropertyDescriptors,bg=Object.getOwnPropertySymbols,bh=Object.prototype.hasOwnProperty,bi=Object.prototype.propertyIsEnumerable,bj=(a,b,c)=>b in a?bd(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,bk=(a,b)=>{for(var c in b||(b={}))bh.call(b,c)&&bj(a,c,b[c]);if(bg)for(var c of bg(b))bi.call(b,c)&&bj(a,c,b[c]);return a},bl=(a,b)=>be(a,bf(b));function bm(a){let b=[];return a.forEach(a=>{let[c,d]=a.split(":");b.push(`${c}:${d}`)}),b}function bn(a){return a.includes(":")}function bo(a){return bn(a)?a.split(":")[0]:a}let bp={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},bq={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function br(a,b){let{message:c,code:d}=bq[a];return{message:b?`${c} ${b}`:c,code:d}}function bs(a,b){let{message:c,code:d}=bp[a];return{message:b?`${c} ${b}`:c,code:d}}function bt(a,b){return!!Array.isArray(a)&&(!("u">typeof b)||!a.length||a.every(b))}function bu(a){return Object.getPrototypeOf(a)===Object.prototype&&Object.keys(a).length}function bv(a){return typeof a>"u"}function bw(a,b){return!!(b&&bv(a))||"string"==typeof a&&Boolean(a.trim().length)}function bx(a){let b=!0;return bt(a)?a.length&&(b=a.every(a=>bw(a,!1))):b=!1,b}function by(a){let b={};return Object.keys(a).forEach(c=>{var d;c.includes(":")?b[c]=a[c]:null==(d=a[c].chains)||d.forEach(d=>{b[d]={methods:a[c].methods,events:a[c].events}})}),b}function bz(a){return[...new Set(a.map(a=>a.includes(":")?a.split(":")[0]:a))]}function bA(a){let b={};return Object.keys(a).forEach(c=>{if(c.includes(":"))b[c]=a[c];else{let d=bm(a[c].accounts);d?.forEach(d=>{b[d]={accounts:a[c].accounts.filter(a=>a.includes(`${d}:`)),methods:a[c].methods,events:a[c].events}})}}),b}var bB=c(85150),bC=c(90772),bD=c(9107),bE=c(38200);class bF extends bE.q{constructor(a){super(),this.opts=a,this.protocol="wc",this.version=2}}class bG extends bE.q{constructor(a,b){super(),this.core=a,this.logger=b,this.records=new Map}}class bH{constructor(a,b){this.logger=a,this.core=b}}class bI extends bE.q{constructor(a,b){super(),this.relayer=a,this.logger=b}}class bJ extends bE.q{constructor(a){super()}}class bK{constructor(a,b,c,d){this.core=a,this.logger=b,this.name=c}}class bL extends bE.q{constructor(a,b){super(),this.relayer=a,this.logger=b}}class bM extends bE.q{constructor(a,b){super(),this.core=a,this.logger=b}}class bN{constructor(a,b){this.projectId=a,this.logger=b}}class bO{constructor(a){this.opts=a,this.protocol="wc",this.version=2}}class bP{constructor(a){this.client=a}}let bQ=a=>JSON.stringify(a,(a,b)=>"bigint"==typeof b?b.toString()+"n":b),bR=a=>{let b=a.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(b,(a,b)=>{let c="string"==typeof b&&b.match(/^\d+n$/);return c?BigInt(b.substring(0,b.length-1)):b})};function bS(a){if("string"!=typeof a)throw Error(`Cannot safe json parse value of type ${typeof a}`);try{return bR(a)}catch(b){return a}}function bT(a){return"string"==typeof a?a:bQ(a)||""}var bU=c(31050);let bV="base64url",bW="base58btc";function bX(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}let bY=bX("utf8","u",a=>{let b=new TextDecoder("utf8");return"u"+b.decode(a)},a=>{let b=new TextEncoder;return b.encode(a.substring(1))}),bZ=bX("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{a=a.substring(1);let b=new Uint8Array(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),b$={utf8:bY,"utf-8":bY,hex:aQ.base16,latin1:bZ,ascii:bZ,binary:bZ,...aQ};var b_=b$;function b0(a,b="utf8"){let c=b_[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return c.encoder.encode(a).substring(1)}function b1(a,b="utf8"){let c=b_[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return c.decoder.decode(`${c.prefix}${a}`)}function b2(a){return b0(b1(bT(a),"utf8"),bV)}function b3(a){let b=b1("K36",bW),c="z"+b0(function(a,b){b||(b=a.reduce((a,b)=>a+b.length,0));let c=new Uint8Array(b),d=0;for(let e of a)c.set(e,d),d+=e.length;return c}([b,a]),bW);return["did","key",c].join(":")}function b4(a=(0,v.randomBytes)(32)){return bU._w(a)}async function b5(a,b,c,d,e=(0,aS.fromMiliseconds)(Date.now())){var f,g,h;let i={alg:"EdDSA",typ:"JWT"},j=b3(d.publicKey),k={iss:j,sub:a,aud:b,iat:e,exp:e+c},l=b1([b2((f={header:i,payload:k}).header),b2(f.payload)].join("."),"utf8"),m=bU.Xx(d.secretKey,l);return[b2((g={header:i,payload:k,signature:m}).header),b2(g.payload),b0(h=g.signature,bV),].join(".")}function b6(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function b7(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?b6(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function b8(a,b){b||(b=a.reduce((a,b)=>a+b.length,0));let c=b7(b),d=0;for(let e of a)c.set(e,d),d+=e.length;return b6(c)}function b9(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}c(43014);let ca=b9("utf8","u",a=>{let b=new TextDecoder("utf8");return"u"+b.decode(a)},a=>{let b=new TextEncoder;return b.encode(a.substring(1))}),cb=b9("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{a=a.substring(1);let b=b7(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),cc={utf8:ca,"utf-8":ca,hex:aQ.base16,latin1:cb,ascii:cb,binary:cb,...aQ};var cd=cc;function ce(a,b="utf8"){let c=cd[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return("utf8"===b||"utf-8"===b)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?b6(globalThis.Buffer.from(a,"utf-8")):c.decoder.decode(`${c.prefix}${a}`)}function cf(a,b="utf8"){let c=cd[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return("utf8"===b||"utf-8"===b)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8"):c.encoder.encode(a).substring(1)}var cg=c(34155),ch=function(a,b,c){if(c||2===arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},ci=function(a,b,c){this.name=a,this.version=b,this.os=c,this.type="browser"},cj=function(a){this.version=a,this.type="node",this.name="node",this.os=cg.platform},ck=function(a,b,c,d){this.name=a,this.version=b,this.os=c,this.bot=d,this.type="bot-device"},cl=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},cm=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},cn=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,co=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/],],cp=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],];function cq(a){var b,c=(b=a,""!==b&&co.reduce(function(a,c){var d=c[0],e=c[1];if(a)return a;var f=e.exec(b);return!!f&&[d,f]},!1));if(!c)return null;var d=c[0],e=c[1];if("searchbot"===d)return new cl;var f=e[1]&&e[1].split(".").join("_").split("_").slice(0,3);f?f.length<3&&(f=ch(ch([],f,!0),cs(3-f.length),!0)):f=[];var g=f.join("."),h=cr(a),i=cn.exec(a);return i&&i[1]?new ck(d,g,h,i[1]):new ci(d,g,h)}function cr(a){for(var b=0,c=cp.length;b<c;b++){var d=cp[b],e=d[0],f=d[1],g=f.exec(a);if(g)return e}return null}function cs(a){for(var b=[],c=0;c<a;c++)b.push("0");return b}var ct=c(32871),cu=c(34155);function cv(a){let[b,c,d]=a.split(":");return{namespace:b,reference:c,address:d}}function cw(a,b){return a.includes(":")?[a]:b.chains||[]}let cx=a=>a?.split(":"),cy="base10",cz="base16",cA="base64pad",cB="utf8";function cC(){let a=(0,v.randomBytes)(32);return cf(a,cz)}function cD(a){let b=(0,w.vp)(ce(a,cB));return cf(b,cz)}function cE(a){return Number(cf(a,cy))}function cF(a){let b=ce(a,cA),c=b.slice(0,1);if(1===cE(c)){let d=33,e=d+12,f=b.slice(1,d),g=b.slice(d,e),h=b.slice(e);return{type:c,sealed:h,iv:g,senderPublicKey:f}}let i=b.slice(1,13),j=b.slice(13);return{type:c,sealed:j,iv:i}}function cG(a){let b=a?.type||0;if(1===b){if(typeof a?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof a?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:b,senderPublicKey:a?.senderPublicKey,receiverPublicKey:a?.receiverPublicKey}}function cH(a){return 1===a.type&&"string"==typeof a.senderPublicKey&&"string"==typeof a.receiverPublicKey}var cI=Object.defineProperty,cJ=Object.getOwnPropertySymbols,cK=Object.prototype.hasOwnProperty,cL=Object.prototype.propertyIsEnumerable,cM=(a,b,c)=>b in a?cI(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,cN=(a,b)=>{for(var c in b||(b={}))cK.call(b,c)&&cM(a,c,b[c]);if(cJ)for(var c of cJ(b))cL.call(b,c)&&cM(a,c,b[c]);return a};let cO={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function cP(){return"u">typeof cu&&"u">typeof cu.versions&&"u">typeof cu.versions.node}function cQ(){return!(0,aT.getDocument)()&&!!(0,aT.getNavigator)()&&"ReactNative"===navigator.product}function cR(){return!cP()&&!!(0,aT.getNavigator)()}function cS(a,b){return a.filter(a=>b.includes(a)).length===a.length}function cT(a){return Object.fromEntries(a.entries())}function cU(a){return new Map(Object.entries(a))}function cV(a=aS.FIVE_MINUTES,b){let c=(0,aS.toMiliseconds)(a||aS.FIVE_MINUTES),d,e,f;return{resolve:a=>{f&&d&&(clearTimeout(f),d(a))},reject:a=>{f&&e&&(clearTimeout(f),e(a))},done:()=>new Promise((a,g)=>{f=setTimeout(()=>{g(Error(b))},c),d=a,e=g})}}function cW(a,b,c){return new Promise(async(d,e)=>{let f=setTimeout(()=>e(Error(c)),b);try{let g=await a;d(g)}catch(h){e(h)}clearTimeout(f)})}function cX(a,b){if("string"==typeof b&&b.startsWith(`${a}:`))return b;if("topic"===a.toLowerCase()){if("string"!=typeof b)throw Error('Value must be "string" for expirer target type: topic');return`topic:${b}`}if("id"===a.toLowerCase()){if("number"!=typeof b)throw Error('Value must be "number" for expirer target type: id');return`id:${b}`}throw Error(`Unknown expirer target type: ${a}`)}function cY(a){let[b,c]=a.split(":"),d={id:void 0,topic:void 0};if("topic"===b&&"string"==typeof c)d.topic=c;else if("id"===b&&Number.isInteger(Number(c)))d.id=Number(c);else throw Error(`Invalid target, expected id:number or topic:string, got ${b}:${c}`);return d}function cZ(a,b){return(0,aS.fromMiliseconds)((b||Date.now())+(0,aS.toMiliseconds)(a))}function c$(a){return Date.now()>=(0,aS.toMiliseconds)(a)}function c_(a,b){return`${a}${b?`:${b}`:""}`}function c0(a=[],b=[]){return[...new Set([...a,...b])]}function c1(a){return a?.relay||{protocol:"irn"}}function c2(a){let b=aV[a];if(typeof b>"u")throw Error(`Relay Protocol not supported: ${a}`);return b}var c3=Object.defineProperty,c4=Object.getOwnPropertySymbols,c5=Object.prototype.hasOwnProperty,c6=Object.prototype.propertyIsEnumerable,c7=(a,b,c)=>b in a?c3(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,c8=(a,b)=>{for(var c in b||(b={}))c5.call(b,c)&&c7(a,c,b[c]);if(c4)for(var c of c4(b))c6.call(b,c)&&c7(a,c,b[c]);return a},c9=Object.defineProperty,da=Object.defineProperties,db=Object.getOwnPropertyDescriptors,dc=Object.getOwnPropertySymbols,dd=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,df=(a,b,c)=>b in a?c9(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,dg=(a,b)=>{for(var c in b||(b={}))dd.call(b,c)&&df(a,c,b[c]);if(dc)for(var c of dc(b))de.call(b,c)&&df(a,c,b[c]);return a},dh=(a,b)=>da(a,db(b));function di(a){let b=[];return a.forEach(a=>{let[c,d]=a.split(":");b.push(`${c}:${d}`)}),b}function dj(a){return a.includes(":")}function dk(a){return dj(a)?a.split(":")[0]:a}let dl={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},dm={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function dn(a,b){let{message:c,code:d}=dm[a];return{message:b?`${c} ${b}`:c,code:d}}function dp(a,b){let{message:c,code:d}=dl[a];return{message:b?`${c} ${b}`:c,code:d}}function dq(a,b){return!!Array.isArray(a)&&(!("u">typeof b)||!a.length||a.every(b))}function dr(a){return Object.getPrototypeOf(a)===Object.prototype&&Object.keys(a).length}function ds(a){return typeof a>"u"}function dt(a,b){return!!(b&&ds(a))||"string"==typeof a&&Boolean(a.trim().length)}function du(a,b){return!!(b&&ds(a))||"number"==typeof a&&!isNaN(a)}function dv(a){return!!(dt(a,!1)&&a.includes(":"))&&2===a.split(":").length}function dw(a){let b=!0;return dq(a)?a.length&&(b=a.every(a=>dt(a,!1))):b=!1,b}function dx(a,b){let c=null;return Object.values(a).forEach(a=>{var d,e;if(c)return;let f,g=(d=a,e=`${b}, namespace`,f=null,dw(d?.methods)?dw(d?.events)||(f=dp("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):f=dp("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),f);g&&(c=g)}),c}function dy(a,b){let c=null;if(a&&dr(a)){var d,e;let f=dx(a,b);f&&(c=f);let g,h=(d=a,e=b,g=null,Object.values(d).forEach(a=>{var b,c;if(g)return;let d,f=(b=a?.accounts,c=`${e} namespace`,d=null,dq(b)?b.forEach(a=>{d||function(a){if(dt(a,!1)&&a.includes(":")){let b=a.split(":");if(3===b.length){let c=b[0]+":"+b[1];return!!b[2]&&dv(c)}}return!1}(a)||(d=dp("UNSUPPORTED_ACCOUNTS",`${c}, account ${a} should be a string and conform to "namespace:chainId:address" format`))}):d=dp("UNSUPPORTED_ACCOUNTS",`${c}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),d);f&&(g=f)}),g);h&&(c=h)}else c=dn("MISSING_OR_INVALID",`${b}, namespaces should be an object with data`);return c}function dz(a){return dt(a.protocol,!0)}function dA(a){return"u">typeof a}function dB(a,b){return!(!dv(b)||!(function(a){let b=[];return Object.values(a).forEach(a=>{b.push(...di(a.accounts))}),b})(a).includes(b))}function dC(a,b,c){let d=null,e=dD(a),f=dF(b),g=Object.keys(e),h=Object.keys(f),i=dE(Object.keys(a)),j=dE(Object.keys(b)),k=i.filter(a=>!j.includes(a));return k.length&&(d=dn("NON_CONFORMING_NAMESPACES",`${c} namespaces keys don't satisfy requiredNamespaces.
      Required: ${k.toString()}
      Received: ${Object.keys(b).toString()}`)),cS(g,h)||(d=dn("NON_CONFORMING_NAMESPACES",`${c} namespaces chains don't satisfy required namespaces.
      Required: ${g.toString()}
      Approved: ${h.toString()}`)),Object.keys(b).forEach(a=>{if(!a.includes(":")||d)return;let e=di(b[a].accounts);e.includes(a)||(d=dn("NON_CONFORMING_NAMESPACES",`${c} namespaces accounts don't satisfy namespace accounts for ${a}
        Required: ${a}
        Approved: ${e.toString()}`))}),g.forEach(a=>{d||(cS(e[a].methods,f[a].methods)?cS(e[a].events,f[a].events)||(d=dn("NON_CONFORMING_NAMESPACES",`${c} namespaces events don't satisfy namespace events for ${a}`)):d=dn("NON_CONFORMING_NAMESPACES",`${c} namespaces methods don't satisfy namespace methods for ${a}`))}),d}function dD(a){let b={};return Object.keys(a).forEach(c=>{var d;c.includes(":")?b[c]=a[c]:null==(d=a[c].chains)||d.forEach(d=>{b[d]={methods:a[c].methods,events:a[c].events}})}),b}function dE(a){return[...new Set(a.map(a=>a.includes(":")?a.split(":")[0]:a))]}function dF(a){let b={};return Object.keys(a).forEach(c=>{if(c.includes(":"))b[c]=a[c];else{let d=di(a[c].accounts);d?.forEach(d=>{b[d]={accounts:a[c].accounts.filter(a=>a.includes(`${d}:`)),methods:a[c].methods,events:a[c].events}})}}),b}let dG="INTERNAL_ERROR",dH="SERVER_ERROR",dI=[-32700,-32600,-32601,-32602,-32603],dJ={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[dG]:{code:-32603,message:"Internal error"},[dH]:{code:-32e3,message:"Server error"}},dK=dH;function dL(a){return Object.keys(dJ).includes(a)?dJ[a]:dJ[dK]}function dM(a,b,c){return a.message.includes("getaddrinfo ENOTFOUND")||a.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${c} RPC url at ${b}`):a}var dN=c(93109);function dO(a=3){let b=Date.now()*Math.pow(10,a);return b+Math.floor(Math.random()*Math.pow(10,a))}function dP(a,b,c){return{id:c||dO(),jsonrpc:"2.0",method:a,params:b}}function dQ(a,b){return{id:a,jsonrpc:"2.0",result:b}}function dR(a,b,c){return{id:a,jsonrpc:"2.0",error:dS(b,c)}}function dS(a,b){var c;return void 0===a?dL(dG):("string"==typeof a&&(a=Object.assign(Object.assign({},dL(dH)),{message:a})),void 0!==b&&(a.data=b),c=a.code,dI.includes(c)&&(a=function a(b){let c=Object.values(dJ).find(a=>a.code===b);return c||dJ[dK]}(a.code)),a)}class dT{}class dU extends dT{constructor(){super()}}class dV extends dU{constructor(a){super()}}function dW(a,b){let c=function(a){let b=a.match(RegExp(/^\w+:/,"gi"));if(b&&b.length)return b[0]}(a);return void 0!==c&&RegExp(b).test(c)}function dX(a){return dW(a,"^https?:")}function dY(a){return dW(a,"^wss?:")}function dZ(a){return"object"==typeof a&&"id"in a&&"jsonrpc"in a&&"2.0"===a.jsonrpc}function d$(a){return dZ(a)&&"method"in a}function d_(a){return dZ(a)&&(d0(a)||d1(a))}function d0(a){return"result"in a}function d1(a){return"error"in a}class d2 extends dV{constructor(a){super(a),this.events=new r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(a),this.connection.connected&&this.registerEventListeners()}async connect(a=this.connection){await this.open(a)}async disconnect(){await this.close()}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async request(a,b){return this.requestStrict(dP(a.method,a.params||[],a.id||(function(a=6){return BigInt(dO(a))})().toString()),b)}async requestStrict(a,b){return new Promise(async(c,d)=>{if(!this.connection.connected)try{await this.open()}catch(e){d(e)}this.events.on(`${a.id}`,a=>{d1(a)?d(a.error):c(a.result)});try{await this.connection.send(a,b)}catch(f){d(f)}})}setConnection(a=this.connection){return a}onPayload(a){this.events.emit("payload",a),d_(a)?this.events.emit(`${a.id}`,a):this.events.emit("message",{type:a.method,data:a.params})}onClose(a){a&&3e3===a.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${a.code} ${a.reason?`(${a.reason})`:""}`)),this.events.emit("disconnect")}async open(a=this.connection){this.connection===a&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof a&&(await this.connection.open(a),a=this.connection),this.connection=this.setConnection(a),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",a=>this.onPayload(a)),this.connection.on("close",a=>this.onClose(a)),this.connection.on("error",a=>this.events.emit("error",a)),this.connection.on("register_error",a=>this.onClose()),this.hasRegisteredEventListeners=!0)}}let d3=()=>"undefined"!=typeof WebSocket|| void 0!==c.g&& void 0!==c.g.WebSocket||"undefined"!=typeof window&& void 0!==window.WebSocket||"undefined"!=typeof self&& void 0!==self.WebSocket,d4=a=>a.split("?")[0],d5="undefined"!=typeof WebSocket?WebSocket:void 0!==c.g&& void 0!==c.g.WebSocket?c.g.WebSocket:"undefined"!=typeof window&& void 0!==window.WebSocket?window.WebSocket:"undefined"!=typeof self&& void 0!==self.WebSocket?self.WebSocket:c(72030);var d6=class{constructor(a){if(this.url=a,this.events=new r.EventEmitter,this.registering=!1,!dY(a))throw Error(`Provided URL is not compatible with WebSocket connection: ${a}`);this.url=a}get connected(){return void 0!==this.socket}get connecting(){return this.registering}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async open(a=this.url){await this.register(a)}async close(){return new Promise((a,b)=>{if(void 0===this.socket){b(Error("Connection already closed"));return}this.socket.onclose=b=>{this.onClose(b),a()},this.socket.close()})}async send(a,b){void 0===this.socket&&(this.socket=await this.register());try{this.socket.send(bT(a))}catch(c){this.onError(a.id,c)}}register(a=this.url){if(!dY(a))throw Error(`Provided URL is not compatible with WebSocket connection: ${a}`);if(this.registering){let b=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=b||this.events.listenerCount("open")>=b)&&this.events.setMaxListeners(b+1),new Promise((a,b)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),b(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),void 0===this.socket)return b(Error("WebSocket connection is missing or invalid"));a(this.socket)})})}return this.url=a,this.registering=!0,new Promise((b,c)=>{var d;let e=(0,dN.isReactNative)()?void 0:{rejectUnauthorized:(d=a,!RegExp("wss?://localhost(:d{2,5})?").test(d))},f=new d5(a,[],e);d3()?f.onerror=a=>{let b=a;c(this.emitError(b.error))}:f.on("error",a=>{c(this.emitError(a))}),f.onopen=()=>{this.onOpen(f),b(f)}})}onOpen(a){a.onmessage=a=>this.onPayload(a),a.onclose=a=>this.onClose(a),this.socket=a,this.registering=!1,this.events.emit("open")}onClose(a){this.socket=void 0,this.registering=!1,this.events.emit("close",a)}onPayload(a){if(void 0===a.data)return;let b="string"==typeof a.data?bS(a.data):a.data;this.events.emit("payload",b)}onError(a,b){let c=this.parseError(b),d=c.message||c.toString(),e=dR(a,d);this.events.emit("payload",e)}parseError(a,b=this.url){return dM(a,d4(b),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(a){let b=this.parseError(Error((null==a?void 0:a.message)||`WebSocket connection failed for host: ${d4(this.url)}`));return this.events.emit("register_error",b),b}},d7=c(72307),d8=c.n(d7),d9=c(34155),ea=function(a,b){if(a.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),d=0;d<c.length;d++)c[d]=255;for(var e=0;e<a.length;e++){var f=a.charAt(e),g=f.charCodeAt(0);if(255!==c[g])throw TypeError(f+" is ambiguous");c[g]=e}var h=a.length,i=a.charAt(0),j=Math.log(h)/Math.log(256),k=Math.log(256)/Math.log(h);function l(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;var b=0;if(" "!==a[b]){for(var d=0,e=0;a[b]===i;)d++,b++;for(var f=(a.length-b)*j+1>>>0,g=new Uint8Array(f);a[b];){var k=c[a.charCodeAt(b)];if(255===k)return;for(var l=0,m=f-1;(0!==k||l<e)&& -1!==m;m--,l++)k+=h*g[m]>>>0,g[m]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");e=l,b++}if(" "!==a[b]){for(var n=f-e;n!==f&&0===g[n];)n++;for(var o=new Uint8Array(d+(f-n)),p=d;n!==f;)o[p++]=g[n++];return o}}}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";for(var c=0,d=0,e=0,f=b.length;e!==f&&0===b[e];)e++,c++;for(var g=(f-e)*k+1>>>0,j=new Uint8Array(g);e!==f;){for(var l=b[e],m=0,n=g-1;(0!==l||m<d)&& -1!==n;n--,m++)l+=256*j[n]>>>0,j[n]=l%h>>>0,l=l/h>>>0;if(0!==l)throw Error("Non-zero carry");d=m,e++}for(var o=g-d;o!==g&&0===j[o];)o++;for(var p=i.repeat(c);o<g;++o)p+=a.charAt(j[o]);return p},decodeUnsafe:l,decode:function(a){var c=l(a);if(c)return c;throw Error(`Non-${b} character`)}}};let eb=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Unknown type, must be binary type")},ec=a=>new TextEncoder().encode(a),ed=a=>new TextDecoder().decode(a);class ee{constructor(a){this.decoders=a}or(a){return ef(this,a)}decode(a){let b=a[0],c=this.decoders[b];if(c)return c.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let ef=(a,b)=>new ee({...a.decoders||{[a.prefix]:a},...b.decoders||{[b.prefix]:b}});class eg{constructor(a,b,c,d){this.name=a,this.prefix=b,this.baseEncode=c,this.baseDecode=d,this.encoder=new class{constructor(a,b,c){this.name=a,this.prefix=b,this.baseEncode=c}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}(a,b,c),this.decoder=new class{constructor(a,b,c){if(this.name=a,this.prefix=b,void 0===b.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=b.codePointAt(0),this.baseDecode=c}decode(a){if("string"==typeof a){if(a.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(a.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(a){return ef(this,a)}}(a,b,d)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}let eh=({name:a,prefix:b,encode:c,decode:d})=>new eg(a,b,c,d),ei=({prefix:a,name:b,alphabet:c})=>{let{encode:d,decode:e}=ea(c,b);return eh({prefix:a,name:b,encode:d,decode:a=>eb(e(a))})},ej=(a,b,c,d)=>{let e={};for(let f=0;f<b.length;++f)e[b[f]]=f;let g=a.length;for(;"="===a[g-1];)--g;let h=new Uint8Array(g*c/8|0),i=0,j=0,k=0;for(let l=0;l<g;++l){let m=e[a[l]];if(void 0===m)throw SyntaxError(`Non-${d} character`);j=j<<c|m,i+=c,i>=8&&(i-=8,h[k++]=255&j>>i)}if(i>=c||255&j<<8-i)throw SyntaxError("Unexpected end of data");return h},ek=(a,b,c)=>{let d="="===b[b.length-1],e=(1<<c)-1,f="",g=0,h=0;for(let i=0;i<a.length;++i)for(h=h<<8|a[i],g+=8;g>c;)g-=c,f+=b[e&h>>g];if(g&&(f+=b[e&h<<c-g]),d)for(;f.length*c&7;)f+="=";return f},el=({name:a,prefix:b,bitsPerChar:c,alphabet:d})=>eh({prefix:b,name:a,encode(a){return ek(a,d,c)},decode(b){return ej(b,d,c,a)}}),em=eh({prefix:"\0",name:"identity",encode:a=>ed(a),decode:a=>ec(a)});var en=Object.freeze({__proto__:null,identity:em});let eo=el({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ep=Object.freeze({__proto__:null,base2:eo});let eq=el({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var er=Object.freeze({__proto__:null,base8:eq});let es=ei({prefix:"9",name:"base10",alphabet:"0123456789"});var et=Object.freeze({__proto__:null,base10:es});let eu=el({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ev=el({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ew=Object.freeze({__proto__:null,base16:eu,base16upper:ev});let ex=el({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ey=el({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ez=el({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eA=el({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eB=el({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eC=el({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eD=el({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),eE=el({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eF=el({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var eG=Object.freeze({__proto__:null,base32:ex,base32upper:ey,base32pad:ez,base32padupper:eA,base32hex:eB,base32hexupper:eC,base32hexpad:eD,base32hexpadupper:eE,base32z:eF});let eH=ei({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),eI=ei({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var eJ=Object.freeze({__proto__:null,base36:eH,base36upper:eI});let eK=ei({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eL=ei({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var eM=Object.freeze({__proto__:null,base58btc:eK,base58flickr:eL});let eN=el({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),eO=el({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),eP=el({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),eQ=el({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var eR=Object.freeze({__proto__:null,base64:eN,base64pad:eO,base64url:eP,base64urlpad:eQ});let eS=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),eT=eS.reduce((a,b,c)=>(a[c]=b,a),[]),eU=eS.reduce((a,b,c)=>(a[b.codePointAt(0)]=c,a),[]),eV=eh({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(a){return a.reduce((a,b)=>a+=eT[b],"")},decode:function(a){let b=[];for(let c of a){let d=eU[c.codePointAt(0)];if(void 0===d)throw Error(`Non-base256emoji character: ${c}`);b.push(d)}return new Uint8Array(b)}});var eW=Object.freeze({__proto__:null,base256emoji:eV});function eX(a,b,c){b=b||[],c=c||0;for(var d=c;a>=2147483648;)b[c++]=255&a|128,a/=128;for(;-128&a;)b[c++]=255&a|128,a>>>=7;return b[c]=0|a,eX.bytes=c-d+1,b}function eY(a,b){var c,d=0,b=b||0,e=0,f=b,g=a.length;do{if(f>=g)throw eY.bytes=0,RangeError("Could not decode varint");c=a[f++],d+=e<28?(127&c)<<e:(127&c)*Math.pow(2,e),e+=7}while(c>=128);return eY.bytes=f-b,d}var eZ={encode:eX,decode:eY,encodingLength:function(a){return a<128?1:a<16384?2:a<2097152?3:a<268435456?4:a<34359738368?5:a<4398046511104?6:a<562949953421312?7:a<72057594037927940?8:a<0x7fffffffffffffff?9:10}};let e$=(a,b,c=0)=>(eZ.encode(a,b,c),b),e_=a=>eZ.encodingLength(a),e0=(a,b)=>{let c=b.byteLength,d=e_(a),e=d+e_(c),f=new Uint8Array(e+c);return e$(a,f,0),e$(c,f,d),f.set(b,e),new e1(a,c,b,f)};class e1{constructor(a,b,c,d){this.code=a,this.size=b,this.digest=c,this.bytes=d}}let e2=({name:a,code:b,encode:c})=>new e3(a,b,c);class e3{constructor(a,b,c){this.name=a,this.code=b,this.encode=c}digest(a){if(a instanceof Uint8Array){let b=this.encode(a);return b instanceof Uint8Array?e0(this.code,b):b.then(a=>e0(this.code,a))}throw Error("Unknown type, must be binary type")}}let e4=a=>async b=>new Uint8Array(await crypto.subtle.digest(a,b)),e5=e2({name:"sha2-256",code:18,encode:e4("SHA-256")}),e6=e2({name:"sha2-512",code:19,encode:e4("SHA-512")});Object.freeze({__proto__:null,sha256:e5,sha512:e6});let e7=eb,e8=a=>e0(0,e7(a));Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:e7,digest:e8}}),new TextEncoder,new TextDecoder;let e9={...en,...ep,...er,...et,...ew,...eG,...eJ,...eM,...eR,...eW};function fa(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function fb(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}let fc=fb("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>new TextEncoder().encode(a.substring(1))),fd=fb("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{a=a.substring(1);let b=function(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?fa(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),fe={utf8:fc,"utf-8":fc,hex:e9.base16,latin1:fd,ascii:fd,binary:fd,...e9},ff="core",fg=`wc@2:${ff}:`,fh="client_ed25519_seed",fi=aS.ONE_DAY,fj=aS.SIX_HOURS,fk="wss://relay.walletconnect.com",fl={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},fm={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},fn=aS.ONE_SECOND/2,fo={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},fp=1e3*aS.FIVE_SECONDS,fq={wc_pairingDelete:{req:{ttl:aS.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:aS.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:aS.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:aS.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:aS.ONE_DAY,prompt:!1,tag:0},res:{ttl:aS.ONE_DAY,prompt:!1,tag:0}}},fr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},fs={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},ft="verify-api",fu="https://verify.walletconnect.com";var fv=Object.defineProperty,fw=Object.defineProperties,fx=Object.getOwnPropertyDescriptors,fy=Object.getOwnPropertySymbols,fz=Object.prototype.hasOwnProperty,fA=Object.prototype.propertyIsEnumerable,fB=(a,b,c)=>b in a?fv(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,fC=(a,b)=>{for(var c in b||(b={}))fz.call(b,c)&&fB(a,c,b[c]);if(fy)for(var c of fy(b))fA.call(b,c)&&fB(a,c,b[c]);return a},fD=(a,b)=>fw(a,fx(b)),fE=Object.defineProperty,fF=Object.getOwnPropertySymbols,fG=Object.prototype.hasOwnProperty,fH=Object.prototype.propertyIsEnumerable,fI=(a,b,c)=>b in a?fE(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,fJ=(a,b)=>{for(var c in b||(b={}))fG.call(b,c)&&fI(a,c,b[c]);if(fF)for(var c of fF(b))fH.call(b,c)&&fI(a,c,b[c]);return a},fK=Object.defineProperty,fL=Object.getOwnPropertySymbols,fM=Object.prototype.hasOwnProperty,fN=Object.prototype.propertyIsEnumerable,fO=(a,b,c)=>b in a?fK(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,fP=(a,b)=>{for(var c in b||(b={}))fM.call(b,c)&&fO(a,c,b[c]);if(fL)for(var c of fL(b))fN.call(b,c)&&fO(a,c,b[c]);return a};class fQ extends bK{constructor(a,b,c,d=fg,e){super(a,b,c,d),this.core=a,this.logger=b,this.name=c,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=fg,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{var b,c,d;this.getKey&&null!==a&&!ds(a)?this.map.set(this.getKey(a),a):(null==(c=(b=a)?.proposer)?void 0:c.publicKey)?this.map.set(a.id,a):(d=a)?.topic&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,b)=>{this.isInitialized(),this.map.has(a)?await this.update(a,b):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:b}),this.map.set(a,b),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(b=>Object.keys(a).every(c=>d8()(b[c],a[c]))):this.values),this.update=async(a,b)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:b});let c=fP(fP({},this.getData(a)),b);this.map.set(a,c),await this.persist()},this.delete=async(a,b)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:b}),this.map.delete(a),await this.persist())},this.logger=(0,bD.generateChildLogger)(b,this.name),this.storagePrefix=d,this.getKey=e}get context(){return(0,bD.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(a){await this.core.storage.setItem(this.storageKey,a)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(a){let b=this.map.get(a);if(!b){let{message:c}=dn("NO_MATCHING_KEY",`${this.name}: ${a}`);throw this.logger.error(c),Error(c)}return b}async persist(){await this.setDataStore(this.values)}async restore(){try{let a=await this.getDataStore();if(typeof a>"u"||!a.length)return;if(this.map.size){let{message:b}=dn("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(b),Error(b)}this.cached=a,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(c){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(c)}}isInitialized(){if(!this.initialized){let{message:a}=dn("NOT_INITIALIZED",this.name);throw Error(a)}}}var fR=Object.defineProperty,fS=Object.getOwnPropertySymbols,fT=Object.prototype.hasOwnProperty,fU=Object.prototype.propertyIsEnumerable,fV=(a,b,c)=>b in a?fR(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,fW=(a,b)=>{for(var c in b||(b={}))fT.call(b,c)&&fV(a,c,b[c]);if(fS)for(var c of fS(b))fU.call(b,c)&&fV(a,c,b[c]);return a};class fX extends bF{constructor(a){super(a),this.protocol="wc",this.version=2,this.name=ff,this.events=new r.EventEmitter,this.initialized=!1,this.on=(a,b)=>this.events.on(a,b),this.once=(a,b)=>this.events.once(a,b),this.off=(a,b)=>this.events.off(a,b),this.removeListener=(a,b)=>this.events.removeListener(a,b),this.projectId=a?.projectId,this.relayUrl=a?.relayUrl||fk;let b="u">typeof a?.logger&&"string"!=typeof a?.logger?a.logger:(0,bD.pino)((0,bD.getDefaultLoggerOptions)({level:a?.logger||"error"}));this.logger=(0,bD.generateChildLogger)(b,this.name),this.heartbeat=new bC.HeartBeat,this.crypto=new class{constructor(a,b,c){this.core=a,this.logger=b,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=a=>(this.isInitialized(),this.keychain.has(a)),this.getClientId=async()=>{this.isInitialized();let a=await this.getClientSeed(),b=b4(a);return b3(b.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let a=function(){let a=x.Au();return{privateKey:cf(a.secretKey,cz),publicKey:cf(a.publicKey,cz)}}();return this.setPrivateKey(a.publicKey,a.privateKey)},this.signJWT=async a=>{this.isInitialized();let b=await this.getClientSeed(),c=b4(b),d=cC();return await b5(d,a,fi,c)},this.generateSharedKey=(a,b,c)=>{this.isInitialized();let d=this.getPrivateKey(a),e=function(a,b){let c=x.gi(ce(a,cz),ce(b,cz)),d=new u.t(w.mE,c).expand(32);return cf(d,cz)}(d,b);return this.setSymKey(e,c)},this.setSymKey=async(a,b)=>{this.isInitialized();let c=b||function(a){let b=(0,w.vp)(ce(a,cz));return cf(b,cz)}(a);return await this.keychain.set(c,a),c},this.deleteKeyPair=async a=>{this.isInitialized(),await this.keychain.del(a)},this.deleteSymKey=async a=>{this.isInitialized(),await this.keychain.del(a)},this.encode=async(a,b,c)=>{this.isInitialized();let d=cG(c),e=bT(b);if(cH(d)){let f=d.senderPublicKey,g=d.receiverPublicKey;a=await this.generateSharedKey(f,g)}let h=this.getSymKey(a),{type:i,senderPublicKey:j}=d;return function(a){var b;let c=ce(`${b="u">typeof a.type?a.type:0}`,cy);if(1===cE(c)&& typeof a.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let d="u">typeof a.senderPublicKey?ce(a.senderPublicKey,cz):void 0,e="u">typeof a.iv?ce(a.iv,cz):(0,v.randomBytes)(12),f=new t.OK(ce(a.symKey,cz)).seal(e,ce(a.message,cB));return function a(b){if(1===cE(b.type)){if(typeof b.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return cf(b8([b.type,b.senderPublicKey,b.iv,b.sealed]),cA)}return cf(b8([b.type,b.iv,b.sealed]),cA)}({type:c,sealed:f,iv:e,senderPublicKey:d})}({type:i,symKey:h,message:e,senderPublicKey:j})},this.decode=async(a,b,c)=>{this.isInitialized();let d=function(a,b){let c=cF(a);return cG({type:cE(c.type),senderPublicKey:"u">typeof c.senderPublicKey?cf(c.senderPublicKey,cz):void 0,receiverPublicKey:b?.receiverPublicKey})}(b,c);if(cH(d)){let e=d.receiverPublicKey,f=d.senderPublicKey;a=await this.generateSharedKey(e,f)}let g=this.getSymKey(a),h=function(a){let b=new t.OK(ce(a.symKey,cz)),{sealed:c,iv:d}=cF(a.encoded),e=b.open(d,c);if(null===e)throw Error("Failed to decrypt");return cf(e,cB)}({symKey:g,encoded:b});return bS(h)},this.getPayloadType=a=>{let b=cF(a);return cE(b.type)},this.getPayloadSenderPublicKey=a=>{let b=cF(a);return b.senderPublicKey?cf(b.senderPublicKey,cz):void 0},this.core=a,this.logger=(0,bD.generateChildLogger)(b,this.name),this.keychain=c||new class{constructor(a,b){this.core=a,this.logger=b,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=fg,this.init=async()=>{if(!this.initialized){let a=await this.getKeyChain();"u">typeof a&&(this.keychain=a),this.initialized=!0}},this.has=a=>(this.isInitialized(),this.keychain.has(a)),this.set=async(a,b)=>{this.isInitialized(),this.keychain.set(a,b),await this.persist()},this.get=a=>{this.isInitialized();let b=this.keychain.get(a);if(typeof b>"u"){let{message:c}=dn("NO_MATCHING_KEY",`${this.name}: ${a}`);throw Error(c)}return b},this.del=async a=>{this.isInitialized(),this.keychain.delete(a),await this.persist()},this.core=a,this.logger=(0,bD.generateChildLogger)(b,this.name)}get context(){return(0,bD.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(a){await this.core.storage.setItem(this.storageKey,cT(a))}async getKeyChain(){let a=await this.core.storage.getItem(this.storageKey);return"u">typeof a?cU(a):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:a}=dn("NOT_INITIALIZED",this.name);throw Error(a)}}}(this.core,this.logger)}get context(){return(0,bD.getLoggerContext)(this.logger)}async setPrivateKey(a,b){return await this.keychain.set(a,b),a}getPrivateKey(a){return this.keychain.get(a)}async getClientSeed(){let a="";try{a=this.keychain.get(fh)}catch{await this.keychain.set(fh,a=cC())}return function(a,b="utf8"){let c=fe[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return("utf8"===b||"utf-8"===b)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?fa(globalThis.Buffer.from(a,"utf-8")):c.decoder.decode(`${c.prefix}${a}`)}(a,"base16")}getSymKey(a){return this.keychain.get(a)}isInitialized(){if(!this.initialized){let{message:a}=dn("NOT_INITIALIZED",this.name);throw Error(a)}}}(this,this.logger,a?.keychain),this.history=new class extends bG{constructor(a,b){super(a,b),this.core=a,this.logger=b,this.records=new Map,this.events=new r.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=fg,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>this.records.set(a.id,a)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(a,b,c)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:a,request:b,chainId:c}),this.records.has(b.id))return;let d={id:b.id,topic:a,request:{method:b.method,params:b.params||null},chainId:c};this.records.set(d.id,d),this.events.emit(fr.created,d)},this.resolve=async a=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:a}),!this.records.has(a.id))return;let b=await this.getRecord(a.id);typeof b.response>"u"&&(b.response=d1(a)?{error:a.error}:{result:a.result},this.records.set(b.id,b),this.events.emit(fr.updated,b))},this.get=async(a,b)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:a,id:b}),await this.getRecord(b)),this.delete=(a,b)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:b}),this.values.forEach(c=>{c.topic!==a||"u">typeof b&&c.id!==b||(this.records.delete(c.id),this.events.emit(fr.deleted,c))})},this.exists=async(a,b)=>(this.isInitialized(),!!this.records.has(b)&&(await this.getRecord(b)).topic===a),this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.logger=(0,bD.generateChildLogger)(b,this.name)}get context(){return(0,bD.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let a=[];return this.values.forEach(b=>{if("u">typeof b.response)return;let c={topic:b.topic,request:dP(b.request.method,b.request.params,b.id),chainId:b.chainId};return a.push(c)}),a}async setJsonRpcRecords(a){await this.core.storage.setItem(this.storageKey,a)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(a){this.isInitialized();let b=this.records.get(a);if(!b){let{message:c}=dn("NO_MATCHING_KEY",`${this.name}: ${a}`);throw Error(c)}return b}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(fr.sync)}async restore(){try{let a=await this.getJsonRpcRecords();if(typeof a>"u"||!a.length)return;if(this.records.size){let{message:b}=dn("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(b),Error(b)}this.cached=a,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(c){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(c)}}registerEventListeners(){this.events.on(fr.created,a=>{let b=fr.created;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,record:a}),this.persist()}),this.events.on(fr.updated,a=>{let b=fr.updated;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,record:a}),this.persist()}),this.events.on(fr.deleted,a=>{let b=fr.deleted;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,record:a}),this.persist()})}isInitialized(){if(!this.initialized){let{message:a}=dn("NOT_INITIALIZED",this.name);throw Error(a)}}}(this,this.logger),this.expirer=new class extends bM{constructor(a,b){super(a,b),this.core=a,this.logger=b,this.expirations=new Map,this.events=new r.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=fg,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>this.expirations.set(a.target,a)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=a=>{try{let b=this.formatTarget(a);return"u">typeof this.getExpiration(b)}catch{return!1}},this.set=(a,b)=>{this.isInitialized();let c=this.formatTarget(a),d={target:c,expiry:b};this.expirations.set(c,d),this.checkExpiry(c,d),this.events.emit(fs.created,{target:c,expiration:d})},this.get=a=>{this.isInitialized();let b=this.formatTarget(a);return this.getExpiration(b)},this.del=a=>{if(this.isInitialized(),this.has(a)){let b=this.formatTarget(a),c=this.getExpiration(b);this.expirations.delete(b),this.events.emit(fs.deleted,{target:b,expiration:c})}},this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.logger=(0,bD.generateChildLogger)(b,this.name)}get context(){return(0,bD.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(a){var b,c;if("string"==typeof a)return cX("topic",b=a);if("number"==typeof a)return cX("id",c=a);let{message:d}=dn("UNKNOWN_TYPE",`Target type: ${typeof a}`);throw Error(d)}async setExpirations(a){await this.core.storage.setItem(this.storageKey,a)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(fs.sync)}async restore(){try{let a=await this.getExpirations();if(typeof a>"u"||!a.length)return;if(this.expirations.size){let{message:b}=dn("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(b),Error(b)}this.cached=a,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(c){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(c)}}getExpiration(a){let b=this.expirations.get(a);if(!b){let{message:c}=dn("NO_MATCHING_KEY",`${this.name}: ${a}`);throw this.logger.error(c),Error(c)}return b}checkExpiry(a,b){let{expiry:c}=b;(0,aS.toMiliseconds)(c)-Date.now()<=0&&this.expire(a,b)}expire(a,b){this.expirations.delete(a),this.events.emit(fs.expired,{target:a,expiration:b})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((a,b)=>this.checkExpiry(b,a))}registerEventListeners(){this.core.heartbeat.on(bC.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(fs.created,a=>{let b=fs.created;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,data:a}),this.persist()}),this.events.on(fs.expired,a=>{let b=fs.expired;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,data:a}),this.persist()}),this.events.on(fs.deleted,a=>{let b=fs.deleted;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,data:a}),this.persist()})}isInitialized(){if(!this.initialized){let{message:a}=dn("NOT_INITIALIZED",this.name);throw Error(a)}}}(this,this.logger),this.storage=null!=a&&a.storage?a.storage:new bB.ZP(fW(fW({},{database:":memory:"}),a?.storageOptions)),this.relayer=new class extends bJ{constructor(a){super(a),this.protocol="wc",this.version=2,this.events=new r.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async a=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(a)}catch(b){throw this.logger.debug("Failed to Publish Request"),this.logger.error(b),b}},this.core=a.core,this.logger="u">typeof a.logger&&"string"!=typeof a.logger?(0,bD.generateChildLogger)(a.logger,this.name):(0,bD.pino)((0,bD.getDefaultLoggerOptions)({level:a.logger||"error"})),this.messages=new class extends bH{constructor(a,b){super(a,b),this.logger=a,this.core=b,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=fg,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let a=await this.getRelayerMessages();"u">typeof a&&(this.messages=a),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(b){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(b)}finally{this.initialized=!0}}},this.set=async(a,b)=>{this.isInitialized();let c=cD(b),d=this.messages.get(a);return typeof d>"u"&&(d={}),"u">typeof d[c]||(d[c]=b,this.messages.set(a,d),await this.persist()),c},this.get=a=>{this.isInitialized();let b=this.messages.get(a);return typeof b>"u"&&(b={}),b},this.has=(a,b)=>{this.isInitialized();let c=this.get(a),d=cD(b);return"u">typeof c[d]},this.del=async a=>{this.isInitialized(),this.messages.delete(a),await this.persist()},this.logger=(0,bD.generateChildLogger)(a,this.name),this.core=b}get context(){return(0,bD.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(a){await this.core.storage.setItem(this.storageKey,cT(a))}async getRelayerMessages(){let a=await this.core.storage.getItem(this.storageKey);return"u">typeof a?cU(a):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:a}=dn("NOT_INITIALIZED",this.name);throw Error(a)}}}(this.logger,a.core),this.subscriber=new class extends bL{constructor(a,b){super(a,b),this.relayer=a,this.logger=b,this.subscriptions=new Map,this.topicMap=new class{constructor(){this.map=new Map,this.set=(a,b)=>{let c=this.get(a);this.exists(a,b)||this.map.set(a,[...c,b])},this.get=a=>this.map.get(a)||[],this.exists=(a,b)=>this.get(a).includes(b),this.delete=(a,b)=>{if(typeof b>"u"){this.map.delete(a);return}if(!this.map.has(a))return;let c=this.get(a);if(!this.exists(a,b))return;let d=c.filter(a=>a!==b);if(!d.length){this.map.delete(a);return}this.map.set(a,d)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},this.events=new r.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=fg,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(a,b)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:a,opts:b}});try{let c=c1(b),d={topic:a,relay:c};this.pending.set(a,d);let e=await this.rpcSubscribe(a,c);return this.onSubscribe(e,d),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:a,opts:b}}),e}catch(f){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(f),f}},this.unsubscribe=async(a,b)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof b?.id?await this.unsubscribeById(a,b.id,b):await this.unsubscribeByTopic(a,b)},this.isSubscribed=async a=>!!this.topics.includes(a)||await new Promise((b,c)=>{let d=new aS.Watch;d.start(this.pendingSubscriptionWatchLabel);let e=setInterval(()=>{!this.pending.has(a)&&this.topics.includes(a)&&(clearInterval(e),d.stop(this.pendingSubscriptionWatchLabel),b(!0)),d.elapsed(this.pendingSubscriptionWatchLabel)>=fp&&(clearInterval(e),d.stop(this.pendingSubscriptionWatchLabel),c(!1))},this.pollingInterval)}),this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=a,this.logger=(0,bD.generateChildLogger)(b,this.name),this.clientId=""}get context(){return(0,bD.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(a,b){let c=!1;try{c=this.getSubscription(a).topic===b}catch{}return c}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(a,b){let c=this.topicMap.get(a);await Promise.all(c.map(async c=>await this.unsubscribeById(a,c,b)))}async unsubscribeById(a,b,c){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:a,id:b,opts:c}});try{let d=c1(c);await this.rpcUnsubscribe(a,b,d);let e=dp("USER_DISCONNECTED",`${this.name}, ${a}`);await this.onUnsubscribe(a,b,e),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:a,id:b,opts:c}})}catch(f){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(f),f}}async rpcSubscribe(a,b){let c={method:c2(b.protocol).subscribe,params:{topic:a}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});try{await await cW(this.relayer.request(c),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(fl.connection_stalled)}return cD(a+this.clientId)}async rpcBatchSubscribe(a){if(!a.length)return;let b=a[0].relay,c={method:c2(b.protocol).batchSubscribe,params:{topics:a.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});try{return await await cW(this.relayer.request(c),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(fl.connection_stalled)}}rpcUnsubscribe(a,b,c){let d={method:c2(c.protocol).unsubscribe,params:{topic:a,id:b}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:d}),this.relayer.request(d)}onSubscribe(a,b){this.setSubscription(a,fD(fC({},b),{id:a})),this.pending.delete(b.topic)}onBatchSubscribe(a){a.length&&a.forEach(a=>{this.setSubscription(a.id,fC({},a)),this.pending.delete(a.topic)})}async onUnsubscribe(a,b,c){this.events.removeAllListeners(b),this.hasSubscription(b,a)&&this.deleteSubscription(b,c),await this.relayer.messages.del(a)}async setRelayerSubscriptions(a){await this.relayer.core.storage.setItem(this.storageKey,a)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(a,b){this.subscriptions.has(a)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:a,subscription:b}),this.addSubscription(a,b))}addSubscription(a,b){this.subscriptions.set(a,fC({},b)),this.topicMap.set(b.topic,a),this.events.emit(fo.created,b)}getSubscription(a){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:a});let b=this.subscriptions.get(a);if(!b){let{message:c}=dn("NO_MATCHING_KEY",`${this.name}: ${a}`);throw Error(c)}return b}deleteSubscription(a,b){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:a,reason:b});let c=this.getSubscription(a);this.subscriptions.delete(a),this.topicMap.delete(c.topic,a),this.events.emit(fo.deleted,fD(fC({},c),{reason:b}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(fo.sync)}async reset(){if(this.cached.length){let a=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let b=0;b<a;b++){let c=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(c)}}this.events.emit(fo.resubscribed)}async restore(){try{let a=await this.getRelayerSubscriptions();if(typeof a>"u"||!a.length)return;if(this.subscriptions.size){let{message:b}=dn("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(b),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(b)}this.cached=a,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(c){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(c)}}async batchSubscribe(a){if(!a.length)return;let b=await this.rpcBatchSubscribe(a);dq(b)&&this.onBatchSubscribe(b.map((b,c)=>fD(fC({},a[c]),{id:b})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;let a=[];this.pending.forEach(b=>{a.push(b)}),await this.batchSubscribe(a)}registerEventListeners(){this.relayer.core.heartbeat.on(bC.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(fl.connect,async()=>{await this.onConnect()}),this.relayer.on(fl.disconnect,()=>{this.onDisconnect()}),this.events.on(fo.created,async a=>{let b=fo.created;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,data:a}),await this.persist()}),this.events.on(fo.deleted,async a=>{let b=fo.deleted;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,data:a}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:a}=dn("NOT_INITIALIZED",this.name);throw Error(a)}}async restartToComplete(){this.restartInProgress&&await new Promise(a=>{let b=setInterval(()=>{this.restartInProgress||(clearInterval(b),a())},this.pollingInterval)})}}(this,this.logger),this.publisher=new class extends bI{constructor(a,b){super(a,b),this.relayer=a,this.logger=b,this.events=new r.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=1e4,this.publish=async(a,b,c)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:a,message:b,opts:c}});try{let d=c?.ttl||fj,e=c1(c),f=c?.prompt||!1,g=c?.tag||0,h={topic:a,message:b,opts:{ttl:d,relay:e,prompt:f,tag:g}},i=cD(b);this.queue.set(i,h);try{await await cW(this.rpcPublish(a,b,d,e,f,g),this.publishTimeout),this.relayer.events.emit(fl.publish,h)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(fl.connection_stalled);return}this.onPublish(i,h),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:a,message:b,opts:c}})}catch(j){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(j),j}},this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.relayer=a,this.logger=(0,bD.generateChildLogger)(b,this.name),this.registerEventListeners()}get context(){return(0,bD.getLoggerContext)(this.logger)}rpcPublish(a,b,c,d,e,f){var g,h,i,j;let k={method:c2(d.protocol).publish,params:{topic:a,message:b,ttl:c,prompt:e,tag:f}};return ds(null==(g=k.params)?void 0:g.prompt)&&(null==(h=k.params)||delete h.prompt),ds(null==(i=k.params)?void 0:i.tag)&&(null==(j=k.params)||delete j.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:k}),this.relayer.request(k)}onPublish(a,b){this.queue.delete(a)}checkQueue(){this.queue.forEach(async a=>{let{topic:b,message:c,opts:d}=a;await this.publish(b,c,d)})}registerEventListeners(){this.relayer.core.heartbeat.on(bC.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}}(this,this.logger),this.relayUrl=a?.relayUrl||fk,this.projectId=a.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return(0,bD.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(a,b,c){this.isInitialized(),await this.publisher.publish(a,b,c),await this.recordMessageEvent({topic:a,message:b,publishedAt:Date.now()})}async subscribe(a,b){this.isInitialized();let c="";return await Promise.all([new Promise(b=>{this.subscriber.once(fo.created,c=>{c.topic===a&&b()})}),new Promise(async d=>{c=await this.subscriber.subscribe(a,b),d()})]),c}async unsubscribe(a,b){this.isInitialized(),await this.subscriber.unsubscribe(a,b)}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(fl.transport_closed))}async transportOpen(a){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=a||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(a=>{this.initialized||a(),this.subscriber.once(fo.resubscribed,()=>{a()})}),await Promise.race([new Promise(async(a,b)=>{await cW(this.provider.connect(),5e3,"socket stalled").catch(a=>b(a)).then(()=>a()).finally(()=>this.removeListener(fl.transport_closed,this.rejectTransportOpen))}),new Promise(a=>this.once(fl.transport_closed,this.rejectTransportOpen))])])}catch(b){this.logger.error(b);let c=b;if(!this.isConnectionStalled(c.message))throw b;this.events.emit(fl.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(a){this.transportExplicitlyClosed||(this.relayUrl=a||this.relayUrl,this.connected&&await Promise.all([new Promise(a=>{this.provider.once(fm.disconnect,()=>{a()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(a){return this.staleConnectionErrors.some(b=>a.includes(b))}rejectTransportOpen(){throw Error("closeTransport called before connection was established")}async createProvider(){let a=await this.core.crypto.signJWT(this.relayUrl);this.provider=new d2(new d6(function({protocol:a,version:b,relayUrl:c,sdkVersion:d,auth:e,projectId:f,useOnCloseEvent:g}){var h,i;let j,k=c.split("?"),l=function(a,b,c){let d=function(){var a;let b=a?cq(a):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new cm:"undefined"!=typeof navigator?cq(navigator.userAgent):void 0!==cg&&cg.version?new cj(cg.version.slice(1)):null;if(null===b)return"unknown";let c=b.os?b.os.replace(" ","").toLowerCase():"unknown";return"browser"===b.type?[c,b.name,b.version].join("-"):[c,b.version].join("-")}(),e=function(){var a;let b=cQ()?cO.reactNative:cP()?cO.node:cR()?cO.browser:cO.unknown;return b===cO.browser?[b,(null==(a=(0,aT.getLocation)())?void 0:a.host)||"unknown"].join(":"):b}();return[[a,b].join("-"),["js",c].join("-"),d,e].join("/")}(a,b,d),m=(h=k[1]||"",i={auth:e,ua:l,projectId:f,useOnCloseEvent:g||void 0},j=ct.parse(h),j=cN(cN({},j),i),h=ct.stringify(j));return k[0]+"?"+m}({sdkVersion:"2.7.2",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:a,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(a){let{topic:b,message:c}=a;await this.messages.set(b,c)}async shouldIgnoreMessageEvent(a){let{topic:b,message:c}=a;return!await this.subscriber.isSubscribed(b)||this.messages.has(b,c)}async onProviderPayload(a){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:a}),d$(a)){if(!a.method.endsWith("_subscription"))return;let b=a.params,{topic:c,message:d,publishedAt:e}=b.data,f={topic:c,message:d,publishedAt:e};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(fJ({type:"event",event:b.id},f)),this.events.emit(b.id,f),await this.acknowledgePayload(a),await this.onMessageEvent(f)}}async onMessageEvent(a){await this.shouldIgnoreMessageEvent(a)||(this.events.emit(fl.message,a),await this.recordMessageEvent(a))}async acknowledgePayload(a){let b=dQ(a.id,!0);await this.provider.connection.send(b)}registerProviderListeners(){this.provider.on(fm.payload,a=>this.onProviderPayload(a)),this.provider.on(fm.connect,()=>{this.events.emit(fl.connect)}),this.provider.on(fm.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(fm.error,a=>{this.logger.error(a),this.events.emit(fl.error,a)})}registerEventListeners(){this.events.on(fl.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(fl.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},(0,aS.toMiliseconds)(fn))}isInitialized(){if(!this.initialized){let{message:a}=dn("NOT_INITIALIZED",this.name);throw Error(a)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(a=>{let b=setInterval(()=>{this.connected&&(clearInterval(b),a())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new class{constructor(a,b){this.core=a,this.logger=b,this.name="pairing",this.version="0.3",this.events=new(s()),this.initialized=!1,this.storagePrefix=fg,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:a})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...a])]},this.create=async()=>{var a;this.isInitialized();let b=cC(),c=await this.core.crypto.setSymKey(b),d=cZ(aS.FIVE_MINUTES),e={protocol:"irn"},f=(a={protocol:this.core.protocol,version:this.core.version,topic:c,symKey:b,relay:e},`${a.protocol}:${a.topic}@${a.version}?`+ct.stringify(c8({symKey:a.symKey},function(a,b="-"){let c={};return Object.keys(a).forEach(d=>{let e="relay"+b+d;a[d]&&(c[e]=a[d])}),c}(a.relay))));return await this.pairings.set(c,{topic:c,expiry:d,relay:e,active:!1}),await this.core.relayer.subscribe(c),this.core.expirer.set(c,d),{topic:c,uri:f}},this.pair=async a=>{this.isInitialized(),this.isValidPair(a);let{topic:b,symKey:c,relay:d}=function(a){let b=a.indexOf(":"),c=-1!==a.indexOf("?")?a.indexOf("?"):void 0,d=a.substring(0,b),e=a.substring(b+1,c).split("@"),f="u">typeof c?a.substring(c):"",g=ct.parse(f);return{protocol:d,topic:e[0],version:parseInt(e[1],10),symKey:g.symKey,relay:function(a,b="-"){let c={},d="relay"+b;return Object.keys(a).forEach(b=>{if(b.startsWith(d)){let e=b.replace(d,""),f=a[b];c[e]=f}}),c}(g)}}(a.uri);if(this.pairings.keys.includes(b))throw Error(`Pairing already exists: ${b}`);if(this.core.crypto.hasKeys(b))throw Error(`Keychain already exists: ${b}`);let e=cZ(aS.FIVE_MINUTES),f={topic:b,relay:d,expiry:e,active:!1};return await this.pairings.set(b,f),await this.core.crypto.setSymKey(c,b),await this.core.relayer.subscribe(b,{relay:d}),this.core.expirer.set(b,e),a.activatePairing&&await this.activate({topic:b}),f},this.activate=async({topic:a})=>{this.isInitialized();let b=cZ(aS.THIRTY_DAYS);await this.pairings.update(a,{active:!0,expiry:b}),this.core.expirer.set(a,b)},this.ping=async a=>{this.isInitialized(),await this.isValidPing(a);let{topic:b}=a;if(this.pairings.keys.includes(b)){let c=await this.sendRequest(b,"wc_pairingPing",{}),{done:d,resolve:e,reject:f}=cV();this.events.once(c_("pairing_ping",c),({error:a})=>{a?f(a):e()}),await d()}},this.updateExpiry=async({topic:a,expiry:b})=>{this.isInitialized(),await this.pairings.update(a,{expiry:b})},this.updateMetadata=async({topic:a,metadata:b})=>{this.isInitialized(),await this.pairings.update(a,{peerMetadata:b})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async a=>{this.isInitialized(),await this.isValidDisconnect(a);let{topic:b}=a;this.pairings.keys.includes(b)&&(await this.sendRequest(b,"wc_pairingDelete",dp("USER_DISCONNECTED")),await this.deletePairing(b))},this.sendRequest=async(a,b,c)=>{let d=dP(b,c),e=await this.core.crypto.encode(a,d),f=fq[b].req;return this.core.history.set(a,d),await this.core.relayer.publish(a,e,f),d.id},this.sendResult=async(a,b,c)=>{let d=dQ(a,c),e=await this.core.crypto.encode(b,d),f=await this.core.history.get(b,a),g=fq[f.request.method].res;await this.core.relayer.publish(b,e,g),await this.core.history.resolve(d)},this.sendError=async(a,b,c)=>{let d=dR(a,c),e=await this.core.crypto.encode(b,d),f=await this.core.history.get(b,a),g=fq[f.request.method]?fq[f.request.method].res:fq.unregistered_method.res;await this.core.relayer.publish(b,e,g),await this.core.history.resolve(d)},this.deletePairing=async(a,b)=>{await this.core.relayer.unsubscribe(a),await Promise.all([this.pairings.delete(a,dp("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(a),b?Promise.resolve():this.core.expirer.del(a)])},this.cleanup=async()=>{let a=this.pairings.getAll().filter(a=>c$(a.expiry));await Promise.all(a.map(a=>this.deletePairing(a.topic)))},this.onRelayEventRequest=a=>{let{topic:b,payload:c}=a,d=c.method;if(this.pairings.keys.includes(b))switch(d){case"wc_pairingPing":return this.onPairingPingRequest(b,c);case"wc_pairingDelete":return this.onPairingDeleteRequest(b,c);default:return this.onUnknownRpcMethodRequest(b,c)}},this.onRelayEventResponse=async a=>{let{topic:b,payload:c}=a,d=(await this.core.history.get(b,c.id)).request.method;if(this.pairings.keys.includes(b))return"wc_pairingPing"===d?this.onPairingPingResponse(b,c):this.onUnknownRpcMethodResponse(d)},this.onPairingPingRequest=async(a,b)=>{let{id:c}=b;try{this.isValidPing({topic:a}),await this.sendResult(c,a,!0),this.events.emit("pairing_ping",{id:c,topic:a})}catch(d){await this.sendError(c,a,d),this.logger.error(d)}},this.onPairingPingResponse=(a,b)=>{let{id:c}=b;setTimeout(()=>{d0(b)?this.events.emit(c_("pairing_ping",c),{}):d1(b)&&this.events.emit(c_("pairing_ping",c),{error:b.error})},500)},this.onPairingDeleteRequest=async(a,b)=>{let{id:c}=b;try{this.isValidDisconnect({topic:a}),await this.deletePairing(a),this.events.emit("pairing_delete",{id:c,topic:a})}catch(d){await this.sendError(c,a,d),this.logger.error(d)}},this.onUnknownRpcMethodRequest=async(a,b)=>{let{id:c,method:d}=b;try{if(this.registeredMethods.includes(d))return;let e=dp("WC_METHOD_UNSUPPORTED",d);await this.sendError(c,a,e),this.logger.error(e)}catch(f){await this.sendError(c,a,f),this.logger.error(f)}},this.onUnknownRpcMethodResponse=a=>{this.registeredMethods.includes(a)||this.logger.error(dp("WC_METHOD_UNSUPPORTED",a))},this.isValidPair=a=>{if(!dA(a)){let{message:b}=dn("MISSING_OR_INVALID",`pair() params: ${a}`);throw Error(b)}if(!function(a){if(dt(a,!1))try{return"u">typeof new URL(a)}catch{}return!1}(a.uri)){let{message:c}=dn("MISSING_OR_INVALID",`pair() uri: ${a.uri}`);throw Error(c)}},this.isValidPing=async a=>{if(!dA(a)){let{message:b}=dn("MISSING_OR_INVALID",`ping() params: ${a}`);throw Error(b)}let{topic:c}=a;await this.isValidPairingTopic(c)},this.isValidDisconnect=async a=>{if(!dA(a)){let{message:b}=dn("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw Error(b)}let{topic:c}=a;await this.isValidPairingTopic(c)},this.isValidPairingTopic=async a=>{if(!dt(a,!1)){let{message:b}=dn("MISSING_OR_INVALID",`pairing topic should be a string: ${a}`);throw Error(b)}if(!this.pairings.keys.includes(a)){let{message:c}=dn("NO_MATCHING_KEY",`pairing topic doesn't exist: ${a}`);throw Error(c)}if(c$(this.pairings.get(a).expiry)){await this.deletePairing(a);let{message:d}=dn("EXPIRED",`pairing topic: ${a}`);throw Error(d)}},this.core=a,this.logger=(0,bD.generateChildLogger)(b,this.name),this.pairings=new fQ(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,bD.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){let{message:a}=dn("NOT_INITIALIZED",this.name);throw Error(a)}}registerRelayerEvents(){this.core.relayer.on(fl.message,async a=>{let{topic:b,message:c}=a;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(c)))return;let d=await this.core.crypto.decode(b,c);d$(d)?(this.core.history.set(b,d),this.onRelayEventRequest({topic:b,payload:d})):d_(d)&&(await this.core.history.resolve(d),this.onRelayEventResponse({topic:b,payload:d}))})}registerExpirerEvents(){this.core.expirer.on(fs.expired,async a=>{let{topic:b}=cY(a.target);b&&this.pairings.keys.includes(b)&&(await this.deletePairing(b,!0),this.events.emit("pairing_expire",{topic:b}))})}}(this,this.logger),this.verify=new class extends bN{constructor(a,b){super(a,b),this.projectId=a,this.logger=b,this.name=ft,this.initialized=!1,this.init=async a=>{cQ()||!cR()||(this.verifyUrl=a?.verifyUrl||fu,await this.createIframe())},this.register=async a=>{var b;this.initialized||await this.init(),this.iframe&&(null==(b=this.iframe.contentWindow)||b.postMessage(a.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${a.attestationId} ${this.verifyUrl}`))},this.resolve=async a=>{var b;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${a.attestationId}`);let c=this.startAbortTimer(aS.FIVE_SECONDS),d=await fetch(`${this.verifyUrl}/attestation/${a.attestationId}`,{signal:this.abortController.signal});return clearTimeout(c),200===d.status?null==(b=await d.json())?void 0:b.origin:""},this.createIframe=async()=>{try{let a=this.startAbortTimer(aS.FIVE_SECONDS);await Promise.race([new Promise((b,c)=>{let d=document.createElement("iframe");d.setAttribute("id",ft),d.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),d.style.display="none",d.addEventListener("load",()=>{this.initialized=!0,clearTimeout(a),b()}),d.addEventListener("error",a=>{c(a)}),document.body.append(d),this.iframe=d}),new Promise(a=>{this.abortController.signal.addEventListener("abort",()=>{a("iframe load timeout")})})])}catch(b){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(b)}},this.logger=(0,bD.generateChildLogger)(b,this.name),this.verifyUrl=fu,this.abortController=new AbortController,this.isDevEnv=cP()&&d9.env.IS_VITEST}get context(){return(0,bD.getLoggerContext)(this.logger)}startAbortTimer(a){return setTimeout(()=>this.abortController.abort(),cZ(a))}}(this.projectId||"",this.logger)}static async init(a){let b=new fX(a);return await b.initialize(),b}get context(){return(0,bD.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(a){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,a),this.logger.error(a.message),a}}}let fY="client",fZ=`wc@2:${fY}:`,f$={name:fY,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},f_="Proposal expired",f0=aS.SEVEN_DAYS,f1={wc_sessionPropose:{req:{ttl:aS.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:aS.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:aS.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:aS.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:aS.ONE_DAY,prompt:!1,tag:1104},res:{ttl:aS.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:aS.ONE_DAY,prompt:!1,tag:1106},res:{ttl:aS.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:aS.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:aS.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:aS.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:aS.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:aS.ONE_DAY,prompt:!1,tag:1112},res:{ttl:aS.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:aS.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:aS.THIRTY_SECONDS,prompt:!1,tag:1115}}},f2={min:aS.FIVE_MINUTES,max:aS.SEVEN_DAYS},f3=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var f4=Object.defineProperty,f5=Object.defineProperties,f6=Object.getOwnPropertyDescriptors,f7=Object.getOwnPropertySymbols,f8=Object.prototype.hasOwnProperty,f9=Object.prototype.propertyIsEnumerable,ga=(a,b,c)=>b in a?f4(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,gb=(a,b)=>{for(var c in b||(b={}))f8.call(b,c)&&ga(a,c,b[c]);if(f7)for(var c of f7(b))f9.call(b,c)&&ga(a,c,b[c]);return a},gc=(a,b)=>f5(a,f6(b));class gd extends bO{constructor(a){super(a),this.protocol="wc",this.version=2,this.name=f$.name,this.events=new r.EventEmitter,this.on=(a,b)=>this.events.on(a,b),this.once=(a,b)=>this.events.once(a,b),this.off=(a,b)=>this.events.off(a,b),this.removeListener=(a,b)=>this.events.removeListener(a,b),this.removeAllListeners=a=>this.events.removeAllListeners(a),this.connect=async a=>{try{return await this.engine.connect(a)}catch(b){throw this.logger.error(b.message),b}},this.pair=async a=>{try{return await this.engine.pair(a)}catch(b){throw this.logger.error(b.message),b}},this.approve=async a=>{try{return await this.engine.approve(a)}catch(b){throw this.logger.error(b.message),b}},this.reject=async a=>{try{return await this.engine.reject(a)}catch(b){throw this.logger.error(b.message),b}},this.update=async a=>{try{return await this.engine.update(a)}catch(b){throw this.logger.error(b.message),b}},this.extend=async a=>{try{return await this.engine.extend(a)}catch(b){throw this.logger.error(b.message),b}},this.request=async a=>{try{return await this.engine.request(a)}catch(b){throw this.logger.error(b.message),b}},this.respond=async a=>{try{return await this.engine.respond(a)}catch(b){throw this.logger.error(b.message),b}},this.ping=async a=>{try{return await this.engine.ping(a)}catch(b){throw this.logger.error(b.message),b}},this.emit=async a=>{try{return await this.engine.emit(a)}catch(b){throw this.logger.error(b.message),b}},this.disconnect=async a=>{try{return await this.engine.disconnect(a)}catch(b){throw this.logger.error(b.message),b}},this.find=a=>{try{return this.engine.find(a)}catch(b){throw this.logger.error(b.message),b}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(a){throw this.logger.error(a.message),a}},this.name=a?.name||f$.name,this.metadata=a?.metadata||(0,aU.D)()||{name:"",description:"",url:"",icons:[""]};let b="u">typeof a?.logger&&"string"!=typeof a?.logger?a.logger:(0,bD.pino)((0,bD.getDefaultLoggerOptions)({level:a?.logger||f$.logger}));this.core=a?.core||new fX(a),this.logger=(0,bD.generateChildLogger)(b,this.name),this.session=new class extends fQ{constructor(a,b){super(a,b,"session",fZ),this.core=a,this.logger=b}}(this.core,this.logger),this.proposal=new class extends fQ{constructor(a,b){super(a,b,"proposal",fZ),this.core=a,this.logger=b}}(this.core,this.logger),this.pendingRequest=new class extends fQ{constructor(a,b){super(a,b,"request",fZ,a=>a.id),this.core=a,this.logger=b}}(this.core,this.logger),this.engine=new class extends bP{constructor(a){super(a),this.name="engine",this.events=new(s()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(f1)}),this.initialized=!0)},this.connect=async a=>{this.isInitialized();let b=gc(gb({},a),{requiredNamespaces:a.requiredNamespaces||{},optionalNamespaces:a.optionalNamespaces||{}});await this.isValidConnect(b);let{pairingTopic:c,requiredNamespaces:d,optionalNamespaces:e,sessionProperties:f,relays:g}=b,h=c,i,j=!1;if(h&&(j=this.client.core.pairing.pairings.get(h).active),!h||!j){let{topic:k,uri:l}=await this.client.core.pairing.create();h=k,i=l}let m=await this.client.core.crypto.generateKeyPair(),n=gb({requiredNamespaces:d,optionalNamespaces:e,relays:g??[{protocol:"irn"}],proposer:{publicKey:m,metadata:this.client.metadata}},f&&{sessionProperties:f}),{reject:o,resolve:p,done:q}=cV(aS.FIVE_MINUTES,f_);if(this.events.once(c_("session_connect"),async({error:a,session:b})=>{if(a)o(a);else if(b){b.self.publicKey=m;let c=gc(gb({},b),{requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces});await this.client.session.set(b.topic,c),await this.setExpiry(b.topic,b.expiry),h&&await this.client.core.pairing.updateMetadata({topic:h,metadata:b.peer.metadata}),p(c)}}),!h){let{message:r}=dn("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw Error(r)}let s=await this.sendRequest(h,"wc_sessionPropose",n),t=cZ(aS.FIVE_MINUTES);return await this.setProposal(s,gb({id:s,expiry:t},n)),{uri:i,approval:q}},this.pair=async a=>(this.isInitialized(),await this.client.core.pairing.pair(a)),this.approve=async a=>{this.isInitialized(),await this.isValidApprove(a);let{id:b,relayProtocol:c,namespaces:d,sessionProperties:e}=a,f=this.client.proposal.get(b),{pairingTopic:g,proposer:h,requiredNamespaces:i,optionalNamespaces:j}=f;g=g||"",dr(i)||(i=function(a,b){let c=dy(a,b);if(c)throw Error(c.message);let d={};for(let[e,f]of Object.entries(a))d[e]={methods:f.methods,events:f.events,chains:f.accounts.map(a=>`${a.split(":")[0]}:${a.split(":")[1]}`)};return d}(d,"approve()"));let k=await this.client.core.crypto.generateKeyPair(),l=h.publicKey,m=await this.client.core.crypto.generateSharedKey(k,l);g&&b&&(await this.client.core.pairing.updateMetadata({topic:g,metadata:h.metadata}),await this.sendResult(b,g,{relay:{protocol:c??"irn"},responderPublicKey:k}),await this.client.proposal.delete(b,dp("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}));let n=gb({relay:{protocol:c??"irn"},namespaces:d,requiredNamespaces:i,optionalNamespaces:j,pairingTopic:g,controller:{publicKey:k,metadata:this.client.metadata},expiry:cZ(f0)},e&&{sessionProperties:e});await this.client.core.relayer.subscribe(m),await this.sendRequest(m,"wc_sessionSettle",n);let o=gc(gb({},n),{topic:m,pairingTopic:g,acknowledged:!1,self:n.controller,peer:{publicKey:h.publicKey,metadata:h.metadata},controller:k});return await this.client.session.set(m,o),await this.setExpiry(m,cZ(f0)),{topic:m,acknowledged:()=>new Promise(a=>a(this.client.session.get(m)))}},this.reject=async a=>{this.isInitialized(),await this.isValidReject(a);let{id:b,reason:c}=a,{pairingTopic:d}=this.client.proposal.get(b);d&&(await this.sendError(b,d,c),await this.client.proposal.delete(b,dp("USER_DISCONNECTED")))},this.update=async a=>{this.isInitialized(),await this.isValidUpdate(a);let{topic:b,namespaces:c}=a,d=await this.sendRequest(b,"wc_sessionUpdate",{namespaces:c}),{done:e,resolve:f,reject:g}=cV();return this.events.once(c_("session_update",d),({error:a})=>{a?g(a):f()}),await this.client.session.update(b,{namespaces:c}),{acknowledged:e}},this.extend=async a=>{this.isInitialized(),await this.isValidExtend(a);let{topic:b}=a,c=await this.sendRequest(b,"wc_sessionExtend",{}),{done:d,resolve:e,reject:f}=cV();return this.events.once(c_("session_extend",c),({error:a})=>{a?f(a):e()}),await this.setExpiry(b,cZ(f0)),{acknowledged:d}},this.request=async a=>{this.isInitialized(),await this.isValidRequest(a);let{chainId:b,request:c,topic:d,expiry:e}=a,f=await this.sendRequest(d,"wc_sessionRequest",{request:c,chainId:b},e),{done:g,resolve:h,reject:i}=cV(e);return this.events.once(c_("session_request",f),({error:a,result:b})=>{a?i(a):h(b)}),this.client.events.emit("session_request_sent",{topic:d,request:c,chainId:b,id:f}),await g()},this.respond=async a=>{this.isInitialized(),await this.isValidRespond(a);let{topic:b,response:c}=a,{id:d}=c;d0(c)?await this.sendResult(d,b,c.result):d1(c)&&await this.sendError(d,b,c.error),this.deletePendingSessionRequest(a.response.id,{message:"fulfilled",code:0})},this.ping=async a=>{this.isInitialized(),await this.isValidPing(a);let{topic:b}=a;if(this.client.session.keys.includes(b)){let c=await this.sendRequest(b,"wc_sessionPing",{}),{done:d,resolve:e,reject:f}=cV();this.events.once(c_("session_ping",c),({error:a})=>{a?f(a):e()}),await d()}else this.client.core.pairing.pairings.keys.includes(b)&&await this.client.core.pairing.ping({topic:b})},this.emit=async a=>{this.isInitialized(),await this.isValidEmit(a);let{topic:b,event:c,chainId:d}=a;await this.sendRequest(b,"wc_sessionEvent",{event:c,chainId:d})},this.disconnect=async a=>{this.isInitialized(),await this.isValidDisconnect(a);let{topic:b}=a;this.client.session.keys.includes(b)?(await this.sendRequest(b,"wc_sessionDelete",dp("USER_DISCONNECTED")),await this.deleteSession(b)):await this.client.core.pairing.disconnect({topic:b})},this.find=a=>(this.isInitialized(),this.client.session.getAll().filter(b=>(function(a,b){let{requiredNamespaces:c}=b,d=Object.keys(a.namespaces),e=Object.keys(c),f=!0;return!!cS(e,d)&&(d.forEach(b=>{let{accounts:d,methods:e,events:g}=a.namespaces[b],h=di(d),i=c[b];cS(cw(b,i),h)&&cS(i.methods,e)&&cS(i.events,g)||(f=!1)}),f)})(b,a))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=async(a,b)=>{let{self:c}=this.client.session.get(a);await this.client.core.relayer.unsubscribe(a),await Promise.all([this.client.session.delete(a,dp("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.deleteSymKey(a),b?Promise.resolve():this.client.core.expirer.del(a)])},this.deleteProposal=async(a,b)=>{await Promise.all([this.client.proposal.delete(a,dp("USER_DISCONNECTED")),b?Promise.resolve():this.client.core.expirer.del(a)])},this.deletePendingSessionRequest=async(a,b,c=!1)=>{await Promise.all([this.client.pendingRequest.delete(a,b),c?Promise.resolve():this.client.core.expirer.del(a)])},this.setExpiry=async(a,b)=>{this.client.session.keys.includes(a)&&await this.client.session.update(a,{expiry:b}),this.client.core.expirer.set(a,b)},this.setProposal=async(a,b)=>{await this.client.proposal.set(a,b),this.client.core.expirer.set(a,b.expiry)},this.setPendingSessionRequest=async a=>{let b=f1.wc_sessionRequest.req.ttl,{id:c,topic:d,params:e}=a;await this.client.pendingRequest.set(c,{id:c,topic:d,params:e}),b&&this.client.core.expirer.set(c,cZ(b))},this.sendRequest=async(a,b,c,d)=>{let e=dP(b,c);if(cR()&&f3.includes(b)){let f=cD(JSON.stringify(e));await this.client.core.verify.register({attestationId:f})}let g=await this.client.core.crypto.encode(a,e),h=f1[b].req;return d&&(h.ttl=d),this.client.core.history.set(a,e),this.client.core.relayer.publish(a,g,h),e.id},this.sendResult=async(a,b,c)=>{let d=dQ(a,c),e=await this.client.core.crypto.encode(b,d),f=await this.client.core.history.get(b,a),g=f1[f.request.method].res;this.client.core.relayer.publish(b,e,g),await this.client.core.history.resolve(d)},this.sendError=async(a,b,c)=>{let d=dR(a,c),e=await this.client.core.crypto.encode(b,d),f=await this.client.core.history.get(b,a),g=f1[f.request.method].res;this.client.core.relayer.publish(b,e,g),await this.client.core.history.resolve(d)},this.cleanup=async()=>{let a=[],b=[];this.client.session.getAll().forEach(b=>{c$(b.expiry)&&a.push(b.topic)}),this.client.proposal.getAll().forEach(a=>{c$(a.expiry)&&b.push(a.id)}),await Promise.all([...a.map(a=>this.deleteSession(a)),...b.map(a=>this.deleteProposal(a))])},this.onRelayEventRequest=a=>{let{topic:b,payload:c}=a,d=c.method;switch(d){case"wc_sessionPropose":return this.onSessionProposeRequest(b,c);case"wc_sessionSettle":return this.onSessionSettleRequest(b,c);case"wc_sessionUpdate":return this.onSessionUpdateRequest(b,c);case"wc_sessionExtend":return this.onSessionExtendRequest(b,c);case"wc_sessionPing":return this.onSessionPingRequest(b,c);case"wc_sessionDelete":return this.onSessionDeleteRequest(b,c);case"wc_sessionRequest":return this.onSessionRequest(b,c);case"wc_sessionEvent":return this.onSessionEventRequest(b,c);default:return this.client.logger.info(`Unsupported request method ${d}`)}},this.onRelayEventResponse=async a=>{let{topic:b,payload:c}=a,d=(await this.client.core.history.get(b,c.id)).request.method;switch(d){case"wc_sessionPropose":return this.onSessionProposeResponse(b,c);case"wc_sessionSettle":return this.onSessionSettleResponse(b,c);case"wc_sessionUpdate":return this.onSessionUpdateResponse(b,c);case"wc_sessionExtend":return this.onSessionExtendResponse(b,c);case"wc_sessionPing":return this.onSessionPingResponse(b,c);case"wc_sessionRequest":return this.onSessionRequestResponse(b,c);default:return this.client.logger.info(`Unsupported response method ${d}`)}},this.onSessionProposeRequest=async(a,b)=>{let{params:c,id:d}=b;try{this.isValidConnect(gb({},b.params));let e=cZ(aS.FIVE_MINUTES),f=gb({id:d,pairingTopic:a,expiry:e},c);await this.setProposal(d,f);let g=cD(JSON.stringify(b)),h=await this.getVerifyContext(g,f.proposer.metadata);this.client.events.emit("session_proposal",{id:d,params:f,context:h})}catch(i){await this.sendError(d,a,i),this.client.logger.error(i)}},this.onSessionProposeResponse=async(a,b)=>{let{id:c}=b;if(d0(b)){let{result:d}=b;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:d});let e=this.client.proposal.get(c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:e});let f=e.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:f});let g=d.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:g});let h=await this.client.core.crypto.generateSharedKey(f,g);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});let i=await this.client.core.relayer.subscribe(h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:i}),await this.client.core.pairing.activate({topic:a})}else d1(b)&&(await this.client.proposal.delete(c,dp("USER_DISCONNECTED")),this.events.emit(c_("session_connect"),{error:b.error}))},this.onSessionSettleRequest=async(a,b)=>{let{id:c,params:d}=b;try{this.isValidSessionSettleRequest(d);let{relay:e,controller:f,expiry:g,namespaces:h,requiredNamespaces:i,optionalNamespaces:j,sessionProperties:k,pairingTopic:l}=b.params,m=gb({topic:a,relay:e,expiry:g,namespaces:h,acknowledged:!0,pairingTopic:l,requiredNamespaces:i,optionalNamespaces:j,controller:f.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:f.publicKey,metadata:f.metadata}},k&&{sessionProperties:k});await this.sendResult(b.id,a,!0),this.events.emit(c_("session_connect"),{session:m})}catch(n){await this.sendError(c,a,n),this.client.logger.error(n)}},this.onSessionSettleResponse=async(a,b)=>{let{id:c}=b;d0(b)?(await this.client.session.update(a,{acknowledged:!0}),this.events.emit(c_("session_approve",c),{})):d1(b)&&(await this.client.session.delete(a,dp("USER_DISCONNECTED")),this.events.emit(c_("session_approve",c),{error:b.error}))},this.onSessionUpdateRequest=async(a,b)=>{let{params:c,id:d}=b;try{this.isValidUpdate(gb({topic:a},c)),await this.client.session.update(a,{namespaces:c.namespaces}),await this.sendResult(d,a,!0),this.client.events.emit("session_update",{id:d,topic:a,params:c})}catch(e){await this.sendError(d,a,e),this.client.logger.error(e)}},this.onSessionUpdateResponse=(a,b)=>{let{id:c}=b;d0(b)?this.events.emit(c_("session_update",c),{}):d1(b)&&this.events.emit(c_("session_update",c),{error:b.error})},this.onSessionExtendRequest=async(a,b)=>{let{id:c}=b;try{this.isValidExtend({topic:a}),await this.setExpiry(a,cZ(f0)),await this.sendResult(c,a,!0),this.client.events.emit("session_extend",{id:c,topic:a})}catch(d){await this.sendError(c,a,d),this.client.logger.error(d)}},this.onSessionExtendResponse=(a,b)=>{let{id:c}=b;d0(b)?this.events.emit(c_("session_extend",c),{}):d1(b)&&this.events.emit(c_("session_extend",c),{error:b.error})},this.onSessionPingRequest=async(a,b)=>{let{id:c}=b;try{this.isValidPing({topic:a}),await this.sendResult(c,a,!0),this.client.events.emit("session_ping",{id:c,topic:a})}catch(d){await this.sendError(c,a,d),this.client.logger.error(d)}},this.onSessionPingResponse=(a,b)=>{let{id:c}=b;setTimeout(()=>{d0(b)?this.events.emit(c_("session_ping",c),{}):d1(b)&&this.events.emit(c_("session_ping",c),{error:b.error})},500)},this.onSessionDeleteRequest=async(a,b)=>{let{id:c}=b;try{this.isValidDisconnect({topic:a,reason:b.params}),await Promise.all([new Promise(b=>{this.client.core.relayer.once(fl.publish,async()=>{b(await this.deleteSession(a))})}),this.sendResult(c,a,!0)]),this.client.events.emit("session_delete",{id:c,topic:a})}catch(d){await this.sendError(c,a,d),this.client.logger.error(d)}},this.onSessionRequest=async(a,b)=>{let{id:c,params:d}=b;try{this.isValidRequest(gb({topic:a},d)),await this.setPendingSessionRequest({id:c,topic:a,params:d});let e=cD(JSON.stringify(b)),f=this.client.session.get(a),g=await this.getVerifyContext(e,f.peer.metadata);this.client.events.emit("session_request",{id:c,topic:a,params:d,context:g})}catch(h){await this.sendError(c,a,h),this.client.logger.error(h)}},this.onSessionRequestResponse=(a,b)=>{let{id:c}=b;d0(b)?this.events.emit(c_("session_request",c),{result:b.result}):d1(b)&&this.events.emit(c_("session_request",c),{error:b.error})},this.onSessionEventRequest=async(a,b)=>{let{id:c,params:d}=b;try{this.isValidEmit(gb({topic:a},d)),this.client.events.emit("session_event",{id:c,topic:a,params:d})}catch(e){await this.sendError(c,a,e),this.client.logger.error(e)}},this.isValidConnect=async a=>{var b,c;if(!dA(a)){let{message:d}=dn("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(a)}`);throw Error(d)}let{pairingTopic:e,requiredNamespaces:f,optionalNamespaces:g,sessionProperties:h,relays:i}=a,j;if(ds(e)||await this.isValidPairingTopic(e),b=i,j=!1,(c=!0,b)?b&&dq(b)&&b.length&&b.forEach(a=>{j=dz(a)}):j=!0,!j){let{message:k}=dn("MISSING_OR_INVALID",`connect() relays: ${i}`);throw Error(k)}ds(f)||0===dr(f)||this.validateNamespaces(f,"requiredNamespaces"),ds(g)||0===dr(g)||this.validateNamespaces(g,"optionalNamespaces"),ds(h)||this.validateSessionProps(h,"sessionProperties")},this.validateNamespaces=(a,b)=>{let c=function(a,b,c){let d=null;if(a&&dr(a)){var e,f;let g=dx(a,b);g&&(d=g);let h,i=(e=a,f=b,h=null,Object.entries(e).forEach(([a,b])=>{var c,d,e;if(h)return;let g,i=(c=a,d=cw(a,b),e=`${f} requiredNamespace`,g=null,dq(d)?d.forEach(a=>{!g&&(dv(a)&&a.includes(c)||(g=dp("UNSUPPORTED_CHAINS",`${e}, chain ${a} should be a string and conform to "namespace:chainId" format`)))}):g=dp("UNSUPPORTED_CHAINS",`${e}, chains ${d} should be an array of strings conforming to "namespace:chainId" format`),g);i&&(h=i)}),h);i&&(d=i)}else d=dn("MISSING_OR_INVALID",`${b}, ${c} should be an object with data`);return d}(a,"connect()",b);if(c)throw Error(c.message)},this.isValidApprove=async a=>{if(!dA(a))throw Error(dn("MISSING_OR_INVALID",`approve() params: ${a}`).message);let{id:b,namespaces:c,relayProtocol:d,sessionProperties:e}=a;await this.isValidProposalId(b);let f=this.client.proposal.get(b),g=dy(c,"approve()");if(g)throw Error(g.message);let h=dC(f.requiredNamespaces,c,"approve()");if(h)throw Error(h.message);if(!dt(d,!0)){let{message:i}=dn("MISSING_OR_INVALID",`approve() relayProtocol: ${d}`);throw Error(i)}ds(e)||this.validateSessionProps(e,"sessionProperties")},this.isValidReject=async a=>{var b;if(!dA(a)){let{message:c}=dn("MISSING_OR_INVALID",`reject() params: ${a}`);throw Error(c)}let{id:d,reason:e}=a;if(await this.isValidProposalId(d),!(b=e)||"object"!=typeof b||!b.code||!du(b.code,!1)||!b.message||!dt(b.message,!1)){let{message:f}=dn("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(e)}`);throw Error(f)}},this.isValidSessionSettleRequest=a=>{var b,c;if(!dA(a)){let{message:d}=dn("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${a}`);throw Error(d)}let{relay:e,controller:f,namespaces:g,expiry:h}=a;if(!dz(e)){let{message:i}=dn("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(i)}let j,k=(c="onSessionSettleRequest()",j=null,dt((b=f)?.publicKey,!1)||(j=dn("MISSING_OR_INVALID",`${c} controller public key should be a string`)),j);if(k)throw Error(k.message);let l=dy(g,"onSessionSettleRequest()");if(l)throw Error(l.message);if(c$(h)){let{message:m}=dn("EXPIRED","onSessionSettleRequest()");throw Error(m)}},this.isValidUpdate=async a=>{if(!dA(a)){let{message:b}=dn("MISSING_OR_INVALID",`update() params: ${a}`);throw Error(b)}let{topic:c,namespaces:d}=a;await this.isValidSessionTopic(c);let e=this.client.session.get(c),f=dy(d,"update()");if(f)throw Error(f.message);let g=dC(e.requiredNamespaces,d,"update()");if(g)throw Error(g.message)},this.isValidExtend=async a=>{if(!dA(a)){let{message:b}=dn("MISSING_OR_INVALID",`extend() params: ${a}`);throw Error(b)}let{topic:c}=a;await this.isValidSessionTopic(c)},this.isValidRequest=async a=>{var b,c,d,e,f,g;if(!dA(a)){let{message:h}=dn("MISSING_OR_INVALID",`request() params: ${a}`);throw Error(h)}let{topic:i,request:j,chainId:k,expiry:l}=a;await this.isValidSessionTopic(i);let{namespaces:m}=this.client.session.get(i);if(!dB(m,k)){let{message:n}=dn("MISSING_OR_INVALID",`request() chainId: ${k}`);throw Error(n)}if(ds(b=j)||!dt(b.method,!1)){let{message:o}=dn("MISSING_OR_INVALID",`request() ${JSON.stringify(j)}`);throw Error(o)}if(c=m,d=k,!(dt(e=j.method,!1)&&(function(a,b){let c=[];return Object.values(a).forEach(a=>{di(a.accounts).includes(b)&&c.push(...a.methods)}),c})(c,d).includes(e))){let{message:p}=dn("MISSING_OR_INVALID",`request() method: ${j.method}`);throw Error(p)}if(l&&(f=l,g=f2,!du(f,!1)||!(f<=g.max)||!(f>=g.min))){let{message:q}=dn("MISSING_OR_INVALID",`request() expiry: ${l}. Expiry must be a number (in seconds) between ${f2.min} and ${f2.max}`);throw Error(q)}},this.isValidRespond=async a=>{var b;if(!dA(a)){let{message:c}=dn("MISSING_OR_INVALID",`respond() params: ${a}`);throw Error(c)}let{topic:d,response:e}=a;if(await this.isValidSessionTopic(d),ds(b=e)||ds(b.result)&&ds(b.error)||!du(b.id,!1)||!dt(b.jsonrpc,!1)){let{message:f}=dn("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(e)}`);throw Error(f)}},this.isValidPing=async a=>{if(!dA(a)){let{message:b}=dn("MISSING_OR_INVALID",`ping() params: ${a}`);throw Error(b)}let{topic:c}=a;await this.isValidSessionOrPairingTopic(c)},this.isValidEmit=async a=>{var b,c,d,e;if(!dA(a)){let{message:f}=dn("MISSING_OR_INVALID",`emit() params: ${a}`);throw Error(f)}let{topic:g,event:h,chainId:i}=a;await this.isValidSessionTopic(g);let{namespaces:j}=this.client.session.get(g);if(!dB(j,i)){let{message:k}=dn("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw Error(k)}if(ds(b=h)||!dt(b.name,!1)){let{message:l}=dn("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(h)}`);throw Error(l)}if(c=j,d=i,!(dt(e=h.name,!1)&&(function(a,b){let c=[];return Object.values(a).forEach(a=>{di(a.accounts).includes(b)&&c.push(...a.events)}),c})(c,d).includes(e))){let{message:m}=dn("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(h)}`);throw Error(m)}},this.isValidDisconnect=async a=>{if(!dA(a)){let{message:b}=dn("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw Error(b)}let{topic:c}=a;await this.isValidSessionOrPairingTopic(c)},this.getVerifyContext=async(a,b)=>{let c={verified:{verifyUrl:b.verifyUrl||"",validation:"UNKNOWN",origin:b.url||""}};try{let d=await this.client.core.verify.resolve({attestationId:a,verifyUrl:b.verifyUrl});d&&(c.verified.origin=d,c.verified.validation=d===b.url?"VALID":"INVALID")}catch(e){this.client.logger.error(e)}return this.client.logger.info(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(a,b)=>{Object.values(a).forEach(a=>{if(!dt(a,!1)){let{message:c}=dn("MISSING_OR_INVALID",`${b} must be in Record<string, string> format. Received: ${JSON.stringify(a)}`);throw Error(c)}})}}isInitialized(){if(!this.initialized){let{message:a}=dn("NOT_INITIALIZED",this.name);throw Error(a)}}registerRelayerEvents(){this.client.core.relayer.on(fl.message,async a=>{let{topic:b,message:c}=a;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(c)))return;let d=await this.client.core.crypto.decode(b,c);d$(d)?(this.client.core.history.set(b,d),this.onRelayEventRequest({topic:b,payload:d})):d_(d)&&(await this.client.core.history.resolve(d),this.onRelayEventResponse({topic:b,payload:d}))})}registerExpirerEvents(){this.client.core.expirer.on(fs.expired,async a=>{let{topic:b,id:c}=cY(a.target);if(c&&this.client.pendingRequest.keys.includes(c))return await this.deletePendingSessionRequest(c,dn("EXPIRED"),!0);b?this.client.session.keys.includes(b)&&(await this.deleteSession(b,!0),this.client.events.emit("session_expire",{topic:b})):c&&(await this.deleteProposal(c,!0),this.client.events.emit("proposal_expire",{id:c}))})}isValidPairingTopic(a){if(!dt(a,!1)){let{message:b}=dn("MISSING_OR_INVALID",`pairing topic should be a string: ${a}`);throw Error(b)}if(!this.client.core.pairing.pairings.keys.includes(a)){let{message:c}=dn("NO_MATCHING_KEY",`pairing topic doesn't exist: ${a}`);throw Error(c)}if(c$(this.client.core.pairing.pairings.get(a).expiry)){let{message:d}=dn("EXPIRED",`pairing topic: ${a}`);throw Error(d)}}async isValidSessionTopic(a){if(!dt(a,!1)){let{message:b}=dn("MISSING_OR_INVALID",`session topic should be a string: ${a}`);throw Error(b)}if(!this.client.session.keys.includes(a)){let{message:c}=dn("NO_MATCHING_KEY",`session topic doesn't exist: ${a}`);throw Error(c)}if(c$(this.client.session.get(a).expiry)){await this.deleteSession(a);let{message:d}=dn("EXPIRED",`session topic: ${a}`);throw Error(d)}}async isValidSessionOrPairingTopic(a){if(this.client.session.keys.includes(a))await this.isValidSessionTopic(a);else if(this.client.core.pairing.pairings.keys.includes(a))this.isValidPairingTopic(a);else if(dt(a,!1)){let{message:b}=dn("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${a}`);throw Error(b)}else{let{message:c}=dn("MISSING_OR_INVALID",`session or pairing topic should be a string: ${a}`);throw Error(c)}}async isValidProposalId(a){var b;if("number"!=typeof(b=a)){let{message:c}=dn("MISSING_OR_INVALID",`proposal id should be a number: ${a}`);throw Error(c)}if(!this.client.proposal.keys.includes(a)){let{message:d}=dn("NO_MATCHING_KEY",`proposal id doesn't exist: ${a}`);throw Error(d)}if(c$(this.client.proposal.get(a).expiry)){await this.deleteProposal(a);let{message:e}=dn("EXPIRED",`proposal id: ${a}`);throw Error(e)}}}(this)}static async init(a){let b=new gd(a);return await b.initialize(),b}get context(){return(0,bD.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(a){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(a.message),a}}}function ge(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}ge("utf8","u",a=>{let b=new TextDecoder("utf8");return"u"+b.decode(a)},a=>{let b=new TextEncoder;return b.encode(a.substring(1))}),ge("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{a=a.substring(1);let b=function(a=0){if(null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe){var b;return b=globalThis.Buffer.allocUnsafe(a),null!=globalThis.Buffer?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):b}return new Uint8Array(a)}(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),aQ.base16,c(94543);var gf=c(34155);function gg(a){let[b,c,d]=a.split(":");return{namespace:b,reference:c,address:d}}let gh=a=>a?.split(":"),gi="base64pad";function gj(a){return Number(E(a,"base10"))}var gk=Object.defineProperty,gl=Object.getOwnPropertySymbols,gm=Object.prototype.hasOwnProperty,gn=Object.prototype.propertyIsEnumerable,go=(a,b,c)=>b in a?gk(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c;let gp={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function gq(){return"u">typeof gf&&"u">typeof gf.versions&&"u">typeof gf.versions.node}function gr(a,b){return a.filter(a=>b.includes(a)).length===a.length}function gs(a=[],b=[]){return[...new Set([...a,...b])]}var gt=Object.defineProperty,gu=Object.getOwnPropertySymbols,gv=Object.prototype.hasOwnProperty,gw=Object.prototype.propertyIsEnumerable,gx=(a,b,c)=>b in a?gt(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,gy=Object.defineProperty,gz=Object.defineProperties,gA=Object.getOwnPropertyDescriptors,gB=Object.getOwnPropertySymbols,gC=Object.prototype.hasOwnProperty,gD=Object.prototype.propertyIsEnumerable,gE=(a,b,c)=>b in a?gy(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,gF=(a,b)=>{for(var c in b||(b={}))gC.call(b,c)&&gE(a,c,b[c]);if(gB)for(var c of gB(b))gD.call(b,c)&&gE(a,c,b[c]);return a},gG=(a,b)=>gz(a,gA(b));function gH(a){let b=[];return a.forEach(a=>{let[c,d]=a.split(":");b.push(`${c}:${d}`)}),b}function gI(a){return a.includes(":")}function gJ(a){return gI(a)?a.split(":")[0]:a}let gK={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},gL={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function gM(a,b){let{message:c,code:d}=gL[a];return{message:b?`${c} ${b}`:c,code:d}}function gN(a,b){let{message:c,code:d}=gK[a];return{message:b?`${c} ${b}`:c,code:d}}function gO(a,b){return!!Array.isArray(a)&&(!("u">typeof b)||!a.length||a.every(b))}function gP(a){return Object.getPrototypeOf(a)===Object.prototype&&Object.keys(a).length}function gQ(a){return typeof a>"u"}function gR(a,b){return!!(b&&gQ(a))||"string"==typeof a&&Boolean(a.trim().length)}function gS(a){let b=!0;return gO(a)?a.length&&(b=a.every(a=>gR(a,!1))):b=!1,b}function gT(a){let b={};return Object.keys(a).forEach(c=>{var d;c.includes(":")?b[c]=a[c]:null==(d=a[c].chains)||d.forEach(d=>{b[d]={methods:a[c].methods,events:a[c].events}})}),b}function gU(a){return[...new Set(a.map(a=>a.includes(":")?a.split(":")[0]:a))]}function gV(a){let b={};return Object.keys(a).forEach(c=>{if(c.includes(":"))b[c]=a[c];else{let d=gH(a[c].accounts);d?.forEach(d=>{b[d]={accounts:a[c].accounts.filter(a=>a.includes(`${d}:`)),methods:a[c].methods,events:a[c].events}})}}),b}var gW=c(54098),gX=c.n(gW);let gY={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class gZ{constructor(a,b=!1){if(this.url=a,this.disableProviderPing=b,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!dX(a))throw Error(`Provided URL is not compatible with HTTP connection: ${a}`);this.url=a,this.disableProviderPing=b}get connected(){return this.isAvailable}get connecting(){return this.registering}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async open(a=this.url){await this.register(a)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(a,b){this.isAvailable||await this.register();try{let c=bT(a),d=await gX()(this.url,Object.assign(Object.assign({},gY),{body:c})),e=await d.json();this.onPayload({data:e})}catch(f){this.onError(a.id,f)}}async register(a=this.url){if(!dX(a))throw Error(`Provided URL is not compatible with HTTP connection: ${a}`);if(this.registering){let b=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=b||this.events.listenerCount("open")>=b)&&this.events.setMaxListeners(b+1),new Promise((a,b)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),b(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),void 0===this.isAvailable)return b(Error("HTTP connection is missing or invalid"));a()})})}this.url=a,this.registering=!0;try{if(!this.disableProviderPing){let c=bT({id:1,jsonrpc:"2.0",method:"test",params:[]});await gX()(a,Object.assign(Object.assign({},gY),{body:c}))}this.onOpen()}catch(d){let e=this.parseError(d);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(a){if(void 0===a.data)return;let b="string"==typeof a.data?bS(a.data):a.data;this.events.emit("payload",b)}onError(a,b){let c=this.parseError(b),d=c.message||c.toString(),e=dR(a,d);this.events.emit("payload",e)}parseError(a,b=this.url){return dM(a,b,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}var g$=gZ;let g_="error",g0="wc@2:universal_provider:",g1={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var g2="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof c.g?c.g:"u">typeof self?self:{},g3={exports:{}}; /**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ !function(a,b){(function(){var c,d="Expected a function",e="__lodash_hash_undefined__",f="__lodash_placeholder__",g=1,h=2,i=4,j=1,k=2,l=1,m=2,n=4,o=8,p=16,q=32,r=64,s=128,t=256,u=512,v=30,w="...",x=16,y=1/0,z=9007199254740991,A=0/0,B=4294967295,C=B-1,D=B>>>1,F=[["ary",s],["bind",l],["bindKey",m],["curry",o],["curryRight",p],["flip",u],["partial",q],["partialRight",r],["rearg",t]],G="[object Arguments]",H="[object Array]",I="[object Boolean]",J="[object Date]",K="[object Error]",L="[object Function]",M="[object GeneratorFunction]",N="[object Map]",O="[object Number]",P="[object Null]",Q="[object Object]",R="[object Promise]",S="[object RegExp]",T="[object Set]",U="[object String]",V="[object Symbol]",W="[object Undefined]",X="[object WeakMap]",Y="[object ArrayBuffer]",Z="[object DataView]",$="[object Float32Array]",_="[object Float64Array]",aa="[object Int8Array]",ab="[object Int16Array]",ac="[object Int32Array]",ad="[object Uint8Array]",ae="[object Uint8ClampedArray]",af="[object Uint16Array]",ag="[object Uint32Array]",ah=/\b__p \+= '';/g,ai=/\b(__p \+=) '' \+/g,aj=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ak=/&(?:amp|lt|gt|quot|#39);/g,al=/[&<>"']/g,am=RegExp(ak.source),an=RegExp(al.source),ao=/<%-([\s\S]+?)%>/g,ap=/<%([\s\S]+?)%>/g,aq=/<%=([\s\S]+?)%>/g,ar=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,as=/^\w*$/,at=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,au=/[\\^$.*+?()[\]{}|]/g,av=RegExp(au.source),aw=/^\s+/,ax=/\s/,ay=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,az=/\{\n\/\* \[wrapped with (.+)\] \*/,aA=/,? & /,aB=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,aC=/[()=,{}\[\]\/\s]/,aD=/\\(\\)?/g,aE=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,aF=/\w*$/,aG=/^[-+]0x[0-9a-f]+$/i,aH=/^0b[01]+$/i,aI=/^\[object .+?Constructor\]$/,aJ=/^0o[0-7]+$/i,aK=/^(?:0|[1-9]\d*)$/,aL=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,aM=/($^)/,aN=/['\n\r\u2028\u2029\\]/g,aO="\ud800-\udfff",aP="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",aQ="\\u2700-\\u27bf",aR="a-z\\xdf-\\xf6\\xf8-\\xff",aS="A-Z\\xc0-\\xd6\\xd8-\\xde",aT="\\ufe0e\\ufe0f",aU="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",aV="['’]",aW="["+aU+"]",aX="["+aP+"]",aY="["+aR+"]",aZ="[^"+aO+aU+"\\d+"+aQ+aR+aS+"]",a$="\ud83c[\udffb-\udfff]",a_="[^"+aO+"]",a0="(?:\ud83c[\udde6-\uddff]){2}",a1="[\ud800-\udbff][\udc00-\udfff]",a2="["+aS+"]",a3="\\u200d",a4="(?:"+aY+"|"+aZ+")",a5="(?:"+aV+"(?:d|ll|m|re|s|t|ve))?",a6="(?:"+aV+"(?:D|LL|M|RE|S|T|VE))?",a7="(?:"+aX+"|"+a$+")?",a8="["+aT+"]?",a9="(?:"+a3+"(?:"+[a_,a0,a1].join("|")+")"+a8+a7+")*",ba=a8+a7+a9,bb="(?:"+["["+aQ+"]",a0,a1].join("|")+")"+ba,bc="(?:"+[a_+aX+"?",aX,a0,a1,"["+aO+"]"].join("|")+")",bd=RegExp(aV,"g"),be=RegExp(aX,"g"),bf=RegExp(a$+"(?="+a$+")|"+bc+ba,"g"),bg=RegExp([a2+"?"+aY+"+"+a5+"(?="+[aW,a2,"$"].join("|")+")","(?:"+a2+"|"+aZ+")+"+a6+"(?="+[aW,a2+a4,"$"].join("|")+")",a2+"?"+a4+"+"+a5,a2+"+"+a6,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",bb].join("|"),"g"),bh=RegExp("["+a3+aO+aP+aT+"]"),bi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bj=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bk=-1,bl={};bl[$]=bl[_]=bl[aa]=bl[ab]=bl[ac]=bl[ad]=bl[ae]=bl[af]=bl[ag]=!0,bl[G]=bl[H]=bl[Y]=bl[I]=bl[Z]=bl[J]=bl[K]=bl[L]=bl[N]=bl[O]=bl[Q]=bl[S]=bl[T]=bl[U]=bl[X]=!1;var bm={};bm[G]=bm[H]=bm[Y]=bm[Z]=bm[I]=bm[J]=bm[$]=bm[_]=bm[aa]=bm[ab]=bm[ac]=bm[N]=bm[O]=bm[Q]=bm[S]=bm[T]=bm[U]=bm[V]=bm[ad]=bm[ae]=bm[af]=bm[ag]=!0,bm[K]=bm[L]=bm[X]=!1;var bn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bo=parseFloat,bp=parseInt,bq="object"==typeof g2&&g2&&g2.Object===Object&&g2,br="object"==typeof self&&self&&self.Object===Object&&self,bs=bq||br||Function("return this")(),bt=b&&!b.nodeType&&b,bu=bt&&a&&!a.nodeType&&a,bv=bu&&bu.exports===bt,bw=bv&&bq.process,bx=function(){try{return bu&&bu.require&&bu.require("util").types||bw&&bw.binding&&bw.binding("util")}catch{}}(),by=bx&&bx.isArrayBuffer,bz=bx&&bx.isDate,bA=bx&&bx.isMap,bB=bx&&bx.isRegExp,bC=bx&&bx.isSet,bD=bx&&bx.isTypedArray;function bE(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function bF(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function bG(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&& !1!==b(a[c],c,a););return a}function bH(a,b){for(var c=null==a?0:a.length;(c--)&& !1!==b(a[c],c,a););return a}function bI(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function bJ(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function bK(a,b){return!!(null==a?0:a.length)&&bU(a,b,0)> -1}function bL(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function bM(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function bN(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function bO(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function bP(a,b,c,d){var e=null==a?0:a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function bQ(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}var bR=bY("length");function bS(a,b,c){var d;return c(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function bT(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return -1}function bU(a,b,c){return b==b?cf(a,b,c):bT(a,bW,c)}function bV(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return -1}function bW(a){return a!=a}function bX(a,b){var c=null==a?0:a.length;return c?b_(a,b)/c:A}function bY(a){return function(b){return null==b?c:b[a]}}function bZ(a){return function(b){return null==a?c:a[b]}}function b$(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function b_(a,b){for(var d,e=-1,f=a.length;++e<f;){var g=b(a[e]);g!==c&&(d=d===c?g:d+g)}return d}function b0(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function b1(a){return a&&a.slice(0,ci(a)+1).replace(aw,"")}function b2(a){return function(b){return a(b)}}function b3(a,b){return bM(b,function(b){return a[b]})}function b4(a,b){return a.has(b)}function b5(a,b){for(var c=-1,d=a.length;++c<d&&bU(b,a[c],0)> -1;);return c}function b6(a,b){for(var c=a.length;(c--)&&bU(b,a[c],0)> -1;);return c}var b7=bZ({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),b8=bZ({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function b9(a){return"\\"+bn[a]}function ca(a){return bh.test(a)}function cb(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function cc(a,b){return function(c){return a(b(c))}}function cd(a,b){for(var c=-1,d=a.length,e=0,g=[];++c<d;){var h=a[c];(h===b||h===f)&&(a[c]=f,g[e++]=c)}return g}function ce(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function cf(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return -1}function cg(a){return ca(a)?ck(a):bR(a)}function ch(a){var b;return ca(a)?cl(a):(b=a).split("")}function ci(a){for(var b=a.length;b-- &&ax.test(a.charAt(b)););return b}var cj=bZ({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});function ck(a){for(var b=bf.lastIndex=0;bf.test(a);)++b;return b}function cl(a){return a.match(bf)||[]}var cm=function a(b){var ax,aO=(b=null==b?bs:cm.defaults(bs.Object(),b,cm.pick(bs,bj))).Array,aP=b.Date,aQ=b.Error,aR=b.Function,aS=b.Math,aT=b.Object,aU=b.RegExp,aV=b.String,aW=b.TypeError,aX=aO.prototype,aY=aR.prototype,aZ=aT.prototype,a$=b["__core-js_shared__"],a_=aY.toString,a0=aZ.hasOwnProperty,a1=0,a2=(ax=/[^.]+$/.exec(a$&&a$.keys&&a$.keys.IE_PROTO||""))?"Symbol(src)_1."+ax:"",a3=aZ.toString,a4=a_.call(aT),a5=bs._,a6=aU("^"+a_.call(a0).replace(au,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),a7=bv?b.Buffer:c,a8=b.Symbol,a9=b.Uint8Array,ba=a7?a7.allocUnsafe:c,bb=cc(aT.getPrototypeOf,aT),bc=aT.create,bf=aZ.propertyIsEnumerable,bh=aX.splice,bn=a8?a8.isConcatSpreadable:c,bq=a8?a8.iterator:c,br=a8?a8.toStringTag:c,bt=function(){try{var a=eW(aT,"defineProperty");return a({},"",{}),a}catch{}}(),bu=b.clearTimeout!==bs.clearTimeout&&b.clearTimeout,bw=aP&&aP.now!==bs.Date.now&&aP.now,bx=b.setTimeout!==bs.setTimeout&&b.setTimeout,bR=aS.ceil,bZ=aS.floor,cf=aT.getOwnPropertySymbols,ck=a7?a7.isBuffer:c,cl=b.isFinite,cn=aX.join,co=cc(aT.keys,aT),cp=aS.max,cq=aS.min,cr=aP.now,cs=b.parseInt,ct=aS.random,cu=aX.reverse,cv=eW(b,"DataView"),cw=eW(b,"Map"),cx=eW(b,"Promise"),cy=eW(b,"Set"),cz=eW(b,"WeakMap"),cA=eW(aT,"create"),cB=cz&&new cz,cC={},cD=ft(cv),cE=ft(cw),cF=ft(cx),cG=ft(cy),cH=ft(cz),cI=a8?a8.prototype:c,cJ=cI?cI.valueOf:c,cK=cI?cI.toString:c;function cL(a){if(gG(a)&&!gu(a)&&!(a instanceof cP)){if(a instanceof cO)return a;if(a0.call(a,"__wrapped__"))return fv(a)}return new cO(a)}var cM=function(){function a(){}return function(b){if(!gF(b))return{};if(bc)return bc(b);a.prototype=b;var d=new a;return a.prototype=c,d}}();function cN(){}function cO(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=c}function cP(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function cQ(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function cR(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function cS(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function cT(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new cS;++b<c;)this.add(a[b])}function cU(a){var b=this.__data__=new cR(a);this.size=b.size}function cV(a,b){var c=gu(a),d=!c&&gt(a),e=!c&&!d&&gy(a),f=!c&&!d&&!e&&gO(a),g=c||d||e||f,h=g?b0(a.length,aV):[],i=h.length;for(var j in a)(b||a0.call(a,j))&&!(g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||e5(j,i)))&&h.push(j);return h}function cW(a){var b=a.length;return b?a[dL(0,b-1)]:c}function cX(a,b){return fq(ei(a),c4(b,0,a.length))}function cY(a){return fq(ei(a))}function cZ(a,b,d){(d===c||gq(a[b],d))&&(d!==c||b in a)||c2(a,b,d)}function c$(a,b,d){var e=a[b];a0.call(a,b)&&gq(e,d)&&(d!==c||b in a)||c2(a,b,d)}function c_(a,b){for(var c=a.length;c--;)if(gq(a[c][0],b))return c;return -1}function c0(a,b,c,d){return c9(a,function(a,e,f){b(d,a,c(a),f)}),d}function c1(a,b){return a&&ej(b,g8(b),a)}function c2(a,b,c){"__proto__"==b&&bt?bt(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function c3(a,b){for(var d=-1,e=b.length,f=aO(e),g=null==a;++d<e;)f[d]=g?c:g3(a,b[d]);return f}function c4(a,b,d){return a==a&&(d!==c&&(a=a<=d?a:d),b!==c&&(a=a>=b?a:b)),a}function c5(a,b,d,e,f,j){var k,l=b&g,m=b&h,n=b&i;if(d&&(k=f?d(a,e,f,j):d(a)),k!==c)return k;if(!gF(a))return a;var o=gu(a);if(o){if(k=e1(a),!l)return ei(a,k)}else{var p,q,r=e$(a),s=r==L||r==M;if(gy(a))return eb(a,l);if(r==Q||r==G||s&&!f){if(k=m||s?{}:e2(a),!l)return m?el(a,(p=k,q=a,p&&ej(q,g9(q),p))):ek(a,c1(k,a))}else{if(!bm[r])return f?a:{};k=e3(a,r,l)}}j||(j=new cU);var t=j.get(a);if(t)return t;j.set(a,k),gL(a)?a.forEach(function(c){k.add(c5(c,b,d,c,a,j))}):gH(a)&&a.forEach(function(c,e){k.set(e,c5(c,b,d,e,a,j))});var u=n?m?eP:eO:m?g9:g8,v=o?c:u(a);return bG(v||a,function(c,e){v&&(c=a[e=c]),c$(k,e,c5(c,b,d,e,a,j))}),k}function c6(a,b,d){var e=d.length;if(null==a)return!e;for(a=aT(a);e--;){var f=d[e],g=b[f],h=a[f];if(h===c&&!(f in a)||!g(h))return!1}return!0}function c7(a,b,e){if("function"!=typeof a)throw new aW(d);return fm(function(){a.apply(c,e)},b)}function c8(a,b,c,d){var e=-1,f=bK,g=!0,h=a.length,i=[],j=b.length;if(!h)return i;c&&(b=bM(b,b2(c))),d?(f=bL,g=!1):b.length>=200&&(f=b4,g=!1,b=new cT(b));n:for(;++e<h;){var k=a[e],l=null==c?k:c(k);if(k=d||0!==k?k:0,g&&l==l){for(var m=j;m--;)if(b[m]===l)continue n;i.push(k)}else f(b,l,d)||i.push(k)}return i}cL.templateSettings={escape:ao,evaluate:ap,interpolate:aq,variable:"",imports:{_:cL}},cL.prototype=cN.prototype,cL.prototype.constructor=cL,cO.prototype=cM(cN.prototype),cO.prototype.constructor=cO,cP.prototype=cM(cN.prototype),cP.prototype.constructor=cP,cQ.prototype.clear=function(){this.__data__=cA?cA(null):{},this.size=0},cQ.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b},cQ.prototype.get=function(a){var b=this.__data__;if(cA){var d=b[a];return d===e?c:d}return a0.call(b,a)?b[a]:c},cQ.prototype.has=function(a){var b=this.__data__;return cA?b[a]!==c:a0.call(b,a)},cQ.prototype.set=function(a,b){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=cA&&b===c?e:b,this},cR.prototype.clear=function(){this.__data__=[],this.size=0},cR.prototype.delete=function(a){var b=this.__data__,c=c_(b,a);return!(c<0)&&(c==b.length-1?b.pop():bh.call(b,c,1),--this.size,!0)},cR.prototype.get=function(a){var b=this.__data__,d=c_(b,a);return d<0?c:b[d][1]},cR.prototype.has=function(a){return c_(this.__data__,a)> -1},cR.prototype.set=function(a,b){var c=this.__data__,d=c_(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this},cS.prototype.clear=function(){this.size=0,this.__data__={hash:new cQ,map:new(cw||cR),string:new cQ}},cS.prototype.delete=function(a){var b=eU(this,a).delete(a);return this.size-=b?1:0,b},cS.prototype.get=function(a){return eU(this,a).get(a)},cS.prototype.has=function(a){return eU(this,a).has(a)},cS.prototype.set=function(a,b){var c=eU(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this},cT.prototype.add=cT.prototype.push=function(a){return this.__data__.set(a,e),this},cT.prototype.has=function(a){return this.__data__.has(a)},cU.prototype.clear=function(){this.__data__=new cR,this.size=0},cU.prototype.delete=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c},cU.prototype.get=function(a){return this.__data__.get(a)},cU.prototype.has=function(a){return this.__data__.has(a)},cU.prototype.set=function(a,b){var c=this.__data__;if(c instanceof cR){var d=c.__data__;if(!cw||d.length<199)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new cS(d)}return c.set(a,b),this.size=c.size,this};var c9=eo(dh),da=eo(di,!0);function db(a,b){var c=!0;return c9(a,function(a,d,e){return c=!!b(a,d,e)}),c}function dc(a,b,d){for(var e=-1,f=a.length;++e<f;){var g=a[e],h=b(g);if(null!=h&&(i===c?h==h&&!gN(h):d(h,i)))var i=h,j=g}return j}function dd(a,b){var c=[];return c9(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function de(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=e4),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?de(h,b-1,c,d,e):bN(e,h):d||(e[e.length]=h)}return e}var df=ep(),dg=ep(!0);function dh(a,b){return a&&df(a,b,g8)}function di(a,b){return a&&dg(a,b,g8)}function dj(a,b){return bJ(b,function(b){return gC(a[b])})}function dk(a,b){b=d8(b,a);for(var d=0,e=b.length;null!=a&&d<e;)a=a[fs(b[d++])];return d&&d==e?a:c}function dl(a,b,c){var d=b(a);return gu(a)?d:bN(d,c(a))}function dm(a){return null==a?a===c?W:P:br&&br in aT(a)?eX(a):fg(a)}function dn(a,b){return a>b}function dp(a,b){return null!=a&&a0.call(a,b)}function dq(a,b){return null!=a&&b in aT(a)}function dr(a,b,d){for(var e=d?bL:bK,f=a[0].length,g=a.length,h=g,i=aO(g),j=1/0,k=[];h--;){var l=a[h];h&&b&&(l=bM(l,b2(b))),j=cq(l.length,j),i[h]=!d&&(b||f>=120&&l.length>=120)?new cT(h&&l):c}l=a[0];var m=-1,n=i[0];n:for(;++m<f&&k.length<j;){var o=l[m],p=b?b(o):o;if(o=d||0!==o?o:0,!(n?b4(n,p):e(k,p,d))){for(h=g;--h;){var q=i[h];if(!(q?b4(q,p):e(a[h],p,d)))continue n}n&&n.push(p),k.push(o)}}return k}function ds(a,b,d){b=d8(b,a);var e=null==(a=fi(a,b))?a:a[fs(fG(b))];return null==e?c:bE(e,a,d)}function dt(a){return gG(a)&&dm(a)==G}function du(a,b,c,d,e){return a===b||(null!=a&&null!=b&&(gG(a)||gG(b))?dv(a,b,c,d,du,e):a!=a&&b!=b)}function dv(a,b,c,d,e,f){var g=gu(a),h=gu(b),i=g?H:e$(a),k=h?H:e$(b);i=i==G?Q:i,k=k==G?Q:k;var l=i==Q,m=k==Q,n=i==k;if(n&&gy(a)){if(!gy(b))return!1;g=!0,l=!1}if(n&&!l)return f||(f=new cU),g||gO(a)?eK(a,b,c,d,e,f):eL(a,b,i,c,d,e,f);if(!(c&j)){var o=l&&a0.call(a,"__wrapped__"),p=m&&a0.call(b,"__wrapped__");if(o||p){var q=o?a.value():a,r=p?b.value():b;return f||(f=new cU),e(q,r,c,d,f)}}return!!n&&(f||(f=new cU),eM(a,b,c,d,e,f))}function dw(a,b,d,e){var f=d.length,g=f,h=!e;if(null==a)return!g;for(a=aT(a);f--;){var i=d[f];if(h&&i[2]?i[1]!==a[i[0]]:!(i[0]in a))return!1}for(;++f<g;){var l=(i=d[f])[0],m=a[l],n=i[1];if(h&&i[2]){if(m===c&&!(l in a))return!1}else{var o=new cU;if(e)var p=e(m,n,l,a,b,o);if(!(p===c?du(n,m,j|k,e,o):p))return!1}}return!0}function dx(a){return!(!gF(a)||fa(a))&&(gC(a)?a6:aI).test(ft(a))}function dy(a){return"function"==typeof a?a:null==a?hy:"object"==typeof a?gu(a)?dD(a[0],a[1]):dC(a):hH(a)}function dz(a){if(!fc(a))return co(a);var b=[];for(var c in aT(a))a0.call(a,c)&&"constructor"!=c&&b.push(c);return b}function dA(a,b){return a<b}function dB(a,b){var c=-1,d=gw(a)?aO(a.length):[];return c9(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function dC(a){var b=eV(a);return 1==b.length&&b[0][2]?fe(b[0][0],b[0][1]):function(c){return c===a||dw(c,a,b)}}function dD(a,b){return e7(a)&&fd(b)?fe(fs(a),b):function(d){var e=g3(d,a);return e===c&&e===b?g4(d,a):du(b,e,j|k)}}function dE(a,b,d,e,f){a!==b&&df(b,function(g,h){if(f||(f=new cU),gF(g))dF(a,b,h,d,dE,e,f);else{var i=e?e(fk(a,h),g,h+"",a,b,f):c;i===c&&(i=g),cZ(a,h,i)}},g9)}function dF(a,b,d,e,f,g,h){var i=fk(a,d),j=fk(b,d),k=h.get(j);if(k){cZ(a,d,k);return}var l=g?g(i,j,d+"",a,b,h):c,m=l===c;if(m){var n=gu(j),o=!n&&gy(j),p=!n&&!o&&gO(j);l=j,n||o||p?gu(i)?l=i:gx(i)?l=ei(i):o?(m=!1,l=eb(j,!0)):p?(m=!1,l=ed(j,!0)):l=[]:gJ(j)||gt(j)?(l=i,gt(i)?l=gW(i):(!gF(i)||gC(i))&&(l=e2(j))):m=!1}m&&(h.set(j,l),f(l,j,e,g,h),h.delete(j)),cZ(a,d,l)}function dG(a,b){var d=a.length;if(d)return e5(b+=b<0?d:0,d)?a[b]:c}function dH(a,b,c){b=b.length?bM(b,function(a){return gu(a)?function(b){return dk(b,1===a.length?a[0]:a)}:a}):[hy];var d=-1;return b=bM(b,b2(eT())),function(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}(dB(a,function(a,c,e){return{criteria:bM(b,function(b){return b(a)}),index:++d,value:a}}),function(a,b){return ef(a,b,c)})}function dI(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var g=b[d],h=dk(a,g);c(h,g)&&dQ(f,d8(g,a),h)}return f}function dJ(a,b,c,d){var e=d?bV:bU,f=-1,g=b.length,h=a;for(a===b&&(b=ei(b)),c&&(h=bM(a,b2(c)));++f<g;)for(var i=0,j=b[f],k=c?c(j):j;(i=e(h,k,i,d))> -1;)h!==a&&bh.call(h,i,1),bh.call(a,i,1);return a}function dK(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(c==d||e!==f){var f=e;e5(e)?bh.call(a,e,1):d0(a,e)}}return a}function dL(a,b){return a+bZ(ct()*(b-a+1))}function dM(a,b){var c="";if(!a||b<1||b>z)return c;do b%2&&(c+=a),(b=bZ(b/2))&&(a+=a);while(b);return c}function dN(a,b){return fn(fh(a,b,hy),a+"")}function dO(a){return cW(hh(a))}function dP(a,b){var c=hh(a);return fq(c,c4(b,0,c.length))}function dQ(a,b,d,e){if(!gF(a))return a;b=d8(b,a);for(var f=-1,g=b.length,h=g-1,i=a;null!=i&& ++f<g;){var j=fs(b[f]),k=d;if("__proto__"===j||"constructor"===j||"prototype"===j)break;if(f!=h){var l=i[j];(k=e?e(l,j,i):c)===c&&(k=gF(l)?l:e5(b[f+1])?[]:{})}c$(i,j,k),i=i[j]}return a}var dR=cB?function(a,b){return cB.set(a,b),a}:hy,dS=bt?function(a,b){return bt(a,"toString",{configurable:!0,enumerable:!1,value:hv(b),writable:!0})}:hy;function dT(a){return fq(hh(a))}function dU(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),(c=c>e?e:c)<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=aO(e);++d<e;)f[d]=a[d+b];return f}function dV(a,b){var c;return c9(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}function dW(a,b,c){var d=0,e=null==a?d:a.length;if("number"==typeof b&&b==b&&e<=D){for(;d<e;){var f=d+e>>>1,g=a[f];null!==g&&!gN(g)&&(c?g<=b:g<b)?d=f+1:e=f}return e}return dX(a,b,hy,c)}function dX(a,b,d,e){var f=0,g=null==a?0:a.length;if(0===g)return 0;b=d(b);for(var h=b!=b,i=null===b,j=gN(b),k=b===c;f<g;){var l=bZ((f+g)/2),m=d(a[l]),n=m!==c,o=null===m,p=m==m,q=gN(m);if(h)var r=e||p;else r=k?p&&(e||n):i?p&&n&&(e||!o):j?p&&n&&!o&&(e||!q):!o&&!q&&(e?m<=b:m<b);r?f=l+1:g=l}return cq(g,C)}function dY(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c],h=b?b(g):g;if(!c||!gq(h,i)){var i=h;f[e++]=0===g?0:g}}return f}function dZ(a){return"number"==typeof a?a:gN(a)?A:+a}function d$(a){if("string"==typeof a)return a;if(gu(a))return bM(a,d$)+"";if(gN(a))return cK?cK.call(a):"";var b=a+"";return"0"==b&&1/a== -y?"-0":b}function d_(a,b,c){var d=-1,e=bK,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=bL;else if(f>=200){var j=b?null:eE(a);if(j)return ce(j);g=!1,e=b4,i=new cT}else i=b?[]:h;n:for(;++d<f;){var k=a[d],l=b?b(k):k;if(k=c||0!==k?k:0,g&&l==l){for(var m=i.length;m--;)if(i[m]===l)continue n;b&&i.push(l),h.push(k)}else e(i,l,c)||(i!==h&&i.push(l),h.push(k))}return h}function d0(a,b){return b=d8(b,a),null==(a=fi(a,b))||delete a[fs(fG(b))]}function d1(a,b,c,d){return dQ(a,b,c(dk(a,b)),d)}function d2(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?dU(a,d?0:f,d?f+1:e):dU(a,d?f+1:0,d?e:f)}function d3(a,b){var c=a;return c instanceof cP&&(c=c.value()),bO(b,function(a,b){return b.func.apply(b.thisArg,bN([a],b.args))},c)}function d4(a,b,c){var d=a.length;if(d<2)return d?d_(a[0]):[];for(var e=-1,f=aO(d);++e<d;)for(var g=a[e],h=-1;++h<d;)h!=e&&(f[e]=c8(f[e]||g,a[h],b,c));return d_(de(f,1),b,c)}function d5(a,b,d){for(var e=-1,f=a.length,g=b.length,h={};++e<f;){var i=e<g?b[e]:c;d(h,a[e],i)}return h}function d6(a){return gx(a)?a:[]}function d7(a){return"function"==typeof a?a:hy}function d8(a,b){return gu(a)?a:e7(a,b)?[a]:fr(gX(a))}function d9(a,b,d){var e=a.length;return d=d===c?e:d,!b&&d>=e?a:dU(a,b,d)}var ea=bu||function(a){return bs.clearTimeout(a)};function eb(a,b){if(b)return a.slice();var c=a.length,d=ba?ba(c):new a.constructor(c);return a.copy(d),d}function ec(a){var b=new a.constructor(a.byteLength);return new a9(b).set(new a9(a)),b}function ed(a,b){var c=b?ec(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function ee(a,b){if(a!==b){var d=a!==c,e=null===a,f=a==a,g=gN(a),h=b!==c,i=null===b,j=b==b,k=gN(b);if(!i&&!k&&!g&&a>b||g&&h&&j&&!i&&!k||e&&h&&j|| !d&&j||!f)return 1;if(!e&&!g&&!k&&a<b||k&&d&&f&&!e&&!g||i&&d&&f|| !h&&f||!j)return -1}return 0}function ef(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=ee(e[d],f[d]);if(i){if(d>=h)return i;return i*("desc"==c[d]?-1:1)}}return a.index-b.index}function eg(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=cp(f-g,0),k=aO(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||e<f)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function eh(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=cp(f-h,0),l=aO(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||e<f)&&(l[n+c[g]]=a[e++]);return l}function ei(a,b){var c=-1,d=a.length;for(b||(b=aO(d));++c<d;)b[c]=a[c];return b}function ej(a,b,d,e){var f=!d;d||(d={});for(var g=-1,h=b.length;++g<h;){var i=b[g],j=e?e(d[i],a[i],i,d,a):c;j===c&&(j=a[i]),f?c2(d,i,j):c$(d,i,j)}return d}function ek(a,b){return ej(a,eY(a),b)}function el(a,b){return ej(a,eZ(a),b)}function em(a,b){return function(c,d){var e=gu(c)?bF:c0,f=b?b():{};return e(c,a,eT(d,2),f)}}function en(a){return dN(function(b,d){var e=-1,f=d.length,g=f>1?d[f-1]:c,h=f>2?d[2]:c;for(g=a.length>3&&"function"==typeof g?(f--,g):c,h&&e6(d[0],d[1],h)&&(g=f<3?c:g,f=1),b=aT(b);++e<f;){var i=d[e];i&&a(b,i,e,g)}return b})}function eo(a,b){return function(c,d){if(null==c)return c;if(!gw(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=aT(c);(b?f--:++f<e)&& !1!==d(g[f],f,g););return c}}function ep(a){return function(b,c,d){for(var e=-1,f=aT(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}function eq(a){return function(b){b=gX(b);var d=ca(b)?ch(b):c,e=d?d[0]:b.charAt(0),f=d?d9(d,1).join(""):b.slice(1);return e[a]()+f}}function er(a){return function(b){return bO(hs(hk(b).replace(bd,"")),a,"")}}function es(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=cM(a.prototype),d=a.apply(c,b);return gF(d)?d:c}}function et(a){return function(b,d,e){var f=aT(b);if(!gw(b)){var g=eT(d,3);b=g8(b),d=function(a){return g(f[a],a,f)}}var h=a(b,d,e);return h> -1?f[g?b[h]:h]:c}}function eu(a){return eN(function(b){var e=b.length,f=e,g=cO.prototype.thru;for(a&&b.reverse();f--;){var h=b[f];if("function"!=typeof h)throw new aW(d);if(g&&!i&&"wrapper"==eR(h))var i=new cO([],!0)}for(f=i?f:e;++f<e;){var j=eR(h=b[f]),k="wrapper"==j?eQ(h):c;i=k&&e9(k[0])&&k[1]==(s|o|q|t)&&!k[4].length&&1==k[9]?i[eR(k[0])].apply(i,k[3]):1==h.length&&e9(h)?i[j]():i.thru(h)}return function(){var a=arguments,c=a[0];if(i&&1==a.length&&gu(c))return i.plant(c).value();for(var d=0,f=e?b[d].apply(this,a):c;++d<e;)f=b[d].call(this,f);return f}})}function ev(a,b,d,e,f,g,h,i,j,k){var n=b&s,q=b&l,r=b&m,t=b&(o|p),v=b&u,w=r?c:es(a);function x(){for(var c=arguments.length,l=aO(c),m=c;m--;)l[m]=arguments[m];if(t)var o=eS(x),p=function a(b,c){for(var d=b.length,e=0;d--;)b[d]===c&& ++e;return e}(l,o);if(e&&(l=eg(l,e,f,t)),g&&(l=eh(l,g,h,t)),c-=p,t&&c<k){var s=cd(l,o);return eC(a,b,ev,x.placeholder,d,l,s,i,j,k-c)}var u=q?d:this,y=r?u[a]:a;return c=l.length,i?l=fj(l,i):v&&c>1&&l.reverse(),n&&j<c&&(l.length=j),this&&this!==bs&&this instanceof x&&(y=w||es(y)),y.apply(u,l)}return x}function ew(a,b){return function(c,d){var e,f,g,h;return e=c,f=a,g=b(d),h={},dh(e,function(a,b,c){f(h,g(a),b,c)}),h}}function ex(a,b){return function(d,e){var f;if(d===c&&e===c)return b;if(d!==c&&(f=d),e!==c){if(f===c)return e;"string"==typeof d||"string"==typeof e?(d=d$(d),e=d$(e)):(d=dZ(d),e=dZ(e)),f=a(d,e)}return f}}function ey(a){return eN(function(b){return b=bM(b,b2(eT())),dN(function(c){var d=this;return a(b,function(a){return bE(a,d,c)})})})}function ez(a,b){var d=(b=b===c?" ":d$(b)).length;if(d<2)return d?dM(b,a):b;var e=dM(b,bR(a/cg(b)));return ca(b)?d9(ch(e),0,a).join(""):e.slice(0,a)}function eA(a){return function(b,d,e){return e&&"number"!=typeof e&&e6(b,d,e)&&(d=e=c),b=gS(b),d===c?(d=b,b=0):d=gS(d),e=e===c?b<d?1:-1:gS(e),function(a,b,c,d){for(var e=-1,f=cp(bR((b-a)/(c||1)),0),g=aO(f);f--;)g[d?f:++e]=a,a+=c;return g}(b,d,e,a)}}function eB(a){return function(b,c){return"string"==typeof b&&"string"==typeof c||(b=gV(b),c=gV(c)),a(b,c)}}function eC(a,b,d,e,f,g,h,i,j,k){var p=b&o,s=p?h:c,t=p?c:h,u=p?g:c,v=p?c:g;b|=p?q:r,(b&=~(p?r:q))&n||(b&=~(l|m));var w=[a,b,f,u,s,v,t,i,j,k],x=d.apply(c,w);return e9(a)&&fl(x,w),x.placeholder=e,fo(x,a,b)}function eD(a){var b=aS[a];return function(a,c){if(a=gV(a),(c=null==c?0:cq(gT(c),292))&&cl(a)){var d=(gX(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));return+((d=(gX(e)+"e").split("e"))[0]+"e"+(+d[1]-c))}return b(a)}}var eE=cy&&1/ce(new cy([,-0]))[1]==y?function(a){return new cy(a)}:hD;function eF(a){return function(b){var c,d,e,f,g,h=e$(b);return h==N?cb(b):h==T?(d=-1,e=Array((c=b).size),c.forEach(function(a){e[++d]=[a,a]}),e):(f=b,g=a(b),bM(g,function(a){return[a,f[a]]}))}}function eG(a,b,e,f,g,h,i,j){var k=b&m;if(!k&&"function"!=typeof a)throw new aW(d);var n=f?f.length:0;if(n||(b&=~(q|r),f=g=c),i=i===c?i:cp(gT(i),0),j=j===c?j:gT(j),n-=g?g.length:0,b&r){var s=f,t=g;f=g=c}var u=k?c:eQ(a),v=[a,b,e,f,g,s,t,h,i,j];if(u&&ff(v,u),a=v[0],b=v[1],e=v[2],f=v[3],g=v[4],j=v[9]=v[9]===c?k?0:a.length:cp(v[9]-n,0),!j&&b&(o|p)&&(b&=~(o|p)),b&&b!=l)w=b==o||b==p?function(a,b,d){var e=es(a);function f(){for(var g=arguments.length,h=aO(g),i=g,j=eS(f);i--;)h[i]=arguments[i];var k=g<3&&h[0]!==j&&h[g-1]!==j?[]:cd(h,j);if((g-=k.length)<d)return eC(a,b,ev,f.placeholder,c,h,k,c,c,d-g);var l=this&&this!==bs&&this instanceof f?e:a;return bE(l,this,h)}return f}(a,b,j):b!=q&&b!=(l|q)||g.length?ev.apply(c,v):function(a,b,c,d){var e=b&l,f=es(a);function g(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=aO(j+h),l=this&&this!==bs&&this instanceof g?f:a;++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];return bE(l,e?c:this,k)}return g}(a,b,e,f);else var w=function(a,b,c){var d=b&l,e=es(a);function f(){return(this&&this!==bs&&this instanceof f?e:a).apply(d?c:this,arguments)}return f}(a,b,e);var x=u?dR:fl;return fo(x(w,v),a,b)}function eH(a,b,d,e){return a===c||gq(a,aZ[d])&&!a0.call(e,d)?b:a}function eI(a,b,d,e,f,g){return gF(a)&&gF(b)&&(g.set(b,a),dE(a,b,c,eI,g),g.delete(b)),a}function eJ(a){return gJ(a)?c:a}function eK(a,b,d,e,f,g){var h=d&j,i=a.length,l=b.length;if(i!=l&&!(h&&l>i))return!1;var m=g.get(a),n=g.get(b);if(m&&n)return m==b&&n==a;var o=-1,p=!0,q=d&k?new cT:c;for(g.set(a,b),g.set(b,a);++o<i;){var r=a[o],s=b[o];if(e)var t=h?e(s,r,o,b,a,g):e(r,s,o,a,b,g);if(t!==c){if(t)continue;p=!1;break}if(q){if(!bQ(b,function(a,b){if(!b4(q,b)&&(r===a||f(r,a,d,e,g)))return q.push(b)})){p=!1;break}}else if(!(r===s||f(r,s,d,e,g))){p=!1;break}}return g.delete(a),g.delete(b),p}function eL(a,b,c,d,e,f,g){switch(c){case Z:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer,b=b.buffer;case Y:return!(a.byteLength!=b.byteLength||!f(new a9(a),new a9(b)));case I:case J:case O:return gq(+a,+b);case K:return a.name==b.name&&a.message==b.message;case S:case U:return a==b+"";case N:var h=cb;case T:var i=d&j;if(h||(h=ce),a.size!=b.size&&!i)break;var l=g.get(a);if(l)return l==b;d|=k,g.set(a,b);var m=eK(h(a),h(b),d,e,f,g);return g.delete(a),m;case V:if(cJ)return cJ.call(a)==cJ.call(b)}return!1}function eM(a,b,d,e,f,g){var h=d&j,i=eO(a),k=i.length,l=eO(b).length;if(k!=l&&!h)return!1;for(var m=k;m--;){var n=i[m];if(!(h?n in b:a0.call(b,n)))return!1}var o=g.get(a),p=g.get(b);if(o&&p)return o==b&&p==a;var q=!0;g.set(a,b),g.set(b,a);for(var r=h;++m<k;){var s=a[n=i[m]],t=b[n];if(e)var u=h?e(t,s,n,b,a,g):e(s,t,n,a,b,g);if(!(u===c?s===t||f(s,t,d,e,g):u)){q=!1;break}r||(r="constructor"==n)}if(q&&!r){var v=a.constructor,w=b.constructor;v!=w&&"constructor"in a&&"constructor"in b&&!("function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w)&&(q=!1)}return g.delete(a),g.delete(b),q}function eN(a){return fn(fh(a,c,fB),a+"")}function eO(a){return dl(a,g8,eY)}function eP(a){return dl(a,g9,eZ)}var eQ=cB?function(a){return cB.get(a)}:hD;function eR(a){for(var b=a.name+"",c=cC[b],d=a0.call(cC,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function eS(a){return(a0.call(cL,"placeholder")?cL:a).placeholder}function eT(){var a=cL.iteratee||hz;return a=a===hz?dy:a,arguments.length?a(arguments[0],arguments[1]):a}function eU(a,b){var c=a.__data__;return e8(b)?c["string"==typeof b?"string":"hash"]:c.map}function eV(a){for(var b=g8(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,fd(e)]}return b}function eW(a,b){var d,e,f=(d=a,e=b,null==d?c:d[e]);return dx(f)?f:c}function eX(a){var b=a0.call(a,br),d=a[br];try{a[br]=c;var e=!0}catch{}var f=a3.call(a);return e&&(b?a[br]=d:delete a[br]),f}var eY=cf?function(a){return null==a?[]:(a=aT(a),bJ(cf(a),function(b){return bf.call(a,b)}))}:hK,eZ=cf?function(a){for(var b=[];a;)bN(b,eY(a)),a=bb(a);return b}:hK,e$=dm;function e_(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=cq(b,a+g);break;case"takeRight":a=cp(a,b-g)}}return{start:a,end:b}}function e0(a,b,c){b=d8(b,a);for(var d=-1,e=b.length,f=!1;++d<e;){var g=fs(b[d]);if(!(f=null!=a&&c(a,g)))break;a=a[g]}return f|| ++d!=e?f:!!(e=null==a?0:a.length)&&gE(e)&&e5(g,e)&&(gu(a)||gt(a))}function e1(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&a0.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function e2(a){return"function"!=typeof a.constructor||fc(a)?{}:cM(bb(a))}function e3(a,b,c){var d,e,f,g,h,i,j=a.constructor;switch(b){case Y:return ec(a);case I:case J:return new j(+a);case Z:return d=a,f=(e=c)?ec(d.buffer):d.buffer,new d.constructor(f,d.byteOffset,d.byteLength);case $:case _:case aa:case ab:case ac:case ad:case ae:case af:case ag:return ed(a,c);case N:return new j;case O:case U:return new j(a);case S:return(h=new(g=a).constructor(g.source,aF.exec(g))).lastIndex=g.lastIndex,h;case T:return new j;case V:return i=a,cJ?aT(cJ.call(i)):{}}}function e4(a){return gu(a)||gt(a)||!!(bn&&a&&a[bn])}function e5(a,b){var c=typeof a;return!!(b=b??z)&&("number"==c||"symbol"!=c&&aK.test(a))&&a> -1&&a%1==0&&a<b}function e6(a,b,c){if(!gF(c))return!1;var d=typeof b;return("number"==d?!!(gw(c)&&e5(b,c.length)):"string"==d&&b in c)&&gq(c[b],a)}function e7(a,b){if(gu(a))return!1;var c=typeof a;return!!("number"==c||"symbol"==c||"boolean"==c||null==a||gN(a))||as.test(a)||!ar.test(a)||null!=b&&a in aT(b)}function e8(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function e9(a){var b=eR(a),c=cL[b];if("function"!=typeof c||!(b in cP.prototype))return!1;if(a===c)return!0;var d=eQ(c);return!!d&&a===d[0]}function fa(a){return!!a2&&a2 in a}(cv&&e$(new cv(new ArrayBuffer(1)))!=Z||cw&&e$(new cw)!=N||cx&&e$(cx.resolve())!=R||cy&&e$(new cy)!=T||cz&&e$(new cz)!=X)&&(e$=function(a){var b=dm(a),d=b==Q?a.constructor:c,e=d?ft(d):"";if(e)switch(e){case cD:return Z;case cE:return N;case cF:return R;case cG:return T;case cH:return X}return b});var fb=a$?gC:hL;function fc(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||aZ;return a===c}function fd(a){return a==a&&!gF(a)}function fe(a,b){return function(d){return null!=d&&d[a]===b&&(b!==c||a in aT(d))}}function ff(a,b){var c=a[1],d=b[1],e=c|d,g=e<(l|m|s),h=d==s&&c==o||d==s&&c==t&&a[7].length<=b[8]||d==(s|t)&&b[7].length<=b[8]&&c==o;if(!(g||h))return a;d&l&&(a[2]=b[2],e|=c&l?0:n);var i=b[3];if(i){var j=a[3];a[3]=j?eg(j,i,b[4]):i,a[4]=j?cd(a[3],f):b[4]}return(i=b[5])&&(j=a[5],a[5]=j?eh(j,i,b[6]):i,a[6]=j?cd(a[5],f):b[6]),(i=b[7])&&(a[7]=i),d&s&&(a[8]=null==a[8]?b[8]:cq(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function fg(a){return a3.call(a)}function fh(a,b,d){return b=cp(b===c?a.length-1:b,0),function(){for(var c=arguments,e=-1,f=cp(c.length-b,0),g=aO(f);++e<f;)g[e]=c[b+e];e=-1;for(var h=aO(b+1);++e<b;)h[e]=c[e];return h[b]=d(g),bE(a,this,h)}}function fi(a,b){return b.length<2?a:dk(a,dU(b,0,-1))}function fj(a,b){for(var d=a.length,e=cq(b.length,d),f=ei(a);e--;){var g=b[e];a[e]=e5(g,d)?f[g]:c}return a}function fk(a,b){if(!("constructor"===b&&"function"==typeof a[b])&&"__proto__"!=b)return a[b]}var fl=fp(dR),fm=bx||function(a,b){return bs.setTimeout(a,b)},fn=fp(dS);function fo(a,b,c){var d,e,f=b+"";return fn(a,function(a,b){var c=b.length;if(!c)return a;var d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(ay,`{
/* [wrapped with `+b+`] */
`)}(f,fu((e=(d=f).match(az))?e[1].split(aA):[],c)))}function fp(a){var b=0,d=0;return function(){var e=cr(),f=x-(e-d);if(d=e,f>0){if(++b>=800)return arguments[0]}else b=0;return a.apply(c,arguments)}}function fq(a,b){var d=-1,e=a.length,f=e-1;for(b=b===c?e:b;++d<b;){var g=dL(d,f),h=a[g];a[g]=a[d],a[d]=h}return a.length=b,a}var fr=function(a){var b=gk(a,function(a){return 500===c.size&&c.clear(),a}),c=b.cache;return b}(function(a){var b=[];return 46===a.charCodeAt(0)&&b.push(""),a.replace(at,function(a,c,d,e){b.push(d?e.replace(aD,"$1"):c||a)}),b});function fs(a){if("string"==typeof a||gN(a))return a;var b=a+"";return"0"==b&&1/a== -y?"-0":b}function ft(a){if(null!=a){try{return a_.call(a)}catch{}try{return a+""}catch{}}return""}function fu(a,b){return bG(F,function(c){var d="_."+c[0];b&c[1]&&!bK(a,d)&&a.push(d)}),a.sort()}function fv(a){if(a instanceof cP)return a.clone();var b=new cO(a.__wrapped__,a.__chain__);return b.__actions__=ei(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}var fw=dN(function(a,b){return gx(a)?c8(a,de(b,1,gx,!0)):[]}),fx=dN(function(a,b){var d=fG(b);return gx(d)&&(d=c),gx(a)?c8(a,de(b,1,gx,!0),eT(d,2)):[]}),fy=dN(function(a,b){var d=fG(b);return gx(d)&&(d=c),gx(a)?c8(a,de(b,1,gx,!0),c,d):[]});function fz(a,b,c){var d=null==a?0:a.length;if(!d)return -1;var e=null==c?0:gT(c);return e<0&&(e=cp(d+e,0)),bT(a,eT(b,3),e)}function fA(a,b,d){var e=null==a?0:a.length;if(!e)return -1;var f=e-1;return d!==c&&(f=gT(d),f=d<0?cp(e+f,0):cq(f,e-1)),bT(a,eT(b,3),f,!0)}function fB(a){return(null==a?0:a.length)?de(a,1):[]}function fC(a){return a&&a.length?a[0]:c}var fD=dN(function(a){var b=bM(a,d6);return b.length&&b[0]===a[0]?dr(b):[]}),fE=dN(function(a){var b=fG(a),d=bM(a,d6);return b===fG(d)?b=c:d.pop(),d.length&&d[0]===a[0]?dr(d,eT(b,2)):[]}),fF=dN(function(a){var b=fG(a),d=bM(a,d6);return(b="function"==typeof b?b:c)&&d.pop(),d.length&&d[0]===a[0]?dr(d,c,b):[]});function fG(a){var b=null==a?0:a.length;return b?a[b-1]:c}var fH=dN(fI);function fI(a,b){return a&&a.length&&b&&b.length?dJ(a,b):a}var fJ=eN(function(a,b){var c=null==a?0:a.length,d=c3(a,b);return dK(a,bM(b,function(a){return e5(a,c)?+a:a}).sort(ee)),d});function fK(a){return null==a?a:cu.call(a)}function fL(a,b){return dW(a,b)}var fM=dN(function(a){return d_(de(a,1,gx,!0))}),fN=dN(function(a){var b=fG(a);return gx(b)&&(b=c),d_(de(a,1,gx,!0),eT(b,2))}),fO=dN(function(a){var b=fG(a);return b="function"==typeof b?b:c,d_(de(a,1,gx,!0),c,b)});function fP(a){if(!(a&&a.length))return[];var b=0;return a=bJ(a,function(a){if(gx(a))return b=cp(a.length,b),!0}),b0(b,function(b){return bM(a,bY(b))})}function fQ(a,b){if(!(a&&a.length))return[];var d=fP(a);return null==b?d:bM(d,function(a){return bE(b,c,a)})}var fR=dN(function(a,b){return gx(a)?c8(a,b):[]}),fS=dN(function(a){return d4(bJ(a,gx))}),fT=dN(function(a){var b=fG(a);return gx(b)&&(b=c),d4(bJ(a,gx),eT(b,2))}),fU=dN(function(a){var b=fG(a);return b="function"==typeof b?b:c,d4(bJ(a,gx),c,b)}),fV=dN(fP),fW=dN(function(a){var b=a.length,d=b>1?a[b-1]:c;return d="function"==typeof d?(a.pop(),d):c,fQ(a,d)});function fX(a){var b=cL(a);return b.__chain__=!0,b}function fY(a,b){return b(a),a}function fZ(a,b){return b(a)}var f$=eN(function(a){var b=a.length,d=b?a[0]:0,e=this.__wrapped__,f=function(b){return c3(b,a)};return!(b>1)&&!this.__actions__.length&&e instanceof cP&&e5(d)?((e=e.slice(d,+d+(b?1:0))).__actions__.push({func:fZ,args:[f],thisArg:c}),new cO(e,this.__chain__).thru(function(a){return b&&!a.length&&a.push(c),a})):this.thru(f)}),f_=em(function(a,b,c){a0.call(a,c)?++a[c]:c2(a,c,1)}),f0=et(fz),f1=et(fA);function f2(a,b){return(gu(a)?bG:c9)(a,eT(b,3))}function f3(a,b){return(gu(a)?bH:da)(a,eT(b,3))}var f4=em(function(a,b,c){a0.call(a,c)?a[c].push(b):c2(a,c,[b])}),f5=dN(function(a,b,c){var d=-1,e="function"==typeof b,f=gw(a)?aO(a.length):[];return c9(a,function(a){f[++d]=e?bE(b,a,c):ds(a,b,c)}),f}),f6=em(function(a,b,c){c2(a,c,b)});function f7(a,b){return(gu(a)?bM:dB)(a,eT(b,3))}var f8=em(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),f9=dN(function(a,b){if(null==a)return[];var c=b.length;return c>1&&e6(a,b[0],b[1])?b=[]:c>2&&e6(b[0],b[1],b[2])&&(b=[b[0]]),dH(a,de(b,1),[])}),ga=bw||function(){return bs.Date.now()};function gb(a,b,d){return b=d?c:b,b=a&&null==b?a.length:b,eG(a,s,c,c,c,c,b)}function gc(a,b){var e;if("function"!=typeof b)throw new aW(d);return a=gT(a),function(){return--a>0&&(e=b.apply(this,arguments)),a<=1&&(b=c),e}}var gd=dN(function(a,b,c){var d=l;if(c.length){var e=cd(c,eS(gd));d|=q}return eG(a,d,b,c,e)}),ge=dN(function(a,b,c){var d=l|m;if(c.length){var e=cd(c,eS(ge));d|=q}return eG(b,d,a,c,e)});function gf(a,b,d){b=d?c:b;var e=eG(a,o,c,c,c,c,c,b);return e.placeholder=gf.placeholder,e}function gg(a,b,d){b=d?c:b;var e=eG(a,p,c,c,c,c,c,b);return e.placeholder=gg.placeholder,e}function gh(a,b,e){var f,g,h,i,j,k,l=0,m=!1,n=!1,o=!0;if("function"!=typeof a)throw new aW(d);function p(b){var d=f,e=g;return f=g=c,l=b,i=a.apply(e,d)}function q(a){var d=a-k,e=a-l;return k===c||d>=b||d<0||n&&e>=h}function r(){var a,c,d,e,f=ga();if(q(f))return s(f);j=fm(r,(c=(a=f)-k,d=a-l,e=b-c,n?cq(e,h-d):e))}function s(a){return j=c,o&&f?p(a):(f=g=c,i)}function t(){var a,d=ga(),e=q(d);if(f=arguments,g=this,k=d,e){if(j===c)return l=a=k,j=fm(r,b),m?p(a):i;if(n)return ea(j),j=fm(r,b),p(k)}return j===c&&(j=fm(r,b)),i}return b=gV(b)||0,gF(e)&&(m=!!e.leading,n="maxWait"in e,h=n?cp(gV(e.maxWait)||0,b):h,o="trailing"in e?!!e.trailing:o),t.cancel=function(){j!==c&&ea(j),l=0,f=k=g=j=c},t.flush=function(){return j===c?i:s(ga())},t}var gi=dN(function(a,b){return c7(a,1,b)}),gj=dN(function(a,b,c){return c7(a,gV(b)||0,c)});function gk(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new aW(d);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(gk.Cache||cS),c}function gl(a){if("function"!=typeof a)throw new aW(d);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}gk.Cache=cS;var gm=dN(function(a,b){var c=(b=1==b.length&&gu(b[0])?bM(b[0],b2(eT())):bM(de(b,1),b2(eT()))).length;return dN(function(d){for(var e=-1,f=cq(d.length,c);++e<f;)d[e]=b[e].call(this,d[e]);return bE(a,this,d)})}),gn=dN(function(a,b){var d=cd(b,eS(gn));return eG(a,q,c,b,d)}),go=dN(function(a,b){var d=cd(b,eS(go));return eG(a,r,c,b,d)}),gp=eN(function(a,b){return eG(a,t,c,c,c,b)});function gq(a,b){return a===b||a!=a&&b!=b}var gr=eB(dn),gs=eB(function(a,b){return a>=b}),gt=dt(function(){return arguments}())?dt:function(a){return gG(a)&&a0.call(a,"callee")&&!bf.call(a,"callee")},gu=aO.isArray,gv=by?b2(by):function(a){return gG(a)&&dm(a)==Y};function gw(a){return null!=a&&gE(a.length)&&!gC(a)}function gx(a){return gG(a)&&gw(a)}var gy=ck||hL,gz=bz?b2(bz):function(a){return gG(a)&&dm(a)==J};function gA(a,b){return du(a,b)}function gB(a){if(!gG(a))return!1;var b=dm(a);return b==K||"[object DOMException]"==b||"string"==typeof a.message&&"string"==typeof a.name&&!gJ(a)}function gC(a){if(!gF(a))return!1;var b=dm(a);return b==L||b==M||"[object AsyncFunction]"==b||"[object Proxy]"==b}function gD(a){return"number"==typeof a&&a==gT(a)}function gE(a){return"number"==typeof a&&a> -1&&a%1==0&&a<=z}function gF(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function gG(a){return null!=a&&"object"==typeof a}var gH=bA?b2(bA):function(a){return gG(a)&&e$(a)==N};function gI(a){return"number"==typeof a||gG(a)&&dm(a)==O}function gJ(a){if(!gG(a)||dm(a)!=Q)return!1;var b=bb(a);if(null===b)return!0;var c=a0.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&a_.call(c)==a4}var gK=bB?b2(bB):function(a){return gG(a)&&dm(a)==S},gL=bC?b2(bC):function(a){return gG(a)&&e$(a)==T};function gM(a){return"string"==typeof a|| !gu(a)&&gG(a)&&dm(a)==U}function gN(a){return"symbol"==typeof a||gG(a)&&dm(a)==V}var gO=bD?b2(bD):function(a){return gG(a)&&gE(a.length)&&!!bl[dm(a)]},gP=eB(dA),gQ=eB(function(a,b){return a<=b});function gR(a){if(!a)return[];if(gw(a))return gM(a)?ch(a):ei(a);if(bq&&a[bq])return function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}(a[bq]());var b=e$(a);return(b==N?cb:b==T?ce:hh)(a)}function gS(a){return a?(a=gV(a))===y||a=== -y?(a<0?-1:1)*17976931348623157e292:a==a?a:0:0===a?a:0}function gT(a){var b=gS(a),c=b%1;return b==b?c?b-c:b:0}function gU(a){return a?c4(gT(a),0,B):0}function gV(a){if("number"==typeof a)return a;if(gN(a))return A;if(gF(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=gF(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=b1(a);var c=aH.test(a);return c||aJ.test(a)?bp(a.slice(2),c?2:8):aG.test(a)?A:+a}function gW(a){return ej(a,g9(a))}function gX(a){return null==a?"":d$(a)}var gY=en(function(a,b){if(fc(b)||gw(b)){ej(b,g8(b),a);return}for(var c in b)a0.call(b,c)&&c$(a,c,b[c])}),gZ=en(function(a,b){ej(b,g9(b),a)}),g$=en(function(a,b,c,d){ej(b,g9(b),a,d)}),g_=en(function(a,b,c,d){ej(b,g8(b),a,d)}),g0=eN(c3),g1=dN(function(a,b){a=aT(a);var d=-1,e=b.length,f=e>2?b[2]:c;for(f&&e6(b[0],b[1],f)&&(e=1);++d<e;)for(var g=b[d],h=g9(g),i=-1,j=h.length;++i<j;){var k=h[i],l=a[k];(l===c||gq(l,aZ[k])&&!a0.call(a,k))&&(a[k]=g[k])}return a}),g2=dN(function(a){return a.push(c,eI),bE(hb,c,a)});function g3(a,b,d){var e=null==a?c:dk(a,b);return e===c?d:e}function g4(a,b){return null!=a&&e0(a,b,dq)}var g5=ew(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=a3.call(b)),a[b]=c},hv(hy)),g6=ew(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=a3.call(b)),a0.call(a,b)?a[b].push(c):a[b]=[c]},eT),g7=dN(ds);function g8(a){return gw(a)?cV(a):dz(a)}function g9(a){return gw(a)?cV(a,!0):function(a){if(!gF(a))return function a(b){var c=[];if(null!=b)for(var d in aT(b))c.push(d);return c}(a);var b=fc(a),c=[];for(var d in a)"constructor"==d&&(b||!a0.call(a,d))||c.push(d);return c}(a)}var ha=en(function(a,b,c){dE(a,b,c)}),hb=en(function(a,b,c,d){dE(a,b,c,d)}),hc=eN(function(a,b){var c={};if(null==a)return c;var d=!1;b=bM(b,function(b){return b=d8(b,a),d||(d=b.length>1),b}),ej(a,eP(a),c),d&&(c=c5(c,g|h|i,eJ));for(var e=b.length;e--;)d0(c,b[e]);return c}),hd=eN(function(a,b){var c,d;return null==a?{}:(c=a,dI(c,d=b,function(a,b){return g4(c,b)}))});function he(a,b){if(null==a)return{};var c=bM(eP(a),function(a){return[a]});return b=eT(b),dI(a,c,function(a,c){return b(a,c[0])})}var hf=eF(g8),hg=eF(g9);function hh(a){return null==a?[]:b3(a,g8(a))}var hi=er(function(a,b,c){return b=b.toLowerCase(),a+(c?hj(b):b)});function hj(a){return hr(gX(a).toLowerCase())}function hk(a){return(a=gX(a))&&a.replace(aL,b7).replace(be,"")}var hl=er(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),hm=er(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),hn=eq("toLowerCase"),ho=er(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),hp=er(function(a,b,c){return a+(c?" ":"")+hr(b)}),hq=er(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),hr=eq("toUpperCase");function hs(a,b,d){var e,f,g;return a=gX(a),(b=d?c:b)===c?(e=a,bi.test(e))?(f=a).match(bg)||[]:(g=a).match(aB)||[]:a.match(b)||[]}var ht=dN(function(a,b){try{return bE(a,c,b)}catch(d){return gB(d)?d:new aQ(d)}}),hu=eN(function(a,b){return bG(b,function(b){b=fs(b),c2(a,b,gd(a[b],a))}),a});function hv(a){return function(){return a}}var hw=eu(),hx=eu(!0);function hy(a){return a}function hz(a){return dy("function"==typeof a?a:c5(a,g))}var hA=dN(function(a,b){return function(c){return ds(c,a,b)}}),hB=dN(function(a,b){return function(c){return ds(a,c,b)}});function hC(a,b,c){var d=g8(b),e=dj(b,d);null!=c||gF(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=dj(b,g8(b)));var f=!(gF(c)&&"chain"in c)||!!c.chain,g=gC(a);return bG(e,function(c){var d=b[c];a[c]=d,g&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__);return(c.__actions__=ei(this.__actions__)).push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,bN([this.value()],arguments))})}),a}function hD(){}var hE=ey(bM),hF=ey(bI),hG=ey(bQ);function hH(a){var b;return e7(a)?bY(fs(a)):(b=a,function(a){return dk(a,b)})}var hI=eA(),hJ=eA(!0);function hK(){return[]}function hL(){return!1}function hM(){return{}}function hN(){return""}function hO(){return!0}var hP,hQ=ex(function(a,b){return a+b},0),hR=eD("ceil"),hS=ex(function(a,b){return a/b},1),hT=eD("floor"),hU=ex(function(a,b){return a*b},1),hV=eD("round"),hW=ex(function(a,b){return a-b},0);return cL.after=function(a,b){if("function"!=typeof b)throw new aW(d);return a=gT(a),function(){if(--a<1)return b.apply(this,arguments)}},cL.ary=gb,cL.assign=gY,cL.assignIn=gZ,cL.assignInWith=g$,cL.assignWith=g_,cL.at=g0,cL.before=gc,cL.bind=gd,cL.bindAll=hu,cL.bindKey=ge,cL.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return gu(a)?a:[a]},cL.chain=fX,cL.chunk=function(a,b,d){b=(d?e6(a,b,d):b===c)?1:cp(gT(b),0);var e=null==a?0:a.length;if(!e||b<1)return[];for(var f=0,g=0,h=aO(bR(e/b));f<e;)h[g++]=dU(a,f,f+=b);return h},cL.compact=function(a){for(var b=-1,c=null==a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e},cL.concat=function(){var a=arguments.length;if(!a)return[];for(var b=aO(a-1),c=arguments[0],d=a;d--;)b[d-1]=arguments[d];return bN(gu(c)?ei(c):[c],de(b,1))},cL.cond=function(a){var b=null==a?0:a.length,c=eT();return a=b?bM(a,function(a){if("function"!=typeof a[1])throw new aW(d);return[c(a[0]),a[1]]}):[],dN(function(c){for(var d=-1;++d<b;){var e=a[d];if(bE(e[0],this,c))return bE(e[1],this,c)}})},cL.conforms=function(a){var b,c;return b=c5(a,g),c=g8(b),function(a){return c6(a,b,c)}},cL.constant=hv,cL.countBy=f_,cL.create=function(a,b){var c=cM(a);return null==b?c:c1(c,b)},cL.curry=gf,cL.curryRight=gg,cL.debounce=gh,cL.defaults=g1,cL.defaultsDeep=g2,cL.defer=gi,cL.delay=gj,cL.difference=fw,cL.differenceBy=fx,cL.differenceWith=fy,cL.drop=function(a,b,d){var e=null==a?0:a.length;return e?(b=d||b===c?1:gT(b),dU(a,b<0?0:b,e)):[]},cL.dropRight=function(a,b,d){var e=null==a?0:a.length;return e?(b=d||b===c?1:gT(b),dU(a,0,(b=e-b)<0?0:b)):[]},cL.dropRightWhile=function(a,b){return a&&a.length?d2(a,eT(b,3),!0,!0):[]},cL.dropWhile=function(a,b){return a&&a.length?d2(a,eT(b,3),!0):[]},cL.fill=function(a,b,d,e){var f=null==a?0:a.length;return f?(d&&"number"!=typeof d&&e6(a,b,d)&&(d=0,e=f),function(a,b,d,e){var f=a.length;for((d=gT(d))<0&&(d=-d>f?0:f+d),(e=e===c||e>f?f:gT(e))<0&&(e+=f),e=d>e?0:gU(e);d<e;)a[d++]=b;return a}(a,b,d,e)):[]},cL.filter=function(a,b){return(gu(a)?bJ:dd)(a,eT(b,3))},cL.flatMap=function(a,b){return de(f7(a,b),1)},cL.flatMapDeep=function(a,b){return de(f7(a,b),y)},cL.flatMapDepth=function(a,b,d){return d=d===c?1:gT(d),de(f7(a,b),d)},cL.flatten=fB,cL.flattenDeep=function(a){return(null==a?0:a.length)?de(a,y):[]},cL.flattenDepth=function(a,b){return(null==a?0:a.length)?(b=b===c?1:gT(b),de(a,b)):[]},cL.flip=function(a){return eG(a,u)},cL.flow=hw,cL.flowRight=hx,cL.fromPairs=function(a){for(var b=-1,c=null==a?0:a.length,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d},cL.functions=function(a){return null==a?[]:dj(a,g8(a))},cL.functionsIn=function(a){return null==a?[]:dj(a,g9(a))},cL.groupBy=f4,cL.initial=function(a){return(null==a?0:a.length)?dU(a,0,-1):[]},cL.intersection=fD,cL.intersectionBy=fE,cL.intersectionWith=fF,cL.invert=g5,cL.invertBy=g6,cL.invokeMap=f5,cL.iteratee=hz,cL.keyBy=f6,cL.keys=g8,cL.keysIn=g9,cL.map=f7,cL.mapKeys=function(a,b){var c={};return b=eT(b,3),dh(a,function(a,d,e){c2(c,b(a,d,e),a)}),c},cL.mapValues=function(a,b){var c={};return b=eT(b,3),dh(a,function(a,d,e){c2(c,d,b(a,d,e))}),c},cL.matches=function(a){return dC(c5(a,g))},cL.matchesProperty=function(a,b){return dD(a,c5(b,g))},cL.memoize=gk,cL.merge=ha,cL.mergeWith=hb,cL.method=hA,cL.methodOf=hB,cL.mixin=hC,cL.negate=gl,cL.nthArg=function(a){return a=gT(a),dN(function(b){return dG(b,a)})},cL.omit=hc,cL.omitBy=function(a,b){return he(a,gl(eT(b)))},cL.once=function(a){return gc(2,a)},cL.orderBy=function(a,b,d,e){return null==a?[]:(gu(b)||(b=null==b?[]:[b]),d=e?c:d,gu(d)||(d=null==d?[]:[d]),dH(a,b,d))},cL.over=hE,cL.overArgs=gm,cL.overEvery=hF,cL.overSome=hG,cL.partial=gn,cL.partialRight=go,cL.partition=f8,cL.pick=hd,cL.pickBy=he,cL.property=hH,cL.propertyOf=function(a){return function(b){return null==a?c:dk(a,b)}},cL.pull=fH,cL.pullAll=fI,cL.pullAllBy=function(a,b,c){return a&&a.length&&b&&b.length?dJ(a,b,eT(c,2)):a},cL.pullAllWith=function(a,b,d){return a&&a.length&&b&&b.length?dJ(a,b,c,d):a},cL.pullAt=fJ,cL.range=hI,cL.rangeRight=hJ,cL.rearg=gp,cL.reject=function(a,b){return(gu(a)?bJ:dd)(a,gl(eT(b,3)))},cL.remove=function(a,b){var c=[];if(!(a&&a.length))return c;var d=-1,e=[],f=a.length;for(b=eT(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return dK(a,e),c},cL.rest=function(a,b){if("function"!=typeof a)throw new aW(d);return b=b===c?b:gT(b),dN(a,b)},cL.reverse=fK,cL.sampleSize=function(a,b,d){return b=(d?e6(a,b,d):b===c)?1:gT(b),(gu(a)?cX:dP)(a,b)},cL.set=function(a,b,c){return null==a?a:dQ(a,b,c)},cL.setWith=function(a,b,d,e){return e="function"==typeof e?e:c,null==a?a:dQ(a,b,d,e)},cL.shuffle=function(a){return(gu(a)?cY:dT)(a)},cL.slice=function(a,b,d){var e=null==a?0:a.length;return e?(d&&"number"!=typeof d&&e6(a,b,d)?(b=0,d=e):(b=null==b?0:gT(b),d=d===c?e:gT(d)),dU(a,b,d)):[]},cL.sortBy=f9,cL.sortedUniq=function(a){return a&&a.length?dY(a):[]},cL.sortedUniqBy=function(a,b){return a&&a.length?dY(a,eT(b,2)):[]},cL.split=function(a,b,d){return d&&"number"!=typeof d&&e6(a,b,d)&&(b=d=c),(d=d===c?B:d>>>0)?(a=gX(a))&&("string"==typeof b||null!=b&&!gK(b))&&!(b=d$(b))&&ca(a)?d9(ch(a),0,d):a.split(b,d):[]},cL.spread=function(a,b){if("function"!=typeof a)throw new aW(d);return b=null==b?0:cp(gT(b),0),dN(function(c){var d=c[b],e=d9(c,0,b);return d&&bN(e,d),bE(a,this,e)})},cL.tail=function(a){var b=null==a?0:a.length;return b?dU(a,1,b):[]},cL.take=function(a,b,d){return a&&a.length?(b=d||b===c?1:gT(b),dU(a,0,b<0?0:b)):[]},cL.takeRight=function(a,b,d){var e=null==a?0:a.length;return e?(b=d||b===c?1:gT(b),dU(a,(b=e-b)<0?0:b,e)):[]},cL.takeRightWhile=function(a,b){return a&&a.length?d2(a,eT(b,3),!1,!0):[]},cL.takeWhile=function(a,b){return a&&a.length?d2(a,eT(b,3)):[]},cL.tap=fY,cL.throttle=function(a,b,c){var e=!0,f=!0;if("function"!=typeof a)throw new aW(d);return gF(c)&&(e="leading"in c?!!c.leading:e,f="trailing"in c?!!c.trailing:f),gh(a,b,{leading:e,maxWait:b,trailing:f})},cL.thru=fZ,cL.toArray=gR,cL.toPairs=hf,cL.toPairsIn=hg,cL.toPath=function(a){return gu(a)?bM(a,fs):gN(a)?[a]:ei(fr(gX(a)))},cL.toPlainObject=gW,cL.transform=function(a,b,c){var d=gu(a),e=d||gy(a)||gO(a);if(b=eT(b,4),null==c){var f=a&&a.constructor;c=e?d?new f:[]:gF(a)&&gC(f)?cM(bb(a)):{}}return(e?bG:dh)(a,function(a,d,e){return b(c,a,d,e)}),c},cL.unary=function(a){return gb(a,1)},cL.union=fM,cL.unionBy=fN,cL.unionWith=fO,cL.uniq=function(a){return a&&a.length?d_(a):[]},cL.uniqBy=function(a,b){return a&&a.length?d_(a,eT(b,2)):[]},cL.uniqWith=function(a,b){return b="function"==typeof b?b:c,a&&a.length?d_(a,c,b):[]},cL.unset=function(a,b){return null==a||d0(a,b)},cL.unzip=fP,cL.unzipWith=fQ,cL.update=function(a,b,c){return null==a?a:d1(a,b,d7(c))},cL.updateWith=function(a,b,d,e){return e="function"==typeof e?e:c,null==a?a:d1(a,b,d7(d),e)},cL.values=hh,cL.valuesIn=function(a){return null==a?[]:b3(a,g9(a))},cL.without=fR,cL.words=hs,cL.wrap=function(a,b){return gn(d7(b),a)},cL.xor=fS,cL.xorBy=fT,cL.xorWith=fU,cL.zip=fV,cL.zipObject=function(a,b){return d5(a||[],b||[],c$)},cL.zipObjectDeep=function(a,b){return d5(a||[],b||[],dQ)},cL.zipWith=fW,cL.entries=hf,cL.entriesIn=hg,cL.extend=gZ,cL.extendWith=g$,hC(cL,cL),cL.add=hQ,cL.attempt=ht,cL.camelCase=hi,cL.capitalize=hj,cL.ceil=hR,cL.clamp=function(a,b,d){return d===c&&(d=b,b=c),d!==c&&(d=(d=gV(d))==d?d:0),b!==c&&(b=(b=gV(b))==b?b:0),c4(gV(a),b,d)},cL.clone=function(a){return c5(a,i)},cL.cloneDeep=function(a){return c5(a,g|i)},cL.cloneDeepWith=function(a,b){return b="function"==typeof b?b:c,c5(a,g|i,b)},cL.cloneWith=function(a,b){return b="function"==typeof b?b:c,c5(a,i,b)},cL.conformsTo=function(a,b){return null==b||c6(a,b,g8(b))},cL.deburr=hk,cL.defaultTo=function(a,b){return null==a||a!=a?b:a},cL.divide=hS,cL.endsWith=function(a,b,d){a=gX(a),b=d$(b);var e=a.length,f=d=d===c?e:c4(gT(d),0,e);return(d-=b.length)>=0&&a.slice(d,f)==b},cL.eq=gq,cL.escape=function(a){return(a=gX(a))&&an.test(a)?a.replace(al,b8):a},cL.escapeRegExp=function(a){return(a=gX(a))&&av.test(a)?a.replace(au,"\\$&"):a},cL.every=function(a,b,d){var e=gu(a)?bI:db;return d&&e6(a,b,d)&&(b=c),e(a,eT(b,3))},cL.find=f0,cL.findIndex=fz,cL.findKey=function(a,b){return bS(a,eT(b,3),dh)},cL.findLast=f1,cL.findLastIndex=fA,cL.findLastKey=function(a,b){return bS(a,eT(b,3),di)},cL.floor=hT,cL.forEach=f2,cL.forEachRight=f3,cL.forIn=function(a,b){return null==a?a:df(a,eT(b,3),g9)},cL.forInRight=function(a,b){return null==a?a:dg(a,eT(b,3),g9)},cL.forOwn=function(a,b){return a&&dh(a,eT(b,3))},cL.forOwnRight=function(a,b){return a&&di(a,eT(b,3))},cL.get=g3,cL.gt=gr,cL.gte=gs,cL.has=function(a,b){return null!=a&&e0(a,b,dp)},cL.hasIn=g4,cL.head=fC,cL.identity=hy,cL.includes=function(a,b,c,d){a=gw(a)?a:hh(a),c=c&&!d?gT(c):0;var e=a.length;return c<0&&(c=cp(e+c,0)),gM(a)?c<=e&&a.indexOf(b,c)> -1:!!e&&bU(a,b,c)> -1},cL.indexOf=function(a,b,c){var d=null==a?0:a.length;if(!d)return -1;var e=null==c?0:gT(c);return e<0&&(e=cp(d+e,0)),bU(a,b,e)},cL.inRange=function(a,b,d){var e,f,g;return b=gS(b),d===c?(d=b,b=0):d=gS(d),e=a=gV(a),e>=cq(f=b,g=d)&&e<cp(f,g)},cL.invoke=g7,cL.isArguments=gt,cL.isArray=gu,cL.isArrayBuffer=gv,cL.isArrayLike=gw,cL.isArrayLikeObject=gx,cL.isBoolean=function(a){return!0===a|| !1===a||gG(a)&&dm(a)==I},cL.isBuffer=gy,cL.isDate=gz,cL.isElement=function(a){return gG(a)&&1===a.nodeType&&!gJ(a)},cL.isEmpty=function(a){if(null==a)return!0;if(gw(a)&&(gu(a)||"string"==typeof a||"function"==typeof a.splice||gy(a)||gO(a)||gt(a)))return!a.length;var b=e$(a);if(b==N||b==T)return!a.size;if(fc(a))return!dz(a).length;for(var c in a)if(a0.call(a,c))return!1;return!0},cL.isEqual=gA,cL.isEqualWith=function(a,b,d){var e=(d="function"==typeof d?d:c)?d(a,b):c;return e===c?du(a,b,c,d):!!e},cL.isError=gB,cL.isFinite=function(a){return"number"==typeof a&&cl(a)},cL.isFunction=gC,cL.isInteger=gD,cL.isLength=gE,cL.isMap=gH,cL.isMatch=function(a,b){return a===b||dw(a,b,eV(b))},cL.isMatchWith=function(a,b,d){return d="function"==typeof d?d:c,dw(a,b,eV(b),d)},cL.isNaN=function(a){return gI(a)&&a!= +a},cL.isNative=function(a){if(fb(a))throw new aQ("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return dx(a)},cL.isNil=function(a){return null==a},cL.isNull=function(a){return null===a},cL.isNumber=gI,cL.isObject=gF,cL.isObjectLike=gG,cL.isPlainObject=gJ,cL.isRegExp=gK,cL.isSafeInteger=function(a){return gD(a)&&a>= -z&&a<=z},cL.isSet=gL,cL.isString=gM,cL.isSymbol=gN,cL.isTypedArray=gO,cL.isUndefined=function(a){return a===c},cL.isWeakMap=function(a){return gG(a)&&e$(a)==X},cL.isWeakSet=function(a){return gG(a)&&"[object WeakSet]"==dm(a)},cL.join=function(a,b){return null==a?"":cn.call(a,b)},cL.kebabCase=hl,cL.last=fG,cL.lastIndexOf=function(a,b,d){var e=null==a?0:a.length;if(!e)return -1;var f=e;return d!==c&&(f=(f=gT(d))<0?cp(e+f,0):cq(f,e-1)),b==b?function(a,b,c){for(var d=c+1;(d--)&&a[d]!==b;);return d}(a,b,f):bT(a,bW,f,!0)},cL.lowerCase=hm,cL.lowerFirst=hn,cL.lt=gP,cL.lte=gQ,cL.max=function(a){return a&&a.length?dc(a,hy,dn):c},cL.maxBy=function(a,b){return a&&a.length?dc(a,eT(b,2),dn):c},cL.mean=function(a){return bX(a,hy)},cL.meanBy=function(a,b){return bX(a,eT(b,2))},cL.min=function(a){return a&&a.length?dc(a,hy,dA):c},cL.minBy=function(a,b){return a&&a.length?dc(a,eT(b,2),dA):c},cL.stubArray=hK,cL.stubFalse=hL,cL.stubObject=hM,cL.stubString=hN,cL.stubTrue=hO,cL.multiply=hU,cL.nth=function(a,b){return a&&a.length?dG(a,gT(b)):c},cL.noConflict=function(){return bs._===this&&(bs._=a5),this},cL.noop=hD,cL.now=ga,cL.pad=function(a,b,c){a=gX(a);var d=(b=gT(b))?cg(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return ez(bZ(e),c)+a+ez(bR(e),c)},cL.padEnd=function(a,b,c){a=gX(a);var d=(b=gT(b))?cg(a):0;return b&&d<b?a+ez(b-d,c):a},cL.padStart=function(a,b,c){a=gX(a);var d=(b=gT(b))?cg(a):0;return b&&d<b?ez(b-d,c)+a:a},cL.parseInt=function(a,b,c){return c||null==b?b=0:b&&(b=+b),cs(gX(a).replace(aw,""),b||0)},cL.random=function(a,b,d){if(d&&"boolean"!=typeof d&&e6(a,b,d)&&(b=d=c),d===c&&("boolean"==typeof b?(d=b,b=c):"boolean"==typeof a&&(d=a,a=c)),a===c&&b===c?(a=0,b=1):(a=gS(a),b===c?(b=a,a=0):b=gS(b)),a>b){var e=a;a=b,b=e}if(d||a%1||b%1){var f=ct();return cq(a+f*(b-a+bo("1e-"+((f+"").length-1))),b)}return dL(a,b)},cL.reduce=function(a,b,c){var d=gu(a)?bO:b$,e=arguments.length<3;return d(a,eT(b,4),c,e,c9)},cL.reduceRight=function(a,b,c){var d=gu(a)?bP:b$,e=arguments.length<3;return d(a,eT(b,4),c,e,da)},cL.repeat=function(a,b,d){return b=(d?e6(a,b,d):b===c)?1:gT(b),dM(gX(a),b)},cL.replace=function(){var a=arguments,b=gX(a[0]);return a.length<3?b:b.replace(a[1],a[2])},cL.result=function(a,b,d){b=d8(b,a);var e=-1,f=b.length;for(f||(f=1,a=c);++e<f;){var g=null==a?c:a[fs(b[e])];g===c&&(e=f,g=d),a=gC(g)?g.call(a):g}return a},cL.round=hV,cL.runInContext=a,cL.sample=function(a){return(gu(a)?cW:dO)(a)},cL.size=function(a){if(null==a)return 0;if(gw(a))return gM(a)?cg(a):a.length;var b=e$(a);return b==N||b==T?a.size:dz(a).length},cL.snakeCase=ho,cL.some=function(a,b,d){var e=gu(a)?bQ:dV;return d&&e6(a,b,d)&&(b=c),e(a,eT(b,3))},cL.sortedIndex=fL,cL.sortedIndexBy=function(a,b,c){return dX(a,b,eT(c,2))},cL.sortedIndexOf=function(a,b){var c=null==a?0:a.length;if(c){var d=dW(a,b);if(d<c&&gq(a[d],b))return d}return -1},cL.sortedLastIndex=function(a,b){return dW(a,b,!0)},cL.sortedLastIndexBy=function(a,b,c){return dX(a,b,eT(c,2),!0)},cL.sortedLastIndexOf=function(a,b){if(null==a?0:a.length){var c=dW(a,b,!0)-1;if(gq(a[c],b))return c}return -1},cL.startCase=hp,cL.startsWith=function(a,b,c){return a=gX(a),c=null==c?0:c4(gT(c),0,a.length),b=d$(b),a.slice(c,c+b.length)==b},cL.subtract=hW,cL.sum=function(a){return a&&a.length?b_(a,hy):0},cL.sumBy=function(a,b){return a&&a.length?b_(a,eT(b,2)):0},cL.template=function(a,b,d){var e=cL.templateSettings;d&&e6(a,b,d)&&(b=c),a=gX(a),b=g$({},b,e,eH);var f,g,h=g$({},b.imports,e.imports,eH),i=g8(h),j=b3(h,i),k=0,l=b.interpolate||aM,m="__p += '",n=aU((b.escape||aM).source+"|"+l.source+"|"+(l===aq?aE:aM).source+"|"+(b.evaluate||aM).source+"|$","g"),o="//# sourceURL="+(a0.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bk+"]")+`
`;a.replace(n,function(b,c,d,e,h,i){return d||(d=e),m+=a.slice(k,i).replace(aN,b9),c&&(f=!0,m+=`' +
__e(`+c+`) +
'`),h&&(g=!0,m+=`';
`+h+`;
__p += '`),d&&(m+=`' +
((__t = (`+d+`)) == null ? '' : __t) +
'`),k=i+b.length,b}),m+=`';
`;var p=a0.call(b,"variable")&&b.variable;if(p){if(aC.test(p))throw new aQ("Invalid `variable` option passed into `_.template`")}else m=`with (obj) {
`+m+`
}
`;m=(g?m.replace(ah,""):m).replace(ai,"$1").replace(aj,"$1;"),m="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+m+`return __p
}`;var q=ht(function(){return aR(i,o+"return "+m).apply(c,j)});if(q.source=m,gB(q))throw q;return q},cL.times=function(a,b){if((a=gT(a))<1||a>z)return[];var c=B,d=cq(a,B);b=eT(b),a-=B;for(var e=b0(d,b);++c<a;)b(c);return e},cL.toFinite=gS,cL.toInteger=gT,cL.toLength=gU,cL.toLower=function(a){return gX(a).toLowerCase()},cL.toNumber=gV,cL.toSafeInteger=function(a){return a?c4(gT(a),-z,z):0===a?a:0},cL.toString=gX,cL.toUpper=function(a){return gX(a).toUpperCase()},cL.trim=function(a,b,d){if((a=gX(a))&&(d||b===c))return b1(a);if(!a||!(b=d$(b)))return a;var e=ch(a),f=ch(b),g=b5(e,f),h=b6(e,f)+1;return d9(e,g,h).join("")},cL.trimEnd=function(a,b,d){if((a=gX(a))&&(d||b===c))return a.slice(0,ci(a)+1);if(!a||!(b=d$(b)))return a;var e=ch(a),f=b6(e,ch(b))+1;return d9(e,0,f).join("")},cL.trimStart=function(a,b,d){if((a=gX(a))&&(d||b===c))return a.replace(aw,"");if(!a||!(b=d$(b)))return a;var e=ch(a),f=b5(e,ch(b));return d9(e,f).join("")},cL.truncate=function(a,b){var d=v,e=w;if(gF(b)){var f="separator"in b?b.separator:f;d="length"in b?gT(b.length):d,e="omission"in b?d$(b.omission):e}var g=(a=gX(a)).length;if(ca(a)){var h=ch(a);g=h.length}if(d>=g)return a;var i=d-cg(e);if(i<1)return e;var j=h?d9(h,0,i).join(""):a.slice(0,i);if(f===c)return j+e;if(h&&(i+=j.length-i),gK(f)){if(a.slice(i).search(f)){var k,l=j;for(f.global||(f=aU(f.source,gX(aF.exec(f))+"g")),f.lastIndex=0;k=f.exec(l);)var m=k.index;j=j.slice(0,m===c?i:m)}}else if(a.indexOf(d$(f),i)!=i){var n=j.lastIndexOf(f);n> -1&&(j=j.slice(0,n))}return j+e},cL.unescape=function(a){return(a=gX(a))&&am.test(a)?a.replace(ak,cj):a},cL.uniqueId=function(a){var b=++a1;return gX(a)+b},cL.upperCase=hq,cL.upperFirst=hr,cL.each=f2,cL.eachRight=f3,cL.first=fC,hC(cL,(hP={},dh(cL,function(a,b){a0.call(cL.prototype,b)||(hP[b]=a)}),hP),{chain:!1}),cL.VERSION="4.17.21",bG(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){cL[a].placeholder=cL}),bG(["drop","take"],function(a,b){cP.prototype[a]=function(d){d=d===c?1:cp(gT(d),0);var e=this.__filtered__&&!b?new cP(this):this.clone();return e.__filtered__?e.__takeCount__=cq(d,e.__takeCount__):e.__views__.push({size:cq(d,B),type:a+(e.__dir__<0?"Right":"")}),e},cP.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),bG(["filter","map","takeWhile"],function(a,b){var c=b+1,d=1==c||3==c;cP.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:eT(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),bG(["head","last"],function(a,b){var c="take"+(b?"Right":"");cP.prototype[a]=function(){return this[c](1).value()[0]}}),bG(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");cP.prototype[a]=function(){return this.__filtered__?new cP(this):this[c](1)}}),cP.prototype.compact=function(){return this.filter(hy)},cP.prototype.find=function(a){return this.filter(a).head()},cP.prototype.findLast=function(a){return this.reverse().find(a)},cP.prototype.invokeMap=dN(function(a,b){return"function"==typeof a?new cP(this):this.map(function(c){return ds(c,a,b)})}),cP.prototype.reject=function(a){return this.filter(gl(eT(a)))},cP.prototype.slice=function(a,b){a=gT(a);var d=this;return d.__filtered__&&(a>0||b<0)?new cP(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),b!==c&&(d=(b=gT(b))<0?d.dropRight(-b):d.take(b-a)),d)},cP.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},cP.prototype.toArray=function(){return this.take(B)},dh(cP.prototype,function(a,b){var d=/^(?:filter|find|map|reject)|While$/.test(b),e=/^(?:head|last)$/.test(b),f=cL[e?"take"+("last"==b?"Right":""):b],g=e||/^find/.test(b);f&&(cL.prototype[b]=function(){var b=this.__wrapped__,h=e?[1]:arguments,i=b instanceof cP,j=h[0],k=i||gu(b),l=function(a){var b=f.apply(cL,bN([a],h));return e&&m?b[0]:b};k&&d&&"function"==typeof j&&1!=j.length&&(i=k=!1);var m=this.__chain__,n=!!this.__actions__.length,o=g&&!m,p=i&&!n;if(!g&&k){b=p?b:new cP(this);var q=a.apply(b,h);return q.__actions__.push({func:fZ,args:[l],thisArg:c}),new cO(q,m)}return o&&p?a.apply(this,h):(q=this.thru(l),o?e?q.value()[0]:q.value():q)})}),bG(["pop","push","shift","sort","splice","unshift"],function(a){var b=aX[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);cL.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(gu(e)?e:[],a)}return this[c](function(c){return b.apply(gu(c)?c:[],a)})}}),dh(cP.prototype,function(a,b){var c=cL[b];if(c){var d=c.name+"";a0.call(cC,d)||(cC[d]=[]),cC[d].push({name:b,func:c})}}),cC[ev(c,m).name]=[{name:"wrapper",func:c}],cP.prototype.clone=function(){var a=new cP(this.__wrapped__);return a.__actions__=ei(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=ei(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=ei(this.__views__),a},cP.prototype.reverse=function(){if(this.__filtered__){var a=new cP(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a},cP.prototype.value=function(){var a=this.__wrapped__.value(),b=this.__dir__,c=gu(a),d=b<0,e=c?a.length:0,f=e_(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=cq(i,this.__takeCount__);if(!c|| !d&&e==i&&n==i)return d3(a,this.__actions__);var o=[];n:for(;(i--)&&m<n;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(2==t)q=u;else if(!u){if(1==t)continue n;break n}}o[m++]=q}return o},cL.prototype.at=f$,cL.prototype.chain=function(){return fX(this)},cL.prototype.commit=function(){return new cO(this.value(),this.__chain__)},cL.prototype.next=function(){this.__values__===c&&(this.__values__=gR(this.value()));var a=this.__index__>=this.__values__.length,b=a?c:this.__values__[this.__index__++];return{done:a,value:b}},cL.prototype.plant=function(a){for(var b,d=this;d instanceof cN;){var e=fv(d);e.__index__=0,e.__values__=c,b?f.__wrapped__=e:b=e;var f=e;d=d.__wrapped__}return f.__wrapped__=a,b},cL.prototype.reverse=function(){var a=this.__wrapped__;if(a instanceof cP){var b=a;return this.__actions__.length&&(b=new cP(this)),(b=b.reverse()).__actions__.push({func:fZ,args:[fK],thisArg:c}),new cO(b,this.__chain__)}return this.thru(fK)},cL.prototype.toJSON=cL.prototype.valueOf=cL.prototype.value=function(){return d3(this.__wrapped__,this.__actions__)},cL.prototype.first=cL.prototype.head,bq&&(cL.prototype[bq]=function(){return this}),cL}();bu?((bu.exports=cm)._=cm,bt._=cm):bs._=cm}).call(g2)}(g3,g3.exports);var g4=Object.defineProperty,g5=Object.defineProperties,g6=Object.getOwnPropertyDescriptors,g7=Object.getOwnPropertySymbols,g8=Object.prototype.hasOwnProperty,g9=Object.prototype.propertyIsEnumerable,ha=(a,b,c)=>b in a?g4(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,hb=(a,b)=>{for(var c in b||(b={}))g8.call(b,c)&&ha(a,c,b[c]);if(g7)for(var c of g7(b))g9.call(b,c)&&ha(a,c,b[c]);return a},hc=(a,b)=>g5(a,g6(b));function hd(a,b,c){let d,e=he(a);return b.rpcMap&&(d=b.rpcMap[e]),d||(d=`https://rpc.walletconnect.com/v1?chainId=eip155:${e}&projectId=${c}`),d}function he(a){return a.includes("eip155")?Number(a.split(":")[1]):Number(a)}function hf(a){var b,c,d,e;let f={};if(!gP(a))return f;for(let[g,h]of Object.entries(a)){let i=gI(g)?[g]:h.chains,j=h.methods||[],k=h.events||[],l=h.rpcMap||{},m=gJ(g);f[m]=hc(hb(hb({},f[m]),h),{chains:gs(i,null==(b=f[m])?void 0:b.chains),methods:gs(j,null==(c=f[m])?void 0:c.methods),events:gs(k,null==(d=f[m])?void 0:d.events),rpcMap:hb(hb({},l),null==(e=f[m])?void 0:e.rpcMap)})}return f}let hg=(a,b)=>{let c=d=>{d.request!==b.request||d.topic!==b.topic||(a.events.removeListener("session_request_sent",c),hh(b,a.core.storage))};a.on("session_request_sent",c)};async function hh(a,b){try{let c=await b.getItem("WALLETCONNECT_DEEPLINK_CHOICE");if(!c)return;let d="string"==typeof c?JSON.parse(c):c,e=d?.href;if("string"!=typeof e)return;e.endsWith("/")&&e.slice(0,-1);let f=`${e}/wc?requestId=${a.id}&sessionTopic=${a.topic}`,g=!(0,aT.getDocument)()&&(0,aT.getNavigator)()&&"ReactNative"===navigator.product?gp.reactNative:gq()?gp.node:!gq()&&(0,aT.getNavigator)()?gp.browser:gp.unknown;g===gp.browser?window.open(f,"_self","noreferrer noopener"):g===gp.reactNative&&await Object(function(){var a=Error("Cannot find module 'react-native'");throw a.code="MODULE_NOT_FOUND",a}())(f)}catch(h){console.error(h)}}class hi{constructor(a){this.name="polkadot",this.namespace=a.namespace,this.events=a.events,this.client=a.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}request(a){return this.namespace.methods.includes(a.request.method)?(hg(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(this.chainId=a,!this.httpProviders[a]){let c=b||hd(`${this.name}:${a}`,this.namespace);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.events.emit(g1.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let a=this.namespace.accounts;return a&&a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2])||[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||hd(a,this.namespace);return typeof c>"u"?void 0:new d2(new g$(c))}}class hj{constructor(a){this.name="eip155",this.namespace=a.namespace,this.client=a.client,this.events=a.events,this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(a){var b;switch(a.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return this.handleSwitchChain(a.request.params?null==(b=a.request.params[0])?void 0:b.chainId:"0x0"),null;case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(a.request.method)?(hg(this.client,a),await this.client.request(a)):this.getHttpProvider().request(a.request)}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}setDefaultChain(a,b){let c=he(a);if(!this.httpProviders[c]){let d=b||hd(`${this.name}:${c}`,this.namespace,this.client.core.projectId);if(!d)throw Error(`No RPC url provided for chainId: ${c}`);this.setHttpProvider(c,d)}this.chainId=c,this.events.emit(g1.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}createHttpProvider(a,b){let c=b||hd(`${this.name}:${a}`,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new d2(new gZ(c))}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;let d=he(b);a[d]=this.createHttpProvider(d,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}getHttpProvider(){let a=this.chainId,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}handleSwitchChain(a){let b=parseInt(a,16),c=`${this.name}:${b}`;(function(a,b){if(!b.includes(a))throw Error(`Chain '${a}' not approved. Please use one of the following: ${b.toString()}`)})(c,this.namespace.chains),this.setDefaultChain(`${b}`)}}class hk{constructor(a){this.name="solana",this.namespace=a.namespace,this.events=a.events,this.client=a.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}request(a){return this.namespace.methods.includes(a.request.method)?(hg(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(!this.httpProviders[a]){let c=b||hd(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.chainId=a,this.events.emit(g1.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||hd(a,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new d2(new g$(c))}}class hl{constructor(a){this.name="cosmos",this.namespace=a.namespace,this.events=a.events,this.client=a.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}request(a){return this.namespace.methods.includes(a.request.method)?(hg(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(this.chainId=a,!this.httpProviders[a]){let c=b||hd(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.events.emit(g1.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||hd(a,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new d2(new g$(c))}}class hm{constructor(a){this.name="cip34",this.namespace=a.namespace,this.events=a.events,this.client=a.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}request(a){return this.namespace.methods.includes(a.request.method)?(hg(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(this.chainId=a,!this.httpProviders[a]){let c=b||this.getCardanoRPCUrl(a);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.events.emit(g1.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{let c=this.getCardanoRPCUrl(b);a[b]=this.createHttpProvider(b,c)}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}getCardanoRPCUrl(a){let b=this.namespace.rpcMap;if(b)return b[a]}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||this.getCardanoRPCUrl(a);return typeof c>"u"?void 0:new d2(new g$(c))}}class hn{constructor(a){this.name="elrond",this.namespace=a.namespace,this.events=a.events,this.client=a.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}request(a){return this.namespace.methods.includes(a.request.method)?(hg(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(!this.httpProviders[a]){let c=b||hd(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.chainId=a,this.events.emit(g1.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||hd(a,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new d2(new g$(c))}}class ho{constructor(a){this.name="multiversx",this.namespace=a.namespace,this.events=a.events,this.client=a.client,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}request(a){return this.namespace.methods.includes(a.request.method)?(hg(this.client,a),this.client.request(a)):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(!this.httpProviders[a]){let c=b||hd(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.chainId=a,this.events.emit(g1.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||hd(a,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new d2(new g$(c))}}var hp=Object.defineProperty,hq=Object.defineProperties,hr=Object.getOwnPropertyDescriptors,hs=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,hu=Object.prototype.propertyIsEnumerable,hv=(a,b,c)=>b in a?hp(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,hw=(a,b)=>{for(var c in b||(b={}))ht.call(b,c)&&hv(a,c,b[c]);if(hs)for(var c of hs(b))hu.call(b,c)&&hv(a,c,b[c]);return a},hx=(a,b)=>hq(a,hr(b));class hy{constructor(a){this.events=new(s()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.providerOpts=a,this.logger="u">typeof a?.logger&&"string"!=typeof a?.logger?a.logger:(0,bD.pino)((0,bD.getDefaultLoggerOptions)({level:a?.logger||g_}))}static async init(a){let b=new hy(a);return await b.initialize(),b}async request(a,b){let[c,d]=this.validateChain(b);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(c).request({request:hw({},a),chainId:`${c}:${d}`,topic:this.session.topic})}sendAsync(a,b,c){this.request(a,c).then(a=>b(null,a)).catch(a=>b(a,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var a;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(a=this.session)?void 0:a.topic,reason:gN("USER_DISCONNECTED")}),await this.cleanup()}async connect(a){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(a),await this.cleanupPendingPairings(),!a.skipPairing)return await this.pair(a.pairingTopic)}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}removeListener(a,b){this.events.removeListener(a,b)}off(a,b){this.events.off(a,b)}get isWalletConnect(){return!0}async pair(a){this.shouldAbortPairingAttempt=!1;let b=0;do{if(this.shouldAbortPairingAttempt)throw Error("Pairing aborted");if(b>=this.maxPairingAttempts)throw Error("Max auto pairing attempts reached");let{uri:c,approval:d}=await this.client.connect({pairingTopic:a,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});c&&(this.uri=c,this.events.emit("display_uri",c)),await d().then(a=>{this.session=a}).catch(a=>{if(a.message!==f_)throw a;b++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(a,b){try{let[c,d]=this.validateChain(a);this.getProvider(c).setDefaultChain(d,b)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(a={}){this.logger.info("Cleaning up inactive pairings...");let b=this.client.pairing.getAll();if(gO(b)){for(let c of b)a.deletePairings?this.client.core.expirer.set(c.topic,0):await this.client.core.relayer.subscriber.unsubscribe(c.topic);this.logger.info(`Inactive pairings cleared: ${b.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let a=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[a]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await gd.init({logger:this.providerOpts.logger||g_,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");[...new Set(Object.keys(this.session.namespaces).map(a=>gJ(a)))].forEach(a=>{var b;if(!this.session)return;let c=function(a,b){let c=Object.keys(b.namespaces).filter(b=>b.includes(a));if(!c.length)return[];let d=[];return c.forEach(a=>{let c=b.namespaces[a].accounts;d.push(...c)}),d}(a,this.session),d=(b=c).map(a=>`${a.split(":")[0]}:${a.split(":")[1]}`),e=function(a,b={}){let c=hf(a),d=hf(b);return g3.exports.merge(c,d)}(this.namespaces,this.optionalNamespaces),f=hx(hw({},e[a]),{accounts:c,chains:d});switch(a){case"eip155":this.rpcProviders[a]=new hj({client:this.client,namespace:f,events:this.events});break;case"solana":this.rpcProviders[a]=new hk({client:this.client,namespace:f,events:this.events});break;case"cosmos":this.rpcProviders[a]=new hl({client:this.client,namespace:f,events:this.events});break;case"polkadot":this.rpcProviders[a]=new hi({client:this.client,namespace:f,events:this.events});break;case"cip34":this.rpcProviders[a]=new hm({client:this.client,namespace:f,events:this.events});break;case"elrond":this.rpcProviders[a]=new hn({client:this.client,namespace:f,events:this.events});break;case"multiversx":this.rpcProviders[a]=new ho({client:this.client,namespace:f,events:this.events})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",a=>{this.events.emit("session_ping",a)}),this.client.on("session_event",a=>{let{params:b}=a,{event:c}=b;"accountsChanged"===c.name?this.events.emit("accountsChanged",c.data):"chainChanged"===c.name?this.onChainChanged(b.chainId):this.events.emit(c.name,c.data),this.events.emit("session_event",a)}),this.client.on("session_update",({topic:a,params:b})=>{var c;let{namespaces:d}=b,e=null==(c=this.client)?void 0:c.session.get(a);this.session=hx(hw({},e),{namespaces:d}),this.onSessionUpdate(),this.events.emit("session_update",{topic:a,params:b})}),this.client.on("session_delete",async a=>{await this.cleanup(),this.events.emit("session_delete",a),this.events.emit("disconnect",hx(hw({},gN("USER_DISCONNECTED")),{data:a.topic}))}),this.on(g1.DEFAULT_CHAIN_CHANGED,a=>{this.onChainChanged(a,!0)})}getProvider(a){if(!this.rpcProviders[a])throw Error(`Provider not found: ${a}`);return this.rpcProviders[a]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(a=>{var b;this.getProvider(a).updateNamespace(null==(b=this.session)?void 0:b.namespaces[a])})}setNamespaces(a){let{namespaces:b,optionalNamespaces:c,sessionProperties:d}=a;if(!b||!Object.keys(b).length)throw Error("Namespaces must be not empty");this.namespaces=b,this.optionalNamespaces=c,this.sessionProperties=d,this.persist("namespaces",b),this.persist("optionalNamespaces",c)}validateChain(a){let[b,c]=a?.split(":")||["",""];if(b&&!Object.keys(this.namespaces).map(a=>gJ(a)).includes(b))throw Error(`Namespace '${b}' is not configured. Please call connect() first with namespace config.`);if(b&&c)return[b,c];let d=gJ(Object.keys(this.namespaces)[0]),e=this.rpcProviders[d].getDefaultChain();return[d,e]}async requestAccounts(){let[a]=this.validateChain();return await this.getProvider(a).requestAccounts()}onChainChanged(a,b=!1){var c;let[d,e]=this.validateChain(a);b||this.getProvider(d).setDefaultChain(e),(null!=(c=this.namespaces[d])?c:this.namespaces[`${d}:${e}`]).defaultChain=e,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",e)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(a,b){this.client.core.storage.setItem(`${g0}/${a}`,b)}async getFromStore(a){return await this.client.core.storage.getItem(`${g0}/${a}`)}}let hz=hy,hA=["eth_sendTransaction","personal_sign"],hB=["eth_accounts","eth_requestAccounts","eth_call","eth_getBalance","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],hC=["chainChanged","accountsChanged"],hD=["message","disconnect","connect"];var hE=Object.defineProperty,hF=Object.defineProperties,hG=Object.getOwnPropertyDescriptors,hH=Object.getOwnPropertySymbols,hI=Object.prototype.hasOwnProperty,hJ=Object.prototype.propertyIsEnumerable,hK=(a,b,c)=>b in a?hE(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,hL=(a,b)=>{for(var c in b||(b={}))hI.call(b,c)&&hK(a,c,b[c]);if(hH)for(var c of hH(b))hJ.call(b,c)&&hK(a,c,b[c]);return a},hM=(a,b)=>hF(a,hG(b));function hN(a){return Number(a[0].split(":")[1])}function hO(a){return`0x${a.toString(16)}`}class hP{constructor(){this.events=new r.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(a,b)=>(this.events.on(a,b),this),this.once=(a,b)=>(this.events.once(a,b),this),this.removeListener=(a,b)=>(this.events.removeListener(a,b),this),this.off=(a,b)=>(this.events.off(a,b),this),this.parseAccount=a=>this.isCompatibleChainId(a)?this.parseAccountId(a).address:a,this.signer={},this.rpc={}}static async init(a){let b=new hP;return await b.initialize(a),b}async request(a){return await this.signer.request(a,this.formatChainId(this.chainId))}sendAsync(a,b){this.signer.sendAsync(a,b,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(a){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(a);let{required:b,optional:c}=function(a){let{chains:b,optionalChains:c,methods:d,optionalMethods:e,events:f,optionalEvents:g,rpcMap:h}=a;if(!bt(b))throw Error("Invalid chains");let i=b,j=d||hA,k=f||hC,l={[hN(i)]:h[hN(i)]},m={chains:i,methods:j,events:k,rpcMap:l},n=f?.filter(a=>!hC.includes(a)),o=d?.filter(a=>!hA.includes(a));if(!c&&!g&&!e&&!(null!=n&&n.length)&&!(null!=o&&o.length))return{required:m};let p=n?.length&&o?.length||!c,q={chains:[...new Set(p?i.concat(c||[]):c)],methods:[...new Set(j.concat(e||[]))],events:[...new Set(k.concat(g||[]))],rpcMap:h};return{required:m,optional:q}}(this.rpc);try{let d=await new Promise(async(d,e)=>{var f;this.rpc.showQrModal&&(null==(f=this.modal)||f.subscribeModal(a=>{a.open||this.signer.session||(this.signer.abortPairingAttempt(),e(Error("Connection request reset. Please try again.")))})),await this.signer.connect(hM(hL({namespaces:{[this.namespace]:b}},c&&{optionalNamespaces:{[this.namespace]:c}}),{pairingTopic:a?.pairingTopic})).then(a=>{d(a)}).catch(a=>{e(Error(a.message))})});if(!d)return;this.setChainIds(this.rpc.chains);let e=function(a,b=[]){let c=[];return Object.keys(a).forEach(d=>{if(b.length&&!b.includes(d))return;let e=a[d];c.push(...e.accounts)}),c}(d.namespaces,[this.namespace]);this.setAccounts(e),this.events.emit("connect",{chainId:hO(this.chainId)})}catch(f){throw this.signer.logger.error(f),f}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",a=>{let{params:b}=a,{event:c}=b;"accountsChanged"===c.name?(this.accounts=this.parseAccounts(c.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===c.name?this.setChainId(this.formatChainId(c.data)):this.events.emit(c.name,c.data),this.events.emit("session_event",a)}),this.signer.on("chainChanged",a=>{let b=parseInt(a);this.chainId=b,this.events.emit("chainChanged",hO(this.chainId)),this.persist()}),this.signer.on("session_update",a=>{this.events.emit("session_update",a)}),this.signer.on("session_delete",a=>{this.reset(),this.events.emit("session_delete",a),this.events.emit("disconnect",hM(hL({},bs("USER_DISCONNECTED")),{data:a.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",a=>{var b,c;this.rpc.showQrModal&&(null==(b=this.modal)||b.closeModal(),null==(c=this.modal)||c.openModal({uri:a})),this.events.emit("display_uri",a)})}setHttpProvider(a){this.request({method:"wallet_switchEthereumChain",params:[{chainId:a.toString(16)}]})}isCompatibleChainId(a){return"string"==typeof a&&a.startsWith(`${this.namespace}:`)}formatChainId(a){return`${this.namespace}:${a}`}parseChainId(a){return Number(a.split(":")[1])}setChainIds(a){let b=a.filter(a=>this.isCompatibleChainId(a)).map(a=>this.parseChainId(a));b.length&&(this.chainId=b[0],this.events.emit("chainChanged",hO(this.chainId)),this.persist())}setChainId(a){if(this.isCompatibleChainId(a)){let b=this.parseChainId(a);this.chainId=b,this.setHttpProvider(b)}}parseAccountId(a){let[b,c,d]=a.split(":");return{chainId:`${b}:${c}`,address:d}}setAccounts(a){this.accounts=a.filter(a=>this.parseChainId(this.parseAccountId(a).chainId)===this.chainId).map(a=>this.parseAccountId(a).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(a){var b,c;return{chains:(null==(b=a.chains)?void 0:b.map(a=>this.formatChainId(a)))||[`${this.namespace}:1`],optionalChains:a.optionalChains?a.optionalChains.map(a=>this.formatChainId(a)):void 0,methods:a?.methods||hA,events:a?.events||hC,optionalMethods:a?.optionalMethods||[],optionalEvents:a?.optionalEvents||[],rpcMap:a?.rpcMap||this.buildRpcMap(a.chains.concat(a.optionalChains||[]),a.projectId),showQrModal:Boolean(a?.showQrModal),qrModalOptions:null!=(c=a?.qrModalOptions)?c:void 0,projectId:a.projectId,metadata:a.metadata}}buildRpcMap(a,b){let c={};return a.forEach(a=>{c[a]=this.getRpcUrl(a,b)}),c}async initialize(a){if(this.rpc=this.getRpcConfig(a),this.chainId=hN(this.rpc.chains),this.signer=await hz.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal)try{let{Web3Modal:b}=await Promise.all([c.e(8764),c.e(4599)]).then(c.bind(c,64599));this.modal=new b(hL({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch{throw Error("To use QR modal, please install @web3modal/standalone package")}}loadConnectOpts(a){if(!a)return;let{chains:b,optionalChains:c,rpcMap:d}=a;b&&bt(b)&&(this.rpc.chains=b.map(a=>this.formatChainId(a)),b.forEach(a=>{this.rpc.rpcMap[a]=d?.[a]||this.getRpcUrl(a)})),c&&bt(c)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=c?.map(a=>this.formatChainId(a)),c.forEach(a=>{this.rpc.rpcMap[a]=d?.[a]||this.getRpcUrl(a)}))}getRpcUrl(a,b){var c;return(null==(c=this.rpc.rpcMap)?void 0:c[a])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${a}&projectId=${b||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let a=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`);this.setChainIds(a?[this.formatChainId(a)]:this.session.namespaces[this.namespace].accounts),this.setAccounts(this.session.namespaces[this.namespace].accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(a){return"string"==typeof a||a instanceof String?[this.parseAccount(a)]:a.map(a=>this.parseAccount(a))}}let hQ=hP},61429:function(a){"use strict";var b="%[a-f0-9]{2}",c=RegExp("("+b+")|([^%]+?)","gi"),d=RegExp("("+b+")+","gi");function e(a,b){try{return[decodeURIComponent(a.join(""))]}catch(c){}if(1===a.length)return a;b=b||1;var d=a.slice(0,b),f=a.slice(b);return Array.prototype.concat.call([],e(d),e(f))}function f(a){try{return decodeURIComponent(a)}catch(b){for(var d=a.match(c)||[],f=1;f<d.length;f++)d=(a=e(d,f).join("")).match(c)||[];return a}}a.exports=function(a){if("string"!=typeof a)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return a=a.replace(/\+/g," "),decodeURIComponent(a)}catch(b){return function(a){for(var b={"%FE%FF":"��","%FF%FE":"��"},c=d.exec(a);c;){try{b[c[0]]=decodeURIComponent(c[0])}catch(e){var g=f(c[0]);g!==c[0]&&(b[c[0]]=g)}c=d.exec(a)}b["%C2"]="�";for(var h=Object.keys(b),i=0;i<h.length;i++){var j=h[i];a=a.replace(RegExp(j,"g"),b[j])}return a}(a)}}},69528:function(a,b,c){"use strict";let d=c(70610),e=c(61429),f=c(80500),g=c(92806),h=a=>null==a,i=Symbol("encodeFragmentIdentifier");function j(a){if("string"!=typeof a||1!==a.length)throw TypeError("arrayFormatSeparator must be single character string")}function k(a,b){return b.encode?b.strict?d(a):encodeURIComponent(a):a}function l(a,b){return b.decode?e(a):a}function m(a){return Array.isArray(a)?a.sort():"object"==typeof a?m(Object.keys(a)).sort((a,b)=>Number(a)-Number(b)).map(b=>a[b]):a}function n(a){let b=a.indexOf("#");return -1!==b&&(a=a.slice(0,b)),a}function o(a){a=n(a);let b=a.indexOf("?");return -1===b?"":a.slice(b+1)}function p(a,b){return b.parseNumbers&&!Number.isNaN(Number(a))&&"string"==typeof a&&""!==a.trim()?a=Number(a):b.parseBooleans&&null!==a&&("true"===a.toLowerCase()||"false"===a.toLowerCase())&&(a="true"===a.toLowerCase()),a}function q(a,b){j((b=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},b)).arrayFormatSeparator);let c=function(a){let b;switch(a.arrayFormat){case"index":return(a,c,d)=>{if(b=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),!b){d[a]=c;return}void 0===d[a]&&(d[a]={}),d[a][b[1]]=c};case"bracket":return(a,c,d)=>{if(b=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),!b){d[a]=c;return}if(void 0===d[a]){d[a]=[c];return}d[a]=[].concat(d[a],c)};case"colon-list-separator":return(a,c,d)=>{if(b=/(:list)$/.exec(a),a=a.replace(/:list$/,""),!b){d[a]=c;return}if(void 0===d[a]){d[a]=[c];return}d[a]=[].concat(d[a],c)};case"comma":case"separator":return(b,c,d)=>{let e="string"==typeof c&&c.includes(a.arrayFormatSeparator),f="string"==typeof c&&!e&&l(c,a).includes(a.arrayFormatSeparator);c=f?l(c,a):c;let g=e||f?c.split(a.arrayFormatSeparator).map(b=>l(b,a)):null===c?c:l(c,a);d[b]=g};case"bracket-separator":return(b,c,d)=>{let e=/(\[\])$/.test(b);if(b=b.replace(/\[\]$/,""),!e){d[b]=c?l(c,a):c;return}let f=null===c?[]:c.split(a.arrayFormatSeparator).map(b=>l(b,a));if(void 0===d[b]){d[b]=f;return}d[b]=[].concat(d[b],f)};default:return(a,b,c)=>{if(void 0===c[a]){c[a]=b;return}c[a]=[].concat(c[a],b)}}}(b),d=Object.create(null);if("string"!=typeof a||!(a=a.trim().replace(/^[?#&]/,"")))return d;for(let e of a.split("&")){if(""===e)continue;let[g,h]=f(b.decode?e.replace(/\+/g," "):e,"=");h=void 0===h?null:["comma","separator","bracket-separator"].includes(b.arrayFormat)?h:l(h,b),c(l(g,b),h,d)}for(let i of Object.keys(d)){let k=d[i];if("object"==typeof k&&null!==k)for(let n of Object.keys(k))k[n]=p(k[n],b);else d[i]=p(k,b)}return!1===b.sort?d:(!0===b.sort?Object.keys(d).sort():Object.keys(d).sort(b.sort)).reduce((a,b)=>{let c=d[b];return Boolean(c)&&"object"==typeof c&&!Array.isArray(c)?a[b]=m(c):a[b]=c,a},Object.create(null))}b.extract=o,b.parse=q,b.stringify=(a,b)=>{if(!a)return"";j((b=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},b)).arrayFormatSeparator);let c=c=>b.skipNull&&h(a[c])||b.skipEmptyString&&""===a[c],d=function(a){switch(a.arrayFormat){case"index":return b=>(c,d)=>{let e=c.length;return void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),"[",e,"]"].join("")]:[...c,[k(b,a),"[",k(e,a),"]=",k(d,a)].join("")]};case"bracket":return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),"[]"].join("")]:[...c,[k(b,a),"[]=",k(d,a)].join("")];case"colon-list-separator":return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),":list="].join("")]:[...c,[k(b,a),":list=",k(d,a)].join("")];case"comma":case"separator":case"bracket-separator":{let b="bracket-separator"===a.arrayFormat?"[]=":"=";return c=>(d,e)=>void 0===e||a.skipNull&&null===e||a.skipEmptyString&&""===e?d:(e=null===e?"":e,0===d.length)?[[k(c,a),b,k(e,a)].join("")]:[[d,k(e,a)].join(a.arrayFormatSeparator)]}default:return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,k(b,a)]:[...c,[k(b,a),"=",k(d,a)].join("")]}}(b),e={};for(let f of Object.keys(a))c(f)||(e[f]=a[f]);let g=Object.keys(e);return!1!==b.sort&&g.sort(b.sort),g.map(c=>{let e=a[c];return void 0===e?"":null===e?k(c,b):Array.isArray(e)?0===e.length&&"bracket-separator"===b.arrayFormat?k(c,b)+"[]":e.reduce(d(c),[]).join("&"):k(c,b)+"="+k(e,b)}).filter(a=>a.length>0).join("&")},b.parseUrl=(a,b)=>{b=Object.assign({decode:!0},b);let[c,d]=f(a,"#");return Object.assign({url:c.split("?")[0]||"",query:q(o(a),b)},b&&b.parseFragmentIdentifier&&d?{fragmentIdentifier:l(d,b)}:{})},b.stringifyUrl=(a,c)=>{c=Object.assign({encode:!0,strict:!0,[i]:!0},c);let d=n(a.url).split("?")[0]||"",e=b.extract(a.url),f=b.parse(e,{sort:!1}),g=Object.assign(f,a.query),h=b.stringify(g,c);h&&(h=`?${h}`);let j=function(a){let b="",c=a.indexOf("#");return -1!==c&&(b=a.slice(c)),b}(a.url);return a.fragmentIdentifier&&(j=`#${c[i]?k(a.fragmentIdentifier,c):a.fragmentIdentifier}`),`${d}${h}${j}`},b.pick=(a,c,d)=>{d=Object.assign({parseFragmentIdentifier:!0,[i]:!1},d);let{url:e,query:f,fragmentIdentifier:h}=b.parseUrl(a,d);return b.stringifyUrl({url:e,query:g(f,c),fragmentIdentifier:h},d)},b.exclude=(a,c,d)=>{let e=Array.isArray(c)?a=>!c.includes(a):(a,b)=>!c(a,b);return b.pick(a,e,d)}},38200:function(a,b,c){"use strict";c.d(b,{q:function(){return d}});class d{}},30997:function(a,b,c){"use strict";c.r(b),c.d(b,{IEvents:function(){return d.q}});var d=c(38200)},32568:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.HEARTBEAT_EVENTS=b.HEARTBEAT_INTERVAL=void 0;let d=c(66736);b.HEARTBEAT_INTERVAL=d.FIVE_SECONDS,b.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},53401:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(39653);d.__exportStar(c(32568),b)},38969:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.HeartBeat=void 0;let d=c(39653),e=c(17187),f=c(66736),g=c(1614),h=c(53401);class i extends g.IHeartBeat{constructor(a){super(a),this.events=new e.EventEmitter,this.interval=h.HEARTBEAT_INTERVAL,this.interval=(null==a?void 0:a.interval)||h.HEARTBEAT_INTERVAL}static init(a){return d.__awaiter(this,void 0,void 0,function*(){let b=new i(a);return yield b.init(),b})}init(){return d.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}initialize(){return d.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),f.toMiliseconds(this.interval))})}pulse(){this.events.emit(h.HEARTBEAT_EVENTS.pulse)}}b.HeartBeat=i},90772:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(39653);d.__exportStar(c(38969),b),d.__exportStar(c(1614),b),d.__exportStar(c(53401),b)},48393:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IHeartBeat=void 0;let d=c(30997);class e extends d.IEvents{constructor(a){super()}}b.IHeartBeat=e},1614:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(39653);d.__exportStar(c(48393),b)},39653:function(a,b,c){"use strict";c.r(b),c.d(b,{"__assign":function(){return f},"__asyncDelegator":function(){return u},"__asyncGenerator":function(){return t},"__asyncValues":function(){return v},"__await":function(){return s},"__awaiter":function(){return k},"__classPrivateFieldGet":function(){return z},"__classPrivateFieldSet":function(){return A},"__createBinding":function(){return m},"__decorate":function(){return h},"__exportStar":function(){return n},"__extends":function(){return e},"__generator":function(){return l},"__importDefault":function(){return y},"__importStar":function(){return x},"__makeTemplateObject":function(){return w},"__metadata":function(){return j},"__param":function(){return i},"__read":function(){return p},"__rest":function(){return g},"__spread":function(){return q},"__spreadArrays":function(){return r},"__values":function(){return o}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)};function e(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function i(a,b){return function(c,d){b(c,d,a)}}function j(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function k(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function l(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(h){f=[6,h],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function m(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}function n(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])}function o(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function q(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(p(arguments[b]));return a}function r(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function s(a){return this instanceof s?(this.v=a,this):new s(a)}function t(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{i(e[a](b))}catch(c){l(f[0][3],c)}}function i(a){a.value instanceof s?Promise.resolve(a.value.v).then(j,k):l(f[0][2],a)}function j(a){h("next",a)}function k(a){h("throw",a)}function l(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function u(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:s(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function v(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=o(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){e(d,f,(b=a[c](b)).done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function w(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function x(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function y(a){return a&&a.__esModule?a:{default:a}}function z(a,b){if(!b.has(a))throw TypeError("attempted to get private field on non-instance");return b.get(a)}function A(a,b,c){if(!b.has(a))throw TypeError("attempted to set private field on non-instance");return b.set(a,c),c}},638:function(a,b,c){"use strict";function d(){return(null===c.g|| void 0===c.g?void 0:c.g.crypto)||(null===c.g|| void 0===c.g?void 0:c.g.msCrypto)||{}}function e(){let a=d();return a.subtle||a.webkitSubtle}Object.defineProperty(b,"__esModule",{value:!0}),b.isBrowserCryptoAvailable=b.getSubtleCrypto=b.getBrowerCrypto=void 0,b.getBrowerCrypto=d,b.getSubtleCrypto=e,b.isBrowserCryptoAvailable=function(){return!!d()&&!!e()}},19066:function(a,b,c){"use strict";var d=c(34155);function e(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function f(){return void 0!==d&& void 0!==d.versions&& void 0!==d.versions.node}Object.defineProperty(b,"__esModule",{value:!0}),b.isBrowser=b.isNode=b.isReactNative=void 0,b.isReactNative=e,b.isNode=f,b.isBrowser=function(){return!e()&&!f()}},93109:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(46924);d.__exportStar(c(638),b),d.__exportStar(c(19066),b)},46924:function(a,b,c){"use strict";c.r(b),c.d(b,{"__assign":function(){return f},"__asyncDelegator":function(){return u},"__asyncGenerator":function(){return t},"__asyncValues":function(){return v},"__await":function(){return s},"__awaiter":function(){return k},"__classPrivateFieldGet":function(){return z},"__classPrivateFieldSet":function(){return A},"__createBinding":function(){return m},"__decorate":function(){return h},"__exportStar":function(){return n},"__extends":function(){return e},"__generator":function(){return l},"__importDefault":function(){return y},"__importStar":function(){return x},"__makeTemplateObject":function(){return w},"__metadata":function(){return j},"__param":function(){return i},"__read":function(){return p},"__rest":function(){return g},"__spread":function(){return q},"__spreadArrays":function(){return r},"__values":function(){return o}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)};function e(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function i(a,b){return function(c,d){b(c,d,a)}}function j(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function k(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function l(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(h){f=[6,h],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function m(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}function n(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])}function o(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function q(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(p(arguments[b]));return a}function r(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function s(a){return this instanceof s?(this.v=a,this):new s(a)}function t(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{i(e[a](b))}catch(c){l(f[0][3],c)}}function i(a){a.value instanceof s?Promise.resolve(a.value.v).then(j,k):l(f[0][2],a)}function j(a){h("next",a)}function k(a){h("throw",a)}function l(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function u(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:s(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function v(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=o(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){e(d,f,(b=a[c](b)).done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function w(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function x(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function y(a){return a&&a.__esModule?a:{default:a}}function z(a,b){if(!b.has(a))throw TypeError("attempted to get private field on non-instance");return b.get(a)}function A(a,b,c){if(!b.has(a))throw TypeError("attempted to set private field on non-instance");return b.set(a,c),c}},72030:function(a){"use strict";a.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},85150:function(a,b,c){"use strict";let d=c(33893),e=c(63954),f=d.__importDefault(c(30653)),g=c(59728);b.ZP=class a{constructor(){this.localStorage=f.default}getKeys(){return d.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return d.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(g.parseEntry)})}getItem(a){return d.__awaiter(this,void 0,void 0,function*(){let b=this.localStorage.getItem(a);if(null!==b)return e.safeJsonParse(b)})}setItem(a,b){return d.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(a,e.safeJsonStringify(b))})}removeItem(a){return d.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(a)})}}},30653:function(a,b,c){"use strict";!function(){let b;function d(){}(b=d).prototype.getItem=function(a){return this.hasOwnProperty(a)?String(this[a]):null},b.prototype.setItem=function(a,b){this[a]=String(b)},b.prototype.removeItem=function(a){delete this[a]},b.prototype.clear=function(){let a=this;Object.keys(a).forEach(function(b){a[b]=void 0,delete a[b]})},b.prototype.key=function(a){return a=a||0,Object.keys(this)[a]},b.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),void 0!==c.g&&c.g.localStorage?a.exports=c.g.localStorage:"undefined"!=typeof window&&window.localStorage?a.exports=window.localStorage:a.exports=new d}()},59728:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(33893);d.__exportStar(c(39076),b),d.__exportStar(c(20496),b)},39076:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IKeyValueStorage=void 0,b.IKeyValueStorage=class{}},20496:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseEntry=void 0;let d=c(63954);b.parseEntry=function(a){var b;return[a[0],d.safeJsonParse(null!==(b=a[1])&& void 0!==b?b:"")]}},33893:function(a,b,c){"use strict";c.r(b),c.d(b,{"__assign":function(){return f},"__asyncDelegator":function(){return u},"__asyncGenerator":function(){return t},"__asyncValues":function(){return v},"__await":function(){return s},"__awaiter":function(){return k},"__classPrivateFieldGet":function(){return z},"__classPrivateFieldSet":function(){return A},"__createBinding":function(){return m},"__decorate":function(){return h},"__exportStar":function(){return n},"__extends":function(){return e},"__generator":function(){return l},"__importDefault":function(){return y},"__importStar":function(){return x},"__makeTemplateObject":function(){return w},"__metadata":function(){return j},"__param":function(){return i},"__read":function(){return p},"__rest":function(){return g},"__spread":function(){return q},"__spreadArrays":function(){return r},"__values":function(){return o}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)};function e(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function i(a,b){return function(c,d){b(c,d,a)}}function j(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function k(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function l(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(h){f=[6,h],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function m(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}function n(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])}function o(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function q(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(p(arguments[b]));return a}function r(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function s(a){return this instanceof s?(this.v=a,this):new s(a)}function t(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{i(e[a](b))}catch(c){l(f[0][3],c)}}function i(a){a.value instanceof s?Promise.resolve(a.value.v).then(j,k):l(f[0][2],a)}function j(a){h("next",a)}function k(a){h("throw",a)}function l(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function u(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:s(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function v(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=o(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){e(d,f,(b=a[c](b)).done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function w(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function x(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function y(a){return a&&a.__esModule?a:{default:a}}function z(a,b){if(!b.has(a))throw TypeError("attempted to get private field on non-instance");return b.get(a)}function A(a,b,c){if(!b.has(a))throw TypeError("attempted to set private field on non-instance");return b.set(a,c),c}},65727:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PINO_CUSTOM_CONTEXT_KEY=b.PINO_LOGGER_DEFAULTS=void 0,b.PINO_LOGGER_DEFAULTS={level:"info"},b.PINO_CUSTOM_CONTEXT_KEY="custom_context"},9107:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.pino=void 0;let d=c(57121),e=d.__importDefault(c(36559));Object.defineProperty(b,"pino",{enumerable:!0,get:function(){return e.default}}),d.__exportStar(c(65727),b),d.__exportStar(c(58048),b)},58048:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.generateChildLogger=b.formatChildLoggerContext=b.getLoggerContext=b.setBrowserLoggerContext=b.getBrowserLoggerContext=b.getDefaultLoggerOptions=void 0;let d=c(65727);function e(a,b=d.PINO_CUSTOM_CONTEXT_KEY){return a[b]||""}function f(a,b,c=d.PINO_CUSTOM_CONTEXT_KEY){return a[c]=b,a}function g(a,b=d.PINO_CUSTOM_CONTEXT_KEY){let c="";return void 0===a.bindings?e(a,b):a.bindings().context||""}function h(a,b,c=d.PINO_CUSTOM_CONTEXT_KEY){let e=g(a,c),f=e.trim()?`${e}/${b}`:b;return f}b.getDefaultLoggerOptions=function(a){return Object.assign(Object.assign({},a),{level:(null==a?void 0:a.level)||d.PINO_LOGGER_DEFAULTS.level})},b.getBrowserLoggerContext=e,b.setBrowserLoggerContext=f,b.getLoggerContext=g,b.formatChildLoggerContext=h,b.generateChildLogger=function(a,b,c=d.PINO_CUSTOM_CONTEXT_KEY){let e=h(a,b,c),g=a.child({context:e});return f(g,e,c)}},57121:function(a,b,c){"use strict";c.r(b),c.d(b,{"__assign":function(){return f},"__asyncDelegator":function(){return u},"__asyncGenerator":function(){return t},"__asyncValues":function(){return v},"__await":function(){return s},"__awaiter":function(){return k},"__classPrivateFieldGet":function(){return z},"__classPrivateFieldSet":function(){return A},"__createBinding":function(){return m},"__decorate":function(){return h},"__exportStar":function(){return n},"__extends":function(){return e},"__generator":function(){return l},"__importDefault":function(){return y},"__importStar":function(){return x},"__makeTemplateObject":function(){return w},"__metadata":function(){return j},"__param":function(){return i},"__read":function(){return p},"__rest":function(){return g},"__spread":function(){return q},"__spreadArrays":function(){return r},"__values":function(){return o}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)};function e(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function i(a,b){return function(c,d){b(c,d,a)}}function j(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function k(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function l(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(h){f=[6,h],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function m(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}function n(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])}function o(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function q(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(p(arguments[b]));return a}function r(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function s(a){return this instanceof s?(this.v=a,this):new s(a)}function t(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{i(e[a](b))}catch(c){l(f[0][3],c)}}function i(a){a.value instanceof s?Promise.resolve(a.value.v).then(j,k):l(f[0][2],a)}function j(a){h("next",a)}function k(a){h("throw",a)}function l(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function u(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:s(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function v(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=o(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){e(d,f,(b=a[c](b)).done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function w(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function x(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function y(a){return a&&a.__esModule?a:{default:a}}function z(a,b){if(!b.has(a))throw TypeError("attempted to get private field on non-instance");return b.get(a)}function A(a,b,c){if(!b.has(a))throw TypeError("attempted to set private field on non-instance");return b.set(a,c),c}},61882:function(){},43014:function(){},3638:function(a){"use strict";var b="%[a-f0-9]{2}",c=RegExp("("+b+")|([^%]+?)","gi"),d=RegExp("("+b+")+","gi");function e(a,b){try{return[decodeURIComponent(a.join(""))]}catch(c){}if(1===a.length)return a;b=b||1;var d=a.slice(0,b),f=a.slice(b);return Array.prototype.concat.call([],e(d),e(f))}function f(a){try{return decodeURIComponent(a)}catch(b){for(var d=a.match(c)||[],f=1;f<d.length;f++)d=(a=e(d,f).join("")).match(c)||[];return a}}a.exports=function(a){if("string"!=typeof a)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return a=a.replace(/\+/g," "),decodeURIComponent(a)}catch(b){return function(a){for(var b={"%FE%FF":"��","%FF%FE":"��"},c=d.exec(a);c;){try{b[c[0]]=decodeURIComponent(c[0])}catch(e){var g=f(c[0]);g!==c[0]&&(b[c[0]]=g)}c=d.exec(a)}b["%C2"]="�";for(var h=Object.keys(b),i=0;i<h.length;i++){var j=h[i];a=a.replace(RegExp(j,"g"),b[j])}return a}(a)}}},32871:function(a,b,c){"use strict";let d=c(70610),e=c(3638),f=c(80500),g=c(92806),h=a=>null==a,i=Symbol("encodeFragmentIdentifier");function j(a){if("string"!=typeof a||1!==a.length)throw TypeError("arrayFormatSeparator must be single character string")}function k(a,b){return b.encode?b.strict?d(a):encodeURIComponent(a):a}function l(a,b){return b.decode?e(a):a}function m(a){return Array.isArray(a)?a.sort():"object"==typeof a?m(Object.keys(a)).sort((a,b)=>Number(a)-Number(b)).map(b=>a[b]):a}function n(a){let b=a.indexOf("#");return -1!==b&&(a=a.slice(0,b)),a}function o(a){a=n(a);let b=a.indexOf("?");return -1===b?"":a.slice(b+1)}function p(a,b){return b.parseNumbers&&!Number.isNaN(Number(a))&&"string"==typeof a&&""!==a.trim()?a=Number(a):b.parseBooleans&&null!==a&&("true"===a.toLowerCase()||"false"===a.toLowerCase())&&(a="true"===a.toLowerCase()),a}function q(a,b){j((b=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},b)).arrayFormatSeparator);let c=function(a){let b;switch(a.arrayFormat){case"index":return(a,c,d)=>{if(b=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),!b){d[a]=c;return}void 0===d[a]&&(d[a]={}),d[a][b[1]]=c};case"bracket":return(a,c,d)=>{if(b=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),!b){d[a]=c;return}if(void 0===d[a]){d[a]=[c];return}d[a]=[].concat(d[a],c)};case"colon-list-separator":return(a,c,d)=>{if(b=/(:list)$/.exec(a),a=a.replace(/:list$/,""),!b){d[a]=c;return}if(void 0===d[a]){d[a]=[c];return}d[a]=[].concat(d[a],c)};case"comma":case"separator":return(b,c,d)=>{let e="string"==typeof c&&c.includes(a.arrayFormatSeparator),f="string"==typeof c&&!e&&l(c,a).includes(a.arrayFormatSeparator);c=f?l(c,a):c;let g=e||f?c.split(a.arrayFormatSeparator).map(b=>l(b,a)):null===c?c:l(c,a);d[b]=g};case"bracket-separator":return(b,c,d)=>{let e=/(\[\])$/.test(b);if(b=b.replace(/\[\]$/,""),!e){d[b]=c?l(c,a):c;return}let f=null===c?[]:c.split(a.arrayFormatSeparator).map(b=>l(b,a));if(void 0===d[b]){d[b]=f;return}d[b]=[].concat(d[b],f)};default:return(a,b,c)=>{if(void 0===c[a]){c[a]=b;return}c[a]=[].concat(c[a],b)}}}(b),d=Object.create(null);if("string"!=typeof a||!(a=a.trim().replace(/^[?#&]/,"")))return d;for(let e of a.split("&")){if(""===e)continue;let[g,h]=f(b.decode?e.replace(/\+/g," "):e,"=");h=void 0===h?null:["comma","separator","bracket-separator"].includes(b.arrayFormat)?h:l(h,b),c(l(g,b),h,d)}for(let i of Object.keys(d)){let k=d[i];if("object"==typeof k&&null!==k)for(let n of Object.keys(k))k[n]=p(k[n],b);else d[i]=p(k,b)}return!1===b.sort?d:(!0===b.sort?Object.keys(d).sort():Object.keys(d).sort(b.sort)).reduce((a,b)=>{let c=d[b];return Boolean(c)&&"object"==typeof c&&!Array.isArray(c)?a[b]=m(c):a[b]=c,a},Object.create(null))}b.extract=o,b.parse=q,b.stringify=(a,b)=>{if(!a)return"";j((b=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},b)).arrayFormatSeparator);let c=c=>b.skipNull&&h(a[c])||b.skipEmptyString&&""===a[c],d=function(a){switch(a.arrayFormat){case"index":return b=>(c,d)=>{let e=c.length;return void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),"[",e,"]"].join("")]:[...c,[k(b,a),"[",k(e,a),"]=",k(d,a)].join("")]};case"bracket":return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),"[]"].join("")]:[...c,[k(b,a),"[]=",k(d,a)].join("")];case"colon-list-separator":return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),":list="].join("")]:[...c,[k(b,a),":list=",k(d,a)].join("")];case"comma":case"separator":case"bracket-separator":{let b="bracket-separator"===a.arrayFormat?"[]=":"=";return c=>(d,e)=>void 0===e||a.skipNull&&null===e||a.skipEmptyString&&""===e?d:(e=null===e?"":e,0===d.length)?[[k(c,a),b,k(e,a)].join("")]:[[d,k(e,a)].join(a.arrayFormatSeparator)]}default:return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,k(b,a)]:[...c,[k(b,a),"=",k(d,a)].join("")]}}(b),e={};for(let f of Object.keys(a))c(f)||(e[f]=a[f]);let g=Object.keys(e);return!1!==b.sort&&g.sort(b.sort),g.map(c=>{let e=a[c];return void 0===e?"":null===e?k(c,b):Array.isArray(e)?0===e.length&&"bracket-separator"===b.arrayFormat?k(c,b)+"[]":e.reduce(d(c),[]).join("&"):k(c,b)+"="+k(e,b)}).filter(a=>a.length>0).join("&")},b.parseUrl=(a,b)=>{b=Object.assign({decode:!0},b);let[c,d]=f(a,"#");return Object.assign({url:c.split("?")[0]||"",query:q(o(a),b)},b&&b.parseFragmentIdentifier&&d?{fragmentIdentifier:l(d,b)}:{})},b.stringifyUrl=(a,c)=>{c=Object.assign({encode:!0,strict:!0,[i]:!0},c);let d=n(a.url).split("?")[0]||"",e=b.extract(a.url),f=b.parse(e,{sort:!1}),g=Object.assign(f,a.query),h=b.stringify(g,c);h&&(h=`?${h}`);let j=function(a){let b="",c=a.indexOf("#");return -1!==c&&(b=a.slice(c)),b}(a.url);return a.fragmentIdentifier&&(j=`#${c[i]?k(a.fragmentIdentifier,c):a.fragmentIdentifier}`),`${d}${h}${j}`},b.pick=(a,c,d)=>{d=Object.assign({parseFragmentIdentifier:!0,[i]:!1},d);let{url:e,query:f,fragmentIdentifier:h}=b.parseUrl(a,d);return b.stringifyUrl({url:e,query:g(f,c),fragmentIdentifier:h},d)},b.exclude=(a,c,d)=>{let e=Array.isArray(c)?a=>!c.includes(a):(a,b)=>!c(a,b);return b.pick(a,e,d)}},36900:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(30004);d.__exportStar(c(46869),b),d.__exportStar(c(88033),b)},46869:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ONE_THOUSAND=b.ONE_HUNDRED=void 0,b.ONE_HUNDRED=100,b.ONE_THOUSAND=1e3},88033:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ONE_YEAR=b.FOUR_WEEKS=b.THREE_WEEKS=b.TWO_WEEKS=b.ONE_WEEK=b.THIRTY_DAYS=b.SEVEN_DAYS=b.FIVE_DAYS=b.THREE_DAYS=b.ONE_DAY=b.TWENTY_FOUR_HOURS=b.TWELVE_HOURS=b.SIX_HOURS=b.THREE_HOURS=b.ONE_HOUR=b.SIXTY_MINUTES=b.THIRTY_MINUTES=b.TEN_MINUTES=b.FIVE_MINUTES=b.ONE_MINUTE=b.SIXTY_SECONDS=b.THIRTY_SECONDS=b.TEN_SECONDS=b.FIVE_SECONDS=b.ONE_SECOND=void 0,b.ONE_SECOND=1,b.FIVE_SECONDS=5,b.TEN_SECONDS=10,b.THIRTY_SECONDS=30,b.SIXTY_SECONDS=60,b.ONE_MINUTE=b.SIXTY_SECONDS,b.FIVE_MINUTES=5*b.ONE_MINUTE,b.TEN_MINUTES=10*b.ONE_MINUTE,b.THIRTY_MINUTES=30*b.ONE_MINUTE,b.SIXTY_MINUTES=60*b.ONE_MINUTE,b.ONE_HOUR=b.SIXTY_MINUTES,b.THREE_HOURS=3*b.ONE_HOUR,b.SIX_HOURS=6*b.ONE_HOUR,b.TWELVE_HOURS=12*b.ONE_HOUR,b.TWENTY_FOUR_HOURS=24*b.ONE_HOUR,b.ONE_DAY=b.TWENTY_FOUR_HOURS,b.THREE_DAYS=3*b.ONE_DAY,b.FIVE_DAYS=5*b.ONE_DAY,b.SEVEN_DAYS=7*b.ONE_DAY,b.THIRTY_DAYS=30*b.ONE_DAY,b.ONE_WEEK=b.SEVEN_DAYS,b.TWO_WEEKS=2*b.ONE_WEEK,b.THREE_WEEKS=3*b.ONE_WEEK,b.FOUR_WEEKS=4*b.ONE_WEEK,b.ONE_YEAR=365*b.ONE_DAY},66736:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(30004);d.__exportStar(c(44273),b),d.__exportStar(c(47001),b),d.__exportStar(c(52939),b),d.__exportStar(c(36900),b)},52939:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(30004);d.__exportStar(c(88766),b)},88766:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IWatch=void 0,b.IWatch=class{}},83207:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.fromMiliseconds=b.toMiliseconds=void 0;let d=c(36900);b.toMiliseconds=function(a){return a*d.ONE_THOUSAND},b.fromMiliseconds=function(a){return Math.floor(a/d.ONE_THOUSAND)}},83873:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.delay=void 0,b.delay=function(a){return new Promise(b=>{setTimeout(()=>{b(!0)},a)})}},44273:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(30004);d.__exportStar(c(83873),b),d.__exportStar(c(83207),b)},47001:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Watch=void 0;class c{constructor(){this.timestamps=new Map}start(a){if(this.timestamps.has(a))throw Error(`Watch already started for label: ${a}`);this.timestamps.set(a,{started:Date.now()})}stop(a){let b=this.get(a);if(void 0!==b.elapsed)throw Error(`Watch already stopped for label: ${a}`);let c=Date.now()-b.started;this.timestamps.set(a,{started:b.started,elapsed:c})}get(a){let b=this.timestamps.get(a);if(void 0===b)throw Error(`No timestamp found for label: ${a}`);return b}elapsed(a){let b=this.get(a),c=b.elapsed||Date.now()-b.started;return c}}b.Watch=c,b.default=c},30004:function(a,b,c){"use strict";c.r(b),c.d(b,{"__assign":function(){return f},"__asyncDelegator":function(){return u},"__asyncGenerator":function(){return t},"__asyncValues":function(){return v},"__await":function(){return s},"__awaiter":function(){return k},"__classPrivateFieldGet":function(){return z},"__classPrivateFieldSet":function(){return A},"__createBinding":function(){return m},"__decorate":function(){return h},"__exportStar":function(){return n},"__extends":function(){return e},"__generator":function(){return l},"__importDefault":function(){return y},"__importStar":function(){return x},"__makeTemplateObject":function(){return w},"__metadata":function(){return j},"__param":function(){return i},"__read":function(){return p},"__rest":function(){return g},"__spread":function(){return q},"__spreadArrays":function(){return r},"__values":function(){return o}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)};function e(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function i(a,b){return function(c,d){b(c,d,a)}}function j(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function k(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function l(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(h){f=[6,h],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function m(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}function n(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])}function o(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function q(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(p(arguments[b]));return a}function r(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function s(a){return this instanceof s?(this.v=a,this):new s(a)}function t(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{i(e[a](b))}catch(c){l(f[0][3],c)}}function i(a){a.value instanceof s?Promise.resolve(a.value.v).then(j,k):l(f[0][2],a)}function j(a){h("next",a)}function k(a){h("throw",a)}function l(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function u(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:s(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function v(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=o(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){e(d,f,(b=a[c](b)).done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function w(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function x(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function y(a){return a&&a.__esModule?a:{default:a}}function z(a,b){if(!b.has(a))throw TypeError("attempted to get private field on non-instance");return b.get(a)}function A(a,b,c){if(!b.has(a))throw TypeError("attempted to set private field on non-instance");return b.set(a,c),c}},79981:function(a){"use strict";var b="%[a-f0-9]{2}",c=RegExp("("+b+")|([^%]+?)","gi"),d=RegExp("("+b+")+","gi");function e(a,b){try{return[decodeURIComponent(a.join(""))]}catch(c){}if(1===a.length)return a;b=b||1;var d=a.slice(0,b),f=a.slice(b);return Array.prototype.concat.call([],e(d),e(f))}function f(a){try{return decodeURIComponent(a)}catch(b){for(var d=a.match(c)||[],f=1;f<d.length;f++)d=(a=e(d,f).join("")).match(c)||[];return a}}a.exports=function(a){if("string"!=typeof a)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return a=a.replace(/\+/g," "),decodeURIComponent(a)}catch(b){return function(a){for(var b={"%FE%FF":"��","%FF%FE":"��"},c=d.exec(a);c;){try{b[c[0]]=decodeURIComponent(c[0])}catch(e){var g=f(c[0]);g!==c[0]&&(b[c[0]]=g)}c=d.exec(a)}b["%C2"]="�";for(var h=Object.keys(b),i=0;i<h.length;i++){var j=h[i];a=a.replace(RegExp(j,"g"),b[j])}return a}(a)}}},94543:function(a,b,c){"use strict";let d=c(70610),e=c(79981),f=c(80500),g=c(92806),h=a=>null==a,i=Symbol("encodeFragmentIdentifier");function j(a){if("string"!=typeof a||1!==a.length)throw TypeError("arrayFormatSeparator must be single character string")}function k(a,b){return b.encode?b.strict?d(a):encodeURIComponent(a):a}function l(a,b){return b.decode?e(a):a}function m(a){return Array.isArray(a)?a.sort():"object"==typeof a?m(Object.keys(a)).sort((a,b)=>Number(a)-Number(b)).map(b=>a[b]):a}function n(a){let b=a.indexOf("#");return -1!==b&&(a=a.slice(0,b)),a}function o(a){a=n(a);let b=a.indexOf("?");return -1===b?"":a.slice(b+1)}function p(a,b){return b.parseNumbers&&!Number.isNaN(Number(a))&&"string"==typeof a&&""!==a.trim()?a=Number(a):b.parseBooleans&&null!==a&&("true"===a.toLowerCase()||"false"===a.toLowerCase())&&(a="true"===a.toLowerCase()),a}function q(a,b){j((b=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},b)).arrayFormatSeparator);let c=function(a){let b;switch(a.arrayFormat){case"index":return(a,c,d)=>{if(b=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),!b){d[a]=c;return}void 0===d[a]&&(d[a]={}),d[a][b[1]]=c};case"bracket":return(a,c,d)=>{if(b=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),!b){d[a]=c;return}if(void 0===d[a]){d[a]=[c];return}d[a]=[].concat(d[a],c)};case"colon-list-separator":return(a,c,d)=>{if(b=/(:list)$/.exec(a),a=a.replace(/:list$/,""),!b){d[a]=c;return}if(void 0===d[a]){d[a]=[c];return}d[a]=[].concat(d[a],c)};case"comma":case"separator":return(b,c,d)=>{let e="string"==typeof c&&c.includes(a.arrayFormatSeparator),f="string"==typeof c&&!e&&l(c,a).includes(a.arrayFormatSeparator);c=f?l(c,a):c;let g=e||f?c.split(a.arrayFormatSeparator).map(b=>l(b,a)):null===c?c:l(c,a);d[b]=g};case"bracket-separator":return(b,c,d)=>{let e=/(\[\])$/.test(b);if(b=b.replace(/\[\]$/,""),!e){d[b]=c?l(c,a):c;return}let f=null===c?[]:c.split(a.arrayFormatSeparator).map(b=>l(b,a));if(void 0===d[b]){d[b]=f;return}d[b]=[].concat(d[b],f)};default:return(a,b,c)=>{if(void 0===c[a]){c[a]=b;return}c[a]=[].concat(c[a],b)}}}(b),d=Object.create(null);if("string"!=typeof a||!(a=a.trim().replace(/^[?#&]/,"")))return d;for(let e of a.split("&")){if(""===e)continue;let[g,h]=f(b.decode?e.replace(/\+/g," "):e,"=");h=void 0===h?null:["comma","separator","bracket-separator"].includes(b.arrayFormat)?h:l(h,b),c(l(g,b),h,d)}for(let i of Object.keys(d)){let k=d[i];if("object"==typeof k&&null!==k)for(let n of Object.keys(k))k[n]=p(k[n],b);else d[i]=p(k,b)}return!1===b.sort?d:(!0===b.sort?Object.keys(d).sort():Object.keys(d).sort(b.sort)).reduce((a,b)=>{let c=d[b];return Boolean(c)&&"object"==typeof c&&!Array.isArray(c)?a[b]=m(c):a[b]=c,a},Object.create(null))}b.extract=o,b.parse=q,b.stringify=(a,b)=>{if(!a)return"";j((b=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},b)).arrayFormatSeparator);let c=c=>b.skipNull&&h(a[c])||b.skipEmptyString&&""===a[c],d=function(a){switch(a.arrayFormat){case"index":return b=>(c,d)=>{let e=c.length;return void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),"[",e,"]"].join("")]:[...c,[k(b,a),"[",k(e,a),"]=",k(d,a)].join("")]};case"bracket":return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),"[]"].join("")]:[...c,[k(b,a),"[]=",k(d,a)].join("")];case"colon-list-separator":return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),":list="].join("")]:[...c,[k(b,a),":list=",k(d,a)].join("")];case"comma":case"separator":case"bracket-separator":{let b="bracket-separator"===a.arrayFormat?"[]=":"=";return c=>(d,e)=>void 0===e||a.skipNull&&null===e||a.skipEmptyString&&""===e?d:(e=null===e?"":e,0===d.length)?[[k(c,a),b,k(e,a)].join("")]:[[d,k(e,a)].join(a.arrayFormatSeparator)]}default:return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,k(b,a)]:[...c,[k(b,a),"=",k(d,a)].join("")]}}(b),e={};for(let f of Object.keys(a))c(f)||(e[f]=a[f]);let g=Object.keys(e);return!1!==b.sort&&g.sort(b.sort),g.map(c=>{let e=a[c];return void 0===e?"":null===e?k(c,b):Array.isArray(e)?0===e.length&&"bracket-separator"===b.arrayFormat?k(c,b)+"[]":e.reduce(d(c),[]).join("&"):k(c,b)+"="+k(e,b)}).filter(a=>a.length>0).join("&")},b.parseUrl=(a,b)=>{b=Object.assign({decode:!0},b);let[c,d]=f(a,"#");return Object.assign({url:c.split("?")[0]||"",query:q(o(a),b)},b&&b.parseFragmentIdentifier&&d?{fragmentIdentifier:l(d,b)}:{})},b.stringifyUrl=(a,c)=>{c=Object.assign({encode:!0,strict:!0,[i]:!0},c);let d=n(a.url).split("?")[0]||"",e=b.extract(a.url),f=b.parse(e,{sort:!1}),g=Object.assign(f,a.query),h=b.stringify(g,c);h&&(h=`?${h}`);let j=function(a){let b="",c=a.indexOf("#");return -1!==c&&(b=a.slice(c)),b}(a.url);return a.fragmentIdentifier&&(j=`#${c[i]?k(a.fragmentIdentifier,c):a.fragmentIdentifier}`),`${d}${h}${j}`},b.pick=(a,c,d)=>{d=Object.assign({parseFragmentIdentifier:!0,[i]:!1},d);let{url:e,query:f,fragmentIdentifier:h}=b.parseUrl(a,d);return b.stringifyUrl({url:e,query:g(f,c),fragmentIdentifier:h},d)},b.exclude=(a,c,d)=>{let e=Array.isArray(c)?a=>!c.includes(a):(a,b)=>!c(a,b);return b.pick(a,e,d)}},62873:function(a,b){"use strict";function c(a){let b;return"undefined"!=typeof window&& void 0!==window[a]&&(b=window[a]),b}function d(a){let b=c(a);if(!b)throw Error(`${a} is not defined in Window`);return b}Object.defineProperty(b,"__esModule",{value:!0}),b.getLocalStorage=b.getLocalStorageOrThrow=b.getCrypto=b.getCryptoOrThrow=b.getLocation=b.getLocationOrThrow=b.getNavigator=b.getNavigatorOrThrow=b.getDocument=b.getDocumentOrThrow=b.getFromWindowOrThrow=b.getFromWindow=void 0,b.getFromWindow=c,b.getFromWindowOrThrow=d,b.getDocumentOrThrow=function(){return d("document")},b.getDocument=function(){return c("document")},b.getNavigatorOrThrow=function(){return d("navigator")},b.getNavigator=function(){return c("navigator")},b.getLocationOrThrow=function(){return d("location")},b.getLocation=function(){return c("location")},b.getCryptoOrThrow=function(){return d("crypto")},b.getCrypto=function(){return c("crypto")},b.getLocalStorageOrThrow=function(){return d("localStorage")},b.getLocalStorage=function(){return c("localStorage")}},65755:function(a,b,c){"use strict";b.D=void 0;let d=c(62873);b.D=function(){let a,b;try{a=d.getDocumentOrThrow(),b=d.getLocationOrThrow()}catch(c){return null}function e(...b){let c=a.getElementsByTagName("meta");for(let d=0;d<c.length;d++){let e=c[d],f=["itemprop","property","name"].map(a=>e.getAttribute(a)).filter(a=>!!a&&b.includes(a));if(f.length&&f){let g=e.getAttribute("content");if(g)return g}}return""}let f,g=((f=e("name","og:site_name","og:title","twitter:title"))||(f=a.title),f),h=function(){let a=e("description","og:description","twitter:description","keywords");return a}(),i=b.origin,j=function(){let c=a.getElementsByTagName("link"),d=[];for(let e=0;e<c.length;e++){let f=c[e],g=f.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")> -1){let h=f.getAttribute("href");if(h){if(-1===h.toLowerCase().indexOf("https:")&& -1===h.toLowerCase().indexOf("http:")&&0!==h.indexOf("//")){let i=b.protocol+"//"+b.host;if(0===h.indexOf("/"))i+=h;else{let j=b.pathname.split("/");j.pop();let k=j.join("/");i+=k+"/"+h}d.push(i)}else if(0===h.indexOf("//")){let l=b.protocol+h;d.push(l)}else d.push(h)}}}return d}();return{description:h,url:i,icons:j,name:g}}},92806:function(a){"use strict";a.exports=function(a,b){for(var c={},d=Object.keys(a),e=Array.isArray(b),f=0;f<d.length;f++){var g=d[f],h=a[g];(e?-1!==b.indexOf(g):b(g,h,a))&&(c[g]=h)}return c}},72307:function(a,b,c){a=c.nmd(a);var d="__lodash_hash_undefined__",e=1,f="[object Arguments]",g="[object Array]",h="[object Boolean]",i="[object Date]",j="[object Error]",k="[object Function]",l="[object Map]",m="[object Number]",n="[object Object]",o="[object Promise]",p="[object RegExp]",q="[object Set]",r="[object String]",s="[object WeakMap]",t="[object ArrayBuffer]",u="[object DataView]",v=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[f]=x[g]=x[t]=x[h]=x[u]=x[i]=x[j]=x[k]=x[l]=x[m]=x[n]=x[p]=x[q]=x[r]=x[s]=!1;var y="object"==typeof c.g&&c.g&&c.g.Object===Object&&c.g,z="object"==typeof self&&self&&self.Object===Object&&self,A=y||z||Function("return this")(),B=b&&!b.nodeType&&b,C=B&&a&&!a.nodeType&&a,D=C&&C.exports===B,F=D&&y.process,G=function(){try{return F&&F.binding&&F.binding("util")}catch(a){}}(),H=G&&G.isTypedArray;function I(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function J(a,b){return a.has(b)}function K(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function L(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}var M,N,O,P=Array.prototype,Q=Function.prototype,R=Object.prototype,S=A["__core-js_shared__"],T=Q.toString,U=R.hasOwnProperty,V=(M=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",W=R.toString,X=RegExp("^"+T.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=D?A.Buffer:void 0,Z=A.Symbol,$=A.Uint8Array,_=R.propertyIsEnumerable,aa=P.splice,ab=Z?Z.toStringTag:void 0,ac=Object.getOwnPropertySymbols,ad=Y?Y.isBuffer:void 0,ae=(N=Object.keys,O=Object,function(a){return N(O(a))}),af=aH(A,"DataView"),ag=aH(A,"Map"),ah=aH(A,"Promise"),ai=aH(A,"Set"),aj=aH(A,"WeakMap"),ak=aH(Object,"create"),al=aP(af),am=aP(ag),an=aP(ah),ao=aP(ai),ap=aP(aj),aq=Z?Z.prototype:void 0,ar=aq?aq.valueOf:void 0;function as(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function at(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function au(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function av(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new au;++b<c;)this.add(a[b])}function aw(a){var b=this.__data__=new at(a);this.size=b.size}function ax(a,b){for(var c=a.length;c--;)if(aQ(a[c][0],b))return c;return -1}function ay(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":ab&&ab in Object(a)?aI(a):aO(a)}function az(a){return aY(a)&&ay(a)==f}function aA(a,b,c,d,e){return a===b||(null!=a&&null!=b&&(aY(a)||aY(b))?aB(a,b,c,d,aA,e):a!=a&&b!=b)}function aB(a,b,c,d,h,i){var j=aS(a),k=aS(b),l=j?g:aK(a),m=k?g:aK(b);l=l==f?n:l,m=m==f?n:m;var o=l==n,p=m==n,q=l==m;if(q&&aT(a)){if(!aT(b))return!1;j=!0,o=!1}if(q&&!o)return i||(i=new aw),j||a$(a)?aC(a,b,c,d,h,i):aD(a,b,l,c,d,h,i);if(!(c&e)){var r=o&&U.call(a,"__wrapped__"),s=p&&U.call(b,"__wrapped__");if(r||s){var t=r?a.value():a,u=s?b.value():b;return i||(i=new aw),h(t,u,c,d,i)}}return!!q&&(i||(i=new aw),aE(a,b,c,d,h,i))}function aC(a,b,c,d,f,g){var h=c&e,i=a.length,j=b.length;if(i!=j&&!(h&&j>i))return!1;var k=g.get(a);if(k&&g.get(b))return k==b;var l=-1,m=!0,n=2&c?new av:void 0;for(g.set(a,b),g.set(b,a);++l<i;){var o=a[l],p=b[l];if(d)var q=h?d(p,o,l,b,a,g):d(o,p,l,a,b,g);if(void 0!==q){if(q)continue;m=!1;break}if(n){if(!I(b,function(a,b){if(!J(n,b)&&(o===a||f(o,a,c,d,g)))return n.push(b)})){m=!1;break}}else if(!(o===p||f(o,p,c,d,g))){m=!1;break}}return g.delete(a),g.delete(b),m}function aD(a,b,c,d,f,g,k){switch(c){case u:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer,b=b.buffer;case t:if(a.byteLength!=b.byteLength||!g(new $(a),new $(b)))break;return!0;case h:case i:case m:return aQ(+a,+b);case j:return a.name==b.name&&a.message==b.message;case p:case r:return a==b+"";case l:var n=K;case q:var o=d&e;if(n||(n=L),a.size!=b.size&&!o)break;var s=k.get(a);if(s)return s==b;d|=2,k.set(a,b);var v=aC(n(a),n(b),d,f,g,k);return k.delete(a),v;case"[object Symbol]":if(ar)return ar.call(a)==ar.call(b)}return!1}function aE(a,b,c,d,f,g){var h=c&e,i=aF(a),j=i.length,k=aF(b).length;if(j!=k&&!h)return!1;for(var l=j;l--;){var m=i[l];if(!(h?m in b:U.call(b,m)))return!1}var n=g.get(a);if(n&&g.get(b))return n==b;var o=!0;g.set(a,b),g.set(b,a);for(var p=h;++l<j;){var q=a[m=i[l]],r=b[m];if(d)var s=h?d(r,q,m,b,a,g):d(q,r,m,a,b,g);if(!(void 0===s?q===r||f(q,r,c,d,g):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return g.delete(a),g.delete(b),o}function aF(a){var b,c,d,e;return b=a,c=a_,d=aJ,e=c(b),aS(b)?e:function(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}(e,d(b))}function aG(a,b){var c=a.__data__;return aM(b)?c["string"==typeof b?"string":"hash"]:c.map}function aH(a,b){var c,d,e,f=(c=a,d=b,null==c?void 0:c[d]);return(e=f,!(!aX(e)||aN(e))&&(aV(e)?X:v).test(aP(e)))?f:void 0}function aI(a){var b=U.call(a,ab),c=a[ab];try{a[ab]=void 0;var d=!0}catch(e){}var f=W.call(a);return d&&(b?a[ab]=c:delete a[ab]),f}as.prototype.clear=function(){this.__data__=ak?ak(null):{},this.size=0},as.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b},as.prototype.get=function(a){var b=this.__data__;if(ak){var c=b[a];return c===d?void 0:c}return U.call(b,a)?b[a]:void 0},as.prototype.has=function(a){var b=this.__data__;return ak?void 0!==b[a]:U.call(b,a)},as.prototype.set=function(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=ak&& void 0===b?d:b,this},at.prototype.clear=function(){this.__data__=[],this.size=0},at.prototype.delete=function(a){var b=this.__data__,c=ax(b,a);return!(c<0)&&(c==b.length-1?b.pop():aa.call(b,c,1),--this.size,!0)},at.prototype.get=function(a){var b=this.__data__,c=ax(b,a);return c<0?void 0:b[c][1]},at.prototype.has=function(a){return ax(this.__data__,a)> -1},at.prototype.set=function(a,b){var c=this.__data__,d=ax(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this},au.prototype.clear=function(){this.size=0,this.__data__={hash:new as,map:new(ag||at),string:new as}},au.prototype.delete=function(a){var b=aG(this,a).delete(a);return this.size-=b?1:0,b},au.prototype.get=function(a){return aG(this,a).get(a)},au.prototype.has=function(a){return aG(this,a).has(a)},au.prototype.set=function(a,b){var c=aG(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this},av.prototype.add=av.prototype.push=function(a){return this.__data__.set(a,d),this},av.prototype.has=function(a){return this.__data__.has(a)},aw.prototype.clear=function(){this.__data__=new at,this.size=0},aw.prototype.delete=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c},aw.prototype.get=function(a){return this.__data__.get(a)},aw.prototype.has=function(a){return this.__data__.has(a)},aw.prototype.set=function(a,b){var c=this.__data__;if(c instanceof at){var d=c.__data__;if(!ag||d.length<199)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new au(d)}return c.set(a,b),this.size=c.size,this};var aJ=ac?function(a){return null==a?[]:function(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}(ac(a=Object(a)),function(b){return _.call(a,b)})}:a0,aK=ay;function aL(a,b){return!!(b=null==b?9007199254740991:b)&&("number"==typeof a||w.test(a))&&a> -1&&a%1==0&&a<b}function aM(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function aN(a){return!!V&&V in a}function aO(a){return W.call(a)}function aP(a){if(null!=a){try{return T.call(a)}catch(b){}try{return a+""}catch(c){}}return""}function aQ(a,b){return a===b||a!=a&&b!=b}(af&&aK(new af(new ArrayBuffer(1)))!=u||ag&&aK(new ag)!=l||ah&&aK(ah.resolve())!=o||ai&&aK(new ai)!=q||aj&&aK(new aj)!=s)&&(aK=function(a){var b=ay(a),c=b==n?a.constructor:void 0,d=c?aP(c):"";if(d)switch(d){case al:return u;case am:return l;case an:return o;case ao:return q;case ap:return s}return b});var aR=az(function(){return arguments}())?az:function(a){return aY(a)&&U.call(a,"callee")&&!_.call(a,"callee")},aS=Array.isArray,aT=ad||a1;function aU(a,b){return aA(a,b)}function aV(a){if(!aX(a))return!1;var b=ay(a);return b==k||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}function aW(a){return"number"==typeof a&&a> -1&&a%1==0&&a<=9007199254740991}function aX(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function aY(a){return null!=a&&"object"==typeof a}var aZ,a$=H?(aZ=H,function(a){return aZ(a)}):function(a){return aY(a)&&aW(a.length)&&!!x[ay(a)]};function a_(a){var b;return null!=(b=a)&&aW(b.length)&&!aV(b)?function(a,b){var c=aS(a),d=!c&&aR(a),e=!c&&!d&&aT(a),f=!c&&!d&&!e&&a$(a),g=c||d||e||f,h=g?function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}(a.length,String):[],i=h.length;for(var j in a)U.call(a,j)&&!(g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||aL(j,i)))&&h.push(j);return h}(a):function(a){if(b=a,c=b&&b.constructor,d="function"==typeof c&&c.prototype||R,b!==d)return ae(a);var b,c,d,e=[];for(var f in Object(a))U.call(a,f)&&"constructor"!=f&&e.push(f);return e}(a)}function a0(){return[]}function a1(){return!1}a.exports=aU},85346:function(a){"use strict";function b(a){try{return JSON.stringify(a)}catch(b){return'"[Circular]"'}}a.exports=function(a,c,d){var e=d&&d.stringify||b;if("object"==typeof a&&null!==a){var f=c.length+1;if(1===f)return a;var g=Array(f);g[0]=e(a);for(var h=1;h<f;h++)g[h]=e(c[h]);return g.join(" ")}if("string"!=typeof a)return a;var i=c.length;if(0===i)return a;for(var j="",k=0,l=-1,m=a&&a.length||0,n=0;n<m;){if(37===a.charCodeAt(n)&&n+1<m){switch(l=l> -1?l:0,a.charCodeAt(n+1)){case 100:case 102:if(k>=i||null==c[k])break;l<n&&(j+=a.slice(l,n)),j+=Number(c[k]),l=n+2,n++;break;case 105:if(k>=i||null==c[k])break;l<n&&(j+=a.slice(l,n)),j+=Math.floor(Number(c[k])),l=n+2,n++;break;case 79:case 111:case 106:if(k>=i|| void 0===c[k])break;l<n&&(j+=a.slice(l,n));var o=typeof c[k];if("string"===o){j+="'"+c[k]+"'",l=n+2,n++;break}if("function"===o){j+=c[k].name||"<anonymous>",l=n+2,n++;break}j+=e(c[k]),l=n+2,n++;break;case 115:if(k>=i)break;l<n&&(j+=a.slice(l,n)),j+=String(c[k]),l=n+2,n++;break;case 37:l<n&&(j+=a.slice(l,n)),j+="%",l=n+2,n++,k--}++k}++n}return -1===l?a:(l<m&&(j+=a.slice(l)),j)}},63954:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.safeJsonParse=function(a){if("string"!=typeof a)throw Error(`Cannot safe json parse value of type ${typeof a}`);try{return JSON.parse(a)}catch(b){return a}},b.safeJsonStringify=function(a){return"string"==typeof a?a:JSON.stringify(a,(a,b)=>void 0===b?null:b)}},80500:function(a){"use strict";a.exports=(a,b)=>{if(!("string"==typeof a&&"string"==typeof b))throw TypeError("Expected the arguments to be of type `string`");if(""===b)return[a];let c=a.indexOf(b);return -1===c?[a]:[a.slice(0,c),a.slice(c+b.length)]}},70610:function(a){"use strict";a.exports=a=>encodeURIComponent(a).replace(/[!'()*]/g,a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`)},36559:function(a,b,c){"use strict";let d=c(85346);a.exports=f;let e=function(){function a(a){return void 0!==a&&a}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(b){return a(self)||a(window)||a(this)||{}}}().console||{};function f(a){(a=a||{}).browser=a.browser||{};let b=a.browser.transmit;if(b&&"function"!=typeof b.send)throw Error("pino: transmit option must have a send function");let c=a.browser.write||e;a.browser.write&&(a.browser.asObject=!0);let d=a.serializers||{},h=function(a,b){if(Array.isArray(a)){let c=a.filter(function(a){return"!stdSerializers.err"!==a});return c}return!0===a&&Object.keys(b)}(a.browser.serialize,d),i=a.browser.serialize;Array.isArray(a.browser.serialize)&&a.browser.serialize.indexOf("!stdSerializers.err")> -1&&(i=!1),"function"==typeof c&&(c.error=c.fatal=c.warn=c.info=c.debug=c.trace=c),!1===a.enabled&&(a.level="silent");let l=a.level||"info",o=Object.create(c);o.log||(o.log=q),Object.defineProperty(o,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(o,"level",{get:function(){return this._level},set:function(a){if("silent"!==a&&!this.levels.values[a])throw Error("unknown level "+a);this._level=a,g(p,o,"error","log"),g(p,o,"fatal","error"),g(p,o,"warn","error"),g(p,o,"info","log"),g(p,o,"debug","log"),g(p,o,"trace","log")}});let p={transmit:b,serialize:h,asObject:a.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:n(a)};return o.levels=f.levels,o.level=l,o.setMaxListeners=o.getMaxListeners=o.emit=o.addListener=o.on=o.prependListener=o.once=o.prependOnceListener=o.removeListener=o.removeAllListeners=o.listeners=o.listenerCount=o.eventNames=o.write=o.flush=q,o.serializers=d,o._serialize=h,o._stdErrSerialize=i,o.child=function(c,e){if(!c)throw Error("missing bindings for child Pino");e=e||{},h&&c.serializers&&(e.serializers=c.serializers);let f=e.serializers;if(h&&f){var g=Object.assign({},d,f),i=!0===a.browser.serialize?Object.keys(g):h;delete c.serializers,j([c],i,g,this._stdErrSerialize)}function l(a){this._childLevel=(0|a._childLevel)+1,this.error=k(a,c,"error"),this.fatal=k(a,c,"fatal"),this.warn=k(a,c,"warn"),this.info=k(a,c,"info"),this.debug=k(a,c,"debug"),this.trace=k(a,c,"trace"),g&&(this.serializers=g,this._serialize=i),b&&(this._logEvent=m([].concat(a._logEvent.bindings,c)))}return l.prototype=this,new l(this)},b&&(o._logEvent=m()),o}function g(a,b,c,d){let f=Object.getPrototypeOf(b);b[c]=b.levelVal>b.levels.values[c]?q:f[c]?f[c]:e[c]||e[d]||q,h(a,b,c)}function h(a,b,c){if(a.transmit||b[c]!==q){var d;b[c]=(d=b[c],function(){let g=a.timestamp(),h=Array(arguments.length),k=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var m=0;m<h.length;m++)h[m]=arguments[m];if(a.serialize&&!a.asObject&&j(h,this._serialize,this.serializers,this._stdErrSerialize),a.asObject?d.call(k,i(this,c,h,g)):d.apply(k,h),a.transmit){let n=a.transmit.level||b.level,o=f.levels.values[n],p=f.levels.values[c];if(p<o)return;l(this,{ts:g,methodLevel:c,methodValue:p,transmitLevel:n,transmitValue:f.levels.values[a.transmit.level||b.level],send:a.transmit.send,val:b.levelVal},h)}})}}function i(a,b,c,e){a._serialize&&j(c,a._serialize,a.serializers,a._stdErrSerialize);let g=c.slice(),h=g[0],i={};e&&(i.time=e),i.level=f.levels.values[b];let k=(0|a._childLevel)+1;if(k<1&&(k=1),null!==h&&"object"==typeof h){for(;(k--)&&"object"==typeof g[0];)Object.assign(i,g.shift());h=g.length?d(g.shift(),g):void 0}else"string"==typeof h&&(h=d(g.shift(),g));return void 0!==h&&(i.msg=h),i}function j(a,b,c,d){for(let e in a)if(d&&a[e]instanceof Error)a[e]=f.stdSerializers.err(a[e]);else if("object"==typeof a[e]&&!Array.isArray(a[e]))for(let g in a[e])b&&b.indexOf(g)> -1&&g in c&&(a[e][g]=c[g](a[e][g]))}function k(a,b,c){return function(){let d=Array(1+arguments.length);d[0]=b;for(var e=1;e<d.length;e++)d[e]=arguments[e-1];return a[c].apply(this,d)}}function l(a,b,c){let d=b.send,e=b.ts,f=b.methodLevel,g=b.methodValue,h=b.val,i=a._logEvent.bindings;j(c,a._serialize||Object.keys(a.serializers),a.serializers,void 0===a._stdErrSerialize||a._stdErrSerialize),a._logEvent.ts=e,a._logEvent.messages=c.filter(function(a){return -1===i.indexOf(a)}),a._logEvent.level.label=f,a._logEvent.level.value=g,d(f,a._logEvent,h),a._logEvent=m(i)}function m(a){return{ts:0,messages:[],bindings:a||[],level:{label:"",value:0}}}function n(a){return"function"==typeof a.timestamp?a.timestamp:!1===a.timestamp?r:s}function o(){return{}}function p(a){return a}function q(){}function r(){return!1}function s(){return Date.now()}f.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},f.stdSerializers={mapHttpRequest:o,mapHttpResponse:o,wrapRequestSerializer:p,wrapResponseSerializer:p,wrapErrorSerializer:p,req:o,res:o,err:function(a){let b={type:a.constructor.name,msg:a.message,stack:a.stack};for(let c in a)void 0===b[c]&&(b[c]=a[c]);return b}},f.stdTimeFunctions=Object.assign({},{nullTime:r,epochTime:s,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})}}])