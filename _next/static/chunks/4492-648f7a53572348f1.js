"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4492],{92052:function(a,b,c){c.d(b,{Z:function(){return j}});var d=c(7297),e=c(87379),f={SM:"sm",MD:"md"};function g(){var a=(0,d.Z)(["\n  appearance: none;\n  overflow: hidden;\n  cursor: pointer;\n  position: relative;\n  display: inline-block;\n  height: ",";\n  width: ",";\n  vertical-align: middle;\n  transition: background-color 0.2s ease-in-out;\n  border: 0;\n  border-radius: 8px;\n  background-color: ",";\n  box-shadow: ",';\n\n  &:after {\n    content: "";\n    position: absolute;\n    border-bottom: 2px solid;\n    border-left: 2px solid;\n    border-color: transparent;\n    top: 30%;\n    left: 0;\n    right: 0;\n    width: 50%;\n    height: 25%;\n    margin: auto;\n    transform: rotate(-50deg);\n    transition: border-color 0.2s ease-in-out;\n  }\n\n  &:hover:not(:disabled):not(:checked) {\n    box-shadow: ',";\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: ",";\n  }\n\n  &:checked {\n    background-color: ",";\n    &:after {\n      border-color: white;\n    }\n  }\n\n  &:disabled {\n    cursor: default;\n    opacity: 0.6;\n  }\n"]);return g=function(){return a},a}var h=function(a){var b=a.scale;switch(b){case f.SM:return"24px";case f.MD:default:return"32px"}},i=e.ZP.input.attrs({type:"checkbox"}).withConfig({componentId:"sc-11bd21f1-0"}).withConfig({componentId:"sc-d4d20c70-0"})(g(),h,h,function(a){return a.theme.colors.input},function(a){return a.theme.shadows.inset},function(a){return a.theme.shadows.focus},function(a){return a.theme.shadows.focus},function(a){return a.theme.colors.success});i.defaultProps={scale:f.MD};var j=i},84492:function(a,b,c){c.d(b,{Z:function(){return an}});var d=c(47568),e=c(26042),f=c(69396),g=c(34051),h=c.n(g),i=c(85893),j=c(67294),k=c(97119),l=c(82618),m=c(34701),n=c(44147),o=c(75943),p=c(98553),q=c(62077),r=c(44391),s=c(39853),t=c(87844),u=c(18029),v=c(16008),w=c(44305),x=c(64717),y=c(52775),z=c(2629),A=c(63850),B=c(74903),C=c(9882),D=c(49064),E=c(66594),F=c(7297),G=c(41609),H=c.n(G),I=c(91186),J=c(87379),K=c(75472),L=c.n(K),M=c(16393),N=c(94406),O=c(64775),P=c(32762),Q=c(40696),R=c(45203),S=c(81641),T=c(12016),U=c(25896),V=c(92052),W=function(a){var b=a.item,c=a.isSelected,d=a.onClick;return(0,i.jsxs)(U.Ak,{alignItems:"center",px:"16px",py:"8px",children:[(0,i.jsx)(q.Z,{style:{flex:1},children:b.label}),(0,i.jsx)(o.Z,{ml:"24px",children:(0,i.jsx)(V.Z,{name:"item-select",scale:"sm",onChange:d,checked:c,value:b.collectionAddress})})]})},X=function(a){var b=a.nftActivityFilters,c=(0,y.$G)().t,d=(0,j.useState)(!1),g=d[0],h=d[1],k=(0,j.useState)(""),l=k[0],m=k[1],p=(0,j.useState)({orderKey:"label",orderDir:"asc"}),r=p[0],s=p[1],t=(0,C.t8)().data,u=(0,j.useRef)(null),v=(0,j.useRef)(null),w=(0,T.q)(),x=w.addActivityCollectionFilters,z=w.removeActivityCollectionFilters,A=w.removeAllActivityCollectionFilters,B=r.orderKey,D=r.orderDir,E=b.collectionFilters.length>0,F=(l&&l.length>1?Object.values(t).filter(function(a){return -1!==a.name.toLowerCase().indexOf(l.toLowerCase())}):Object.values(t)).map(function(a){var c=b.collectionFilters.some(function(b){return a.address.toLowerCase()===b.toLowerCase()});return(0,f.Z)((0,e.Z)({},a),{isSelected:c})}),G=function(){A()},H=function(){return h(!g)},I=function(a){m(a.target.value)},J=function(a,b){a.target.checked?x({collection:b.address.toLowerCase()}):z({collection:b.address.toLowerCase()})},K=function(a){return function(){s(function(b){return b.orderKey!==a?{orderKey:a,orderDir:"asc"}:{orderKey:a,orderDir:"asc"===b.orderDir?"desc":"asc"}})}};return(0,j.useEffect)(function(){var a=function(a){var b=a.target;u.current&&v.current&&!v.current.contains(b)&&!u.current.contains(b)&&h(!1)};return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}},[h,u,v]),(0,i.jsxs)(o.Z,{alignItems:"center",mr:"4px",mb:"4px",children:[(0,i.jsx)(n.Z,{ref:u,children:(0,i.jsx)(M.Z,{component:(0,i.jsx)(U.yR,{onClick:H,variant:E?"subtle":"light",scale:"sm",hasItem:E,children:c("Collection")}),isOpen:g,options:{placement:"bottom"},children:(0,i.jsxs)(n.Z,{maxWidth:"375px",ref:v,children:[(0,i.jsx)(U._8,{alignItems:"center",p:"16px",children:(0,i.jsx)(N.Z,{startIcon:(0,i.jsx)(O.Z,{color:"textSubtle"}),children:(0,i.jsx)(P.Z,{name:"query",placeholder:c("Search"),onChange:I,value:l})})}),(0,i.jsxs)(o.Z,{alignItems:"center",p:"16px",children:[(0,i.jsxs)(U.Lb,{onClick:K("name"),style:{flex:1},children:[(0,i.jsx)(q.Z,{fontSize:"12px",color:"secondary",fontWeight:"bold",textTransform:"uppercase",children:c("Name")}),(0,i.jsxs)(n.Z,{width:"18px",children:["name"===B&&"asc"===D&&(0,i.jsx)(Q.Z,{width:"18px",color:"secondary"}),"name"===B&&"desc"===D&&(0,i.jsx)(R.Z,{width:"18px",color:"secondary"})]})]}),(0,i.jsxs)(U.Lb,{onClick:K("isSelected"),children:[(0,i.jsx)(q.Z,{fontSize:"12px",color:"secondary",fontWeight:"bold",textTransform:"uppercase",children:c("Filter")}),(0,i.jsxs)(n.Z,{width:"18px",children:["isSelected"===B&&"asc"===D&&(0,i.jsx)(Q.Z,{width:"18px",color:"secondary"}),"isSelected"===B&&"desc"===D&&(0,i.jsx)(R.Z,{width:"18px",color:"secondary"})]})]})]}),(0,i.jsx)(n.Z,{height:"240px",overflowY:"auto",children:F.length>0?L()(F,B,D).map(function(a){var b=function(b){return J(b,a)};return(0,i.jsx)(W,{item:{label:a.name,collectionAddress:a.address},isSelected:a.isSelected,onClick:b},a.address)}):(0,i.jsx)(o.Z,{alignItems:"center",justifyContent:"center",height:"230px",children:(0,i.jsx)(q.Z,{color:"textDisabled",textAlign:"center",children:c("No results found")})})})]})})}),E&&(0,i.jsx)(U.PZ,{variant:E?"subtle":"light",scale:"sm",onClick:G,children:(0,i.jsx)(S.Z,{color:"currentColor",width:"18px"})})]})},Y=c(89663);function Z(){var a=(0,F.Z)(["\n  white-space: nowrap;\n  ","\n"]);return Z=function(){return a},a}function $(){var a=(0,F.Z)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n"]);return $=function(){return a},a}var _=(0,J.ZP)(p.Z).withConfig({componentId:"sc-34bde88d-0"})(Z(),function(a){return a.hasItem&&"  \n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    padding-right: 8px;\n  "}),aa=(0,J.ZP)(Y.Z).withConfig({componentId:"sc-34bde88d-1"})($()),ab=function(a,b){switch(b){case I.YG.CANCEL:return a("Delisted");case I.YG.MODIFY:return a("Modified");case I.YG.NEW:return a("Listed");case I.YG.SELL:return a("Sold");default:return""}},ac=function(a){var b=a.eventType,c=a.collectionAddress,d=a.nftActivityFilters,e=(0,y.$G)().t,f=(0,T.q)(),g=f.addActivityTypeFilters,h=f.removeActivityTypeFilters,j=d.typeFilters.some(function(a){return a===b}),k=function(){j||g({collection:c,field:b})},l=function(){h({collection:c,field:b})};return(0,i.jsxs)(o.Z,{alignItems:"center",mr:"4px",mb:"4px",children:[(0,i.jsx)(n.Z,{children:(0,i.jsx)(_,{onClick:k,variant:j?"subtle":"light",scale:"sm",hasItem:j,children:ab(e,b)})}),j&&(0,i.jsx)(aa,{variant:j?"subtle":"light",scale:"sm",onClick:l,children:(0,i.jsx)(S.Z,{color:"currentColor",width:"18px"})})]})},ad=c(99534),ae=function(a){var b=a.collectionAddress,c=(0,ad.Z)(a,["collectionAddress"]),d=(0,y.$G)().t,g=(0,T.q)().removeAllActivityFilters,h=function(){g(b)};return(0,i.jsx)(p.Z,(0,f.Z)((0,e.Z)({variant:"text",scale:"sm",onClick:h,style:{whiteSpace:"nowrap"}},c),{children:d("Clear")}),"clear-all")};function af(){var a=(0,F.Z)(["\n  gap: 16px;\n\n  "," {\n    align-items: center;\n    flex-grow: 2;\n  }\n"]);return af=function(){return a},a}function ag(){var a=(0,F.Z)(["\n  align-items: center;\n  flex: 1;\n  flex-wrap: nowrap;\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n\n  "," {\n    flex-wrap: wrap;\n    overflow-x: revert;\n  }\n"]);return ag=function(){return a},a}var ah=(0,J.ZP)(o.Z).withConfig({componentId:"sc-fa27af2-0"})(af(),function(a){return a.theme.mediaQueries.sm}),ai=(0,J.ZP)(o.Z).withConfig({componentId:"sc-fa27af2-1"})(ag(),function(a){return a.theme.mediaQueries.md}),aj=function(a){var b=a.address,c=a.nftActivityFilters,d=(0,y.$G)().t;return(0,i.jsxs)(ah,{justifyContent:"space-between",flexDirection:["column","column","row"],children:[(0,i.jsx)(q.Z,{textTransform:"uppercase",color:"textSubtle",fontSize:"12px",bold:!0,children:d("Filter by")}),(0,i.jsxs)(ai,{children:[""===b&&(0,i.jsx)(X,{nftActivityFilters:c}),[I.YG.NEW,I.YG.CANCEL,I.YG.MODIFY,I.YG.SELL].map(function(a){return(0,i.jsx)(ac,{eventType:a,collectionAddress:b,nftActivityFilters:c},a)})]}),H()(c.typeFilters)&&H()(c.collectionFilters)?null:(0,i.jsx)(ae,{collectionAddress:b})]})},ak=c(86809),al=c(35466),am=c(66527),an=function(a){var b=a.collection,c=(0,l.TL)(),g=(b||{address:""}).address,F=(0,C.ly)(g),G=(0,A.ZP)().theme,H=(0,y.$G)().t,I=(0,j.useState)({activity:[],currentPage:1,maxPage:1}),J=I[0],K=I[1],L=(0,j.useState)([]),M=L[0],N=L[1],O=(0,j.useState)([]),P=O[0],Q=O[1],R=(0,j.useState)(!0),S=R[0],T=R[1],U=(0,j.useState)(!1),V=U[0],W=U[1],X=(0,j.useState)(1),Y=X[0],Z=X[1],$=(0,B.sP)(),_=$.lastUpdated,aa=$.setLastUpdated,ab=(0,z.Hf)(),ac=(0,m.Z)(),ad=ac.isXs,ae=ac.isSm,af=ac.isMd,ag=JSON.stringify(F);return(0,j.useEffect)(function(){var a,b=(a=(0,d.Z)(h().mark(function a(){var b,c,d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,T(!0),b=JSON.parse(ag),a.next=5,(0,v.Du)(g.toLowerCase(),b,100);case 5:c=a.sent,K({activity:d=(0,al.f)(c),currentPage:1,maxPage:Math.ceil(d.length/8)||1}),T(!1),W(!0),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.error("Failed to fetch collection activity",a.t0);case 15:case"end":return a.stop()}},a,null,[[0,12]])})),function(){return a.apply(this,arguments)});(g&&(0,k.UJ)(g)||""===g)&&b()},[c,g,ag,_]),(0,j.useEffect)(function(){var a,b=(a=(0,d.Z)(h().mark(function a(){var b;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,am.M)(M);case 2:Q(b=a.sent);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});M.length>0&&b()},[M]),(0,j.useEffect)(function(){N(J.activity.slice(8*(J.currentPage-1),8*J.currentPage))},[J]),(0,i.jsxs)(n.Z,{py:"32px",children:[(0,i.jsx)(w.Z,{px:[0,null,"24px"],children:(0,i.jsxs)(o.Z,{style:{gap:"16px",padding:"0 16px"},alignItems:[null,null,"center"],flexDirection:["column","column","row"],flexWrap:af?"wrap":"nowrap",children:[(0,i.jsx)(aj,{address:(null==b?void 0:b.address)||"",nftActivityFilters:F}),(0,i.jsx)(p.Z,{scale:"sm",disabled:S,onClick:function(){aa()},width:af&&"100%",children:H("Refresh")})]})}),(0,i.jsx)(w.Z,{style:{overflowX:"auto"},children:0!==J.activity.length||0!==P.length||0!==M.length||S?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.Z,{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsxs)(s.Th,{textAlign:["center",null,"left"],children:[" ",H("Item")]}),(0,i.jsxs)(s.Th,{textAlign:"right",children:[" ",H("Event")]}),ad||ae?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.Th,{textAlign:"right",children:[" ",H("Price")]}),(0,i.jsxs)(s.Th,{textAlign:"center",children:[" ",H("From")]}),(0,i.jsxs)(s.Th,{textAlign:"center",children:[" ",H("To")]})]}),(0,i.jsxs)(s.Th,{textAlign:"center",children:[" ",H("Date")]}),ad||ae?null:(0,i.jsx)(s.Th,{})]})}),(0,i.jsx)("tbody",{children:V?M.map(function(a){var b=P.find(function(b){var c;return b.tokenId===a.nft.tokenId&&b.collectionAddress.toLowerCase()===(null===(c=a.nft)|| void 0===c?void 0:c.collection.id.toLowerCase())});return(0,i.jsx)(ak.Z,{activity:a,nft:b,bnbBusdPrice:ab},"".concat(a.marketEvent,"#").concat(a.nft.tokenId,"#").concat(a.timestamp,"#").concat(a.tx))}):(0,i.jsx)(x.Z,{})})]}),(0,i.jsx)(o.Z,{borderTop:"1px ".concat(G.colors.cardBorder," solid"),pt:"24px",flexDirection:"column",justifyContent:"space-between",height:"100%",children:(0,i.jsxs)(D.O,{children:[(0,i.jsx)(D.E,{onClick:function(){1!==J.currentPage&&K(function(a){return(0,f.Z)((0,e.Z)({},a),{currentPage:a.currentPage-1})})},children:(0,i.jsx)(t.Z,{color:1===J.currentPage?"textDisabled":"primary"})}),(0,i.jsx)(q.Z,{children:H("Page %page% of %maxPage%",{page:J.currentPage,maxPage:J.maxPage})}),(0,i.jsx)(D.E,{onClick:(0,d.Z)(h().mark(function a(){var b,c,d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(J.currentPage!==J.maxPage)||(K(function(a){return(0,f.Z)((0,e.Z)({},a),{currentPage:a.currentPage+1})}),!(J.maxPage-J.currentPage==1&&J.activity.length===100*Y))){a.next=18;break}return a.prev=3,T(!0),b=JSON.parse(ag),a.next=8,(0,v.Du)(g.toLowerCase(),b,100*(Y+1));case 8:c=a.sent,d=(0,al.f)(c),K(function(a){return(0,f.Z)((0,e.Z)({},a),{activity:d,maxPage:Math.ceil(d.length/8)||1})}),T(!1),Z(function(a){return a+1}),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(3),console.error("Failed to fetch collection activity",a.t0);case 18:case"end":return a.stop()}},a,null,[[3,15]])})),children:(0,i.jsx)(u.Z,{color:J.currentPage===J.maxPage?"textDisabled":"primary"})})]})})]}):(0,i.jsxs)(o.Z,{p:"24px",flexDirection:"column",alignItems:"center",children:[(0,i.jsx)(E.Z,{}),(0,i.jsx)(q.Z,{pt:"8px",bold:!0,children:H("No NFT market history found")})]})})]})}},66527:function(a,b,c){c.d(b,{M:function(){return o}});var d,e=c(47568),f=c(26042),g=c(69396),h=c(10253),i=c(34051),j=c.n(i),k=c(16008),l=c(45578),m=c.n(l),n=c(30723),o=(d=(0,e.Z)(j().mark(function a(b){var c,d,e,i,l,o;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.some(function(a){return a.nft.collection.id.toLowerCase()===n.J.toLowerCase()}),d=m()(b.filter(function(a){return a.nft.collection.id.toLowerCase()!==n.J.toLowerCase()}).map(function(a){return{tokenId:a.nft.tokenId,collectionAddress:a.nft.collection.id}}),function(a){return"".concat(a.tokenId,"#").concat(a.collectionAddress)}),a.t0=h.Z,a.next=5,Promise.all([c?(0,k.Rq)(n.J):Promise.resolve(null),(0,k._C)(d),]);case 5:return a.t1=a.sent,i=(e=(0,a.t0)(a.t1,2))[0],l=e[1],o=i?b.filter(function(a){return a.nft.collection.id.toLowerCase()===n.J.toLowerCase()}).map(function(a){var b=i.data[a.nft.otherId].collection.name;return(0,g.Z)((0,f.Z)({},i.data[a.nft.otherId]),{tokenId:a.nft.tokenId,attributes:[{traitType:"bunnyId",value:a.nft.otherId}],collectionAddress:a.nft.collection.id,collectionName:b})}):[],a.abrupt("return",l.concat(o));case 11:case"end":return a.stop()}},a)})),function(a){return d.apply(this,arguments)})},35466:function(a,b,c){c.d(b,{f:function(){return h}});var d=c(36305),e=c(91186),f=c(75472),g=c.n(f),h=function(a){var b,c,f=a.askOrders,h=a.transactions,i=function(a){switch(a){case e.cP.CANCEL:return e.YG.CANCEL;case e.cP.MODIFY:return e.YG.MODIFY;case e.cP.NEW:return e.YG.NEW;default:return e.YG.MODIFY}},j=(0,d.Z)((b=void 0===f?[]:f).map(function(a){var b=i(a.orderType),c=a.askPrice,d=a.timestamp,e=a.nft,f=a.id,g=null==a?void 0:a.seller.id;return{marketEvent:b,price:c,timestamp:d,nft:e,tx:f,seller:g}})).concat((0,d.Z)((c=void 0===h?[]:h).map(function(a){var b=e.YG.SELL,c=a.timestamp,d=a.nft,f=a.askPrice,g=a.id,h=a.buyer.id,i=a.seller.id;return{marketEvent:b,price:f,timestamp:c,nft:d,tx:g,buyer:h,seller:i}})));return j.length>0?g()(j,function(a){return parseInt(a.timestamp,10)},"desc"):[]}}}])