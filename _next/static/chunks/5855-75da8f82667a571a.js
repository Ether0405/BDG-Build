"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5855],{81556:function(a,b,c){c.r(b),c.d(b,{BlockForkEvent:function(){return j},ForkEvent:function(){return i},Provider:function(){return m},TransactionForkEvent:function(){return k},TransactionOrderForkEvent:function(){return l}});var d=c(2593),e=c(16441),f=c(6881),g=c(1581);let h=new g.Yd("abstract-provider/5.6.1");class i extends f.dk{static isForkEvent(a){return!!(a&&a._isForkEvent)}}class j extends i{constructor(a,b){(0,e.A7)(a,32)||h.throwArgumentError("invalid blockHash","blockHash",a),super({_isForkEvent:!0,_isBlockForkEvent:!0,expiry:b||0,blockHash:a})}}class k extends i{constructor(a,b){(0,e.A7)(a,32)||h.throwArgumentError("invalid transaction hash","hash",a),super({_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:b||0,hash:a})}}class l extends i{constructor(a,b,c){(0,e.A7)(a,32)||h.throwArgumentError("invalid transaction hash","beforeHash",a),(0,e.A7)(b,32)||h.throwArgumentError("invalid transaction hash","afterHash",b),super({_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:c||0,beforeHash:a,afterHash:b})}}class m{constructor(){h.checkAbstract(new.target,m),(0,f.zG)(this,"_isProvider",!0)}getFeeData(){return function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}(this,void 0,void 0,function*(){let{block:a,gasPrice:b}=yield(0,f.mE)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)}),c=null,e=null;return a&&a.baseFeePerGas&&(e=d.O$.from("1500000000"),c=a.baseFeePerGas.mul(2).add(e)),{maxFeePerGas:c,maxPriorityFeePerGas:e,gasPrice:b}})}addListener(a,b){return this.on(a,b)}removeListener(a,b){return this.off(a,b)}static isProvider(a){return!!(a&&a._isProvider)}}},48088:function(a,b,c){c.r(b),c.d(b,{Signer:function(){return j},VoidSigner:function(){return k}});var d=c(6881),e=c(1581),f=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};let g=new e.Yd("abstract-signer/5.6.2"),h=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],i=[e.Yd.errors.INSUFFICIENT_FUNDS,e.Yd.errors.NONCE_EXPIRED,e.Yd.errors.REPLACEMENT_UNDERPRICED,];class j{constructor(){g.checkAbstract(new.target,j),(0,d.zG)(this,"_isSigner",!0)}getBalance(a){return f(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),a)})}getTransactionCount(a){return f(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),a)})}estimateGas(a){return f(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let b=yield(0,d.mE)(this.checkTransaction(a));return yield this.provider.estimateGas(b)})}call(a,b){return f(this,void 0,void 0,function*(){this._checkProvider("call");let c=yield(0,d.mE)(this.checkTransaction(a));return yield this.provider.call(c,b)})}sendTransaction(a){return f(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let b=yield this.populateTransaction(a),c=yield this.signTransaction(b);return yield this.provider.sendTransaction(c)})}getChainId(){return f(this,void 0,void 0,function*(){this._checkProvider("getChainId");let a=yield this.provider.getNetwork();return a.chainId})}getGasPrice(){return f(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return f(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(a){return f(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(a)})}checkTransaction(a){for(let b in a)-1===h.indexOf(b)&&g.throwArgumentError("invalid transaction key: "+b,"transaction",a);let c=(0,d.DC)(a);return null==c.from?c.from=this.getAddress():c.from=Promise.all([Promise.resolve(c.from),this.getAddress()]).then(b=>(b[0].toLowerCase()!==b[1].toLowerCase()&&g.throwArgumentError("from address mismatch","transaction",a),b[0])),c}populateTransaction(a){return f(this,void 0,void 0,function*(){let b=yield(0,d.mE)(this.checkTransaction(a));null!=b.to&&(b.to=Promise.resolve(b.to).then(a=>f(this,void 0,void 0,function*(){if(null==a)return null;let b=yield this.resolveName(a);return null==b&&g.throwArgumentError("provided ENS name resolves to null","tx.to",a),b})),b.to.catch(a=>{}));let c=null!=b.maxFeePerGas||null!=b.maxPriorityFeePerGas;if(null!=b.gasPrice&&(2===b.type||c)?g.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",a):(0===b.type||1===b.type)&&c&&g.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",a),(2===b.type||null==b.type)&&null!=b.maxFeePerGas&&null!=b.maxPriorityFeePerGas)b.type=2;else if(0===b.type||1===b.type)null==b.gasPrice&&(b.gasPrice=this.getGasPrice());else{let h=yield this.getFeeData();if(null==b.type){if(null!=h.maxFeePerGas&&null!=h.maxPriorityFeePerGas){if(b.type=2,null!=b.gasPrice){let j=b.gasPrice;delete b.gasPrice,b.maxFeePerGas=j,b.maxPriorityFeePerGas=j}else null==b.maxFeePerGas&&(b.maxFeePerGas=h.maxFeePerGas),null==b.maxPriorityFeePerGas&&(b.maxPriorityFeePerGas=h.maxPriorityFeePerGas)}else null!=h.gasPrice?(c&&g.throwError("network does not support EIP-1559",e.Yd.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==b.gasPrice&&(b.gasPrice=h.gasPrice),b.type=0):g.throwError("failed to get consistent fee data",e.Yd.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}else 2===b.type&&(null==b.maxFeePerGas&&(b.maxFeePerGas=h.maxFeePerGas),null==b.maxPriorityFeePerGas&&(b.maxPriorityFeePerGas=h.maxPriorityFeePerGas))}return null==b.nonce&&(b.nonce=this.getTransactionCount("pending")),null==b.gasLimit&&(b.gasLimit=this.estimateGas(b).catch(a=>{if(i.indexOf(a.code)>=0)throw a;return g.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",e.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:a,tx:b})})),null==b.chainId?b.chainId=this.getChainId():b.chainId=Promise.all([Promise.resolve(b.chainId),this.getChainId()]).then(b=>(0!==b[1]&&b[0]!==b[1]&&g.throwArgumentError("chainId address mismatch","transaction",a),b[0])),yield(0,d.mE)(b)})}_checkProvider(a){this.provider||g.throwError("missing provider",e.Yd.errors.UNSUPPORTED_OPERATION,{operation:a||"_checkProvider"})}static isSigner(a){return!!(a&&a._isSigner)}}class k extends j{constructor(a,b){super(),(0,d.zG)(this,"address",a),(0,d.zG)(this,"provider",b||null)}getAddress(){return Promise.resolve(this.address)}_fail(a,b){return Promise.resolve().then(()=>{g.throwError(a,e.Yd.errors.UNSUPPORTED_OPERATION,{operation:b})})}signMessage(a){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(a){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(a,b,c){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(a){return new k(this.address,a)}}},89744:function(a,b){Object.defineProperty(b,"__esModule",{value:!0}),b.GELATO_STOP_LIMIT_ORDERS_MODULE_ADDRESS=b.GENERIC_GAS_LIMIT_ORDER_EXECUTION=b.NATIVE_WRAPPED_TOKEN_ADDRESS=b.NATIVE_TOKEN_NAME=b.NATIVE_WRAPPED_TOKEN_TICKER=b.NATIVE_TOKEN_TICKER=b.GELATO_LIMIT_ORDERS_ERC20_ORDER_ROUTER=b.GELATO_LIMIT_ORDERS_MODULE_FLASHBOTS_ADDRESS=b.GELATO_LIMIT_ORDERS_MODULE_ADDRESS=b.GELATO_LIMIT_ORDERS_ADDRESS=b.SUBGRAPH_URL=b.OLD_SUBGRAPH_URL=b.NETWORK_STOP_LIMIT_HANDLERS=b.NETWORK_HANDLERS=b.NETWORK_NAME=b.HANDLERS_ADDRESSES=b.LIMIT_ORDER_SLIPPAGE=b.STOP_LIMIT_SLIPPAGE_BPS=b.BPS_GELATO_FEE=b.CHAIN_ID=b.MAX_LIFETIME_IN_SECONDS=b.SLIPPAGE_BPS=b.ETH_ADDRESS=void 0,b.ETH_ADDRESS="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",b.SLIPPAGE_BPS=40,b.MAX_LIFETIME_IN_SECONDS=7889238,b.CHAIN_ID={MAINNET:1,ROPSTEN:3,GOERLI:5,BSC:56,MATIC:137,FANTOM:250,AVAX:43114},b.BPS_GELATO_FEE={[b.CHAIN_ID.MAINNET]:10,[b.CHAIN_ID.MATIC]:10,[b.CHAIN_ID.FANTOM]:10,[b.CHAIN_ID.BSC]:10,[b.CHAIN_ID.AVAX]:10},b.STOP_LIMIT_SLIPPAGE_BPS={[b.CHAIN_ID.MAINNET]:500,[b.CHAIN_ID.ROPSTEN]:500,[b.CHAIN_ID.MATIC]:500,[b.CHAIN_ID.FANTOM]:500,[b.CHAIN_ID.BSC]:500,[b.CHAIN_ID.AVAX]:500},b.LIMIT_ORDER_SLIPPAGE={[b.CHAIN_ID.MAINNET]:40,[b.CHAIN_ID.ROPSTEN]:40,[b.CHAIN_ID.MATIC]:40,[b.CHAIN_ID.FANTOM]:40,[b.CHAIN_ID.BSC]:40,[b.CHAIN_ID.AVAX]:40},b.HANDLERS_ADDRESSES={[b.CHAIN_ID.MAINNET]:{uniswap:"0x837c03414fb86861f28ca7e91e5fd770fda0f52d",uniswap_stoplimit:"0xf437a1a98566872f734bd18addf4bb610d1f887b"},[b.CHAIN_ID.ROPSTEN]:{uniswap:"0x1f397f95d31eb20183b69d685a5060cfdefd508b",quickswap_stoplimit:"0x87bE4Eb9dFb2DefcEA035D3010f33584Fc8ddDB5"},[b.CHAIN_ID.MATIC]:{quickswap:"0xaccbd2c6ad75ad3394dc5f4b1f606bf111e4eae3",polydex:"0x00fc86d360162e4672ec6B427E12ed36F39f1f53",cafeswap:"0xd167afcee4e9a89e69646fd3c27e58b61d1b7f97",quickswap_stoplimit:"0x51cc226648f8de65513de7cdfd3e7b116156234e"},[b.CHAIN_ID.FANTOM]:{spiritswap:"0x5fb00386558ccc219e51b69d8e963ef20b0c267a",spookyswap:"0x228ffd7122d202c0cd24330892881c47b0817c7a",bombswap:"0x87C4Fbd67f6DD8a1B5EFD9879956c728C97afeFe",defyswap:"0x3d401587320522a5e0bb973d10a852430a8edbbd",spiritswap_stoplimit:"0x6ea82c72732389c5149326e048a46be9f8bec8e8",spookyswap_stoplimit:"0xe912cd26c4a4cfffc175a297f1328ab23313a1a7"},[b.CHAIN_ID.BSC]:{pancakeswap:"0x88f8CCC064bA2D39cF08D57B6e7504a7B6bE8E4e",pancakeswap_stoplimit:"0x84b826bcd26f1bc0cd5fbbdef7f5b8965d6bbb38"},[b.CHAIN_ID.AVAX]:{traderjoe:"0x88f8CCC064bA2D39cF08D57B6e7504a7B6bE8E4e",pangolin:"0x8b206547cfe6f35a77ddab2d6d97260765a349ef",pangolin_stoplimit:"0xb4c53e2e32caf977d61a8a776bdc44837a5d0d91",traderjoe_stoplimit:"0xcf497830e43836738bdd0c3d7e09b599ddf081b2"}},b.NETWORK_NAME={[b.CHAIN_ID.MAINNET]:"Ethereum",[b.CHAIN_ID.ROPSTEN]:"Ropsten",[b.CHAIN_ID.GOERLI]:"Goerli",[b.CHAIN_ID.MATIC]:"Polygon (Matic)",[b.CHAIN_ID.FANTOM]:"FANTOM",[b.CHAIN_ID.BSC]:"BSC",[b.CHAIN_ID.AVAX]:"AVAX"},b.NETWORK_HANDLERS={[b.CHAIN_ID.MAINNET]:["uniswap","uniswap_stoplimit"],[b.CHAIN_ID.ROPSTEN]:["uniswap","quickswap_stoplimit"],[b.CHAIN_ID.MATIC]:["quickswap","polydex","cafeswap","quickswap_stoplimit"],[b.CHAIN_ID.FANTOM]:["spiritswap","spookyswap","bombswap","defyswap","spiritswap_stoplimit","spookyswap_stoplimit",],[b.CHAIN_ID.BSC]:["pancakeswap","pancakeswap_stoplimit"],[b.CHAIN_ID.AVAX]:["traderjoe","pangolin","pangolin_stoplimit","traderjoe_stoplimit",]},b.NETWORK_STOP_LIMIT_HANDLERS={[b.CHAIN_ID.MAINNET]:["uniswap_stoplimit"],[b.CHAIN_ID.ROPSTEN]:["quickswap_stoplimit"],[b.CHAIN_ID.MATIC]:["quickswap_stoplimit"],[b.CHAIN_ID.BSC]:["pancakeswap_stoplimit"],[b.CHAIN_ID.FANTOM]:["spookyswap_stoplimit","spiritswap_stoplimit"],[b.CHAIN_ID.AVAX]:["traderjoe_stoplimit","pangolin_stoplimit"]},b.OLD_SUBGRAPH_URL={[b.CHAIN_ID.MAINNET]:"https://api.thegraph.com/subgraphs/name/gelatodigital/limit-orders",[b.CHAIN_ID.ROPSTEN]:"https://api.thegraph.com/subgraphs/name/gelatodigital/limit-orders-ropsten",[b.CHAIN_ID.MATIC]:"https://api.thegraph.com/subgraphs/name/gelatodigital/limit-orders-polygon",[b.CHAIN_ID.FANTOM]:"https://api.thegraph.com/subgraphs/name/gelatodigital/limit-orders-fantom"},b.SUBGRAPH_URL={[b.CHAIN_ID.MAINNET]:"https://api.thegraph.com/subgraphs/name/gelatodigital/limit-orders-ii",[b.CHAIN_ID.MATIC]:"https://api.thegraph.com/subgraphs/name/gelatodigital/limit-orders-polygon-ii",[b.CHAIN_ID.FANTOM]:"https://api.thegraph.com/subgraphs/name/gelatodigital/limit-orders-fantom-ii",[b.CHAIN_ID.BSC]:"https://api.thegraph.com/subgraphs/name/gelatodigital/limit-orders-bsc",[b.CHAIN_ID.AVAX]:"https://api.thegraph.com/subgraphs/name/gelatodigital/limit-orders-avax"},b.GELATO_LIMIT_ORDERS_ADDRESS={[b.CHAIN_ID.MAINNET]:"0x36049D479A97CdE1fC6E2a5D2caE30B666Ebf92B",[b.CHAIN_ID.ROPSTEN]:"0x0e5096D201Fe2985f5C26432A76f145D6e5D1453",[b.CHAIN_ID.GOERLI]:"0xa0453c6ab71fe3da89640ee2503326bd0899a589",[b.CHAIN_ID.MATIC]:"0x38c4092b28dAB7F3d98eE6524549571c283cdfA5",[b.CHAIN_ID.FANTOM]:"0x05Ad1094Eb6Cde564d732196F6754Ee464896031",[b.CHAIN_ID.BSC]:"0x0c30D3d66bc7C73A83fdA929888c34dcb24FD599",[b.CHAIN_ID.AVAX]:"0x0c30D3d66bc7C73A83fdA929888c34dcb24FD599"},b.GELATO_LIMIT_ORDERS_MODULE_ADDRESS={[b.CHAIN_ID.MAINNET]:"0x037fc8e71445910e1E0bBb2a0896d5e9A7485318",[b.CHAIN_ID.ROPSTEN]:"0x3f3C13b09B601fb6074124fF8D779d2964caBf8B",[b.CHAIN_ID.GOERLI]:"0xCf8EDB3333Fae73b23f689229F4De6Ac95d1f707",[b.CHAIN_ID.MATIC]:"0x5A36178E38864F5E724A2DaF5f9cD9bA473f7903",[b.CHAIN_ID.FANTOM]:"0xf2253BF9a0BD002300cFe6f4E630d755669f6DCa",[b.CHAIN_ID.BSC]:"0xb7499a92fc36e9053a4324aFfae59d333635D9c3",[b.CHAIN_ID.AVAX]:"0xb7499a92fc36e9053a4324aFfae59d333635D9c3"},b.GELATO_LIMIT_ORDERS_MODULE_FLASHBOTS_ADDRESS={[b.CHAIN_ID.MAINNET]:"0xbeC333EDE1A0687D2b9624F8C073a54c93ba9777",[b.CHAIN_ID.GOERLI]:"0xCf8EDB3333Fae73b23f689229F4De6Ac95d1f707"},b.GELATO_LIMIT_ORDERS_ERC20_ORDER_ROUTER={[b.CHAIN_ID.MAINNET]:"0x5fb00386558ccc219e51b69d8e963ef20b0c267a",[b.CHAIN_ID.ROPSTEN]:"0x9c06ff386779cc2269d482bcecf2378a4ff5cb90",[b.CHAIN_ID.GOERLI]:"0x247A1306b6122ba28862b19a95004899db91f1b5",[b.CHAIN_ID.MATIC]:"0x0c2c2963a4353ffd839590f7cb1e783688378814",[b.CHAIN_ID.FANTOM]:"0x59e61b95f20e940ac777e88fa2dfa0a6a4c40fa0",[b.CHAIN_ID.BSC]:"0x64c7f3c2C19B41a6aD67bb5f4edc8EdbB3284F34",[b.CHAIN_ID.AVAX]:"0x64c7f3c2C19B41a6aD67bb5f4edc8EdbB3284F34"},b.NATIVE_TOKEN_TICKER={[b.CHAIN_ID.MAINNET]:"ETH",[b.CHAIN_ID.ROPSTEN]:"ETH",[b.CHAIN_ID.GOERLI]:"ETH",[b.CHAIN_ID.MATIC]:"MATIC",[b.CHAIN_ID.FANTOM]:"FTM",[b.CHAIN_ID.BSC]:"BNB",[b.CHAIN_ID.AVAX]:"AVAX"},b.NATIVE_WRAPPED_TOKEN_TICKER={[b.CHAIN_ID.MAINNET]:"WETH",[b.CHAIN_ID.ROPSTEN]:"WETH",[b.CHAIN_ID.GOERLI]:"WETH",[b.CHAIN_ID.MATIC]:"WMATIC",[b.CHAIN_ID.FANTOM]:"WFTM",[b.CHAIN_ID.BSC]:"WBNB",[b.CHAIN_ID.AVAX]:"WAVAX"},b.NATIVE_TOKEN_NAME={[b.CHAIN_ID.MAINNET]:"Ether",[b.CHAIN_ID.ROPSTEN]:"Ether",[b.CHAIN_ID.GOERLI]:"Ether",[b.CHAIN_ID.MATIC]:"Matic",[b.CHAIN_ID.FANTOM]:"Fantom",[b.CHAIN_ID.BSC]:"Bnb",[b.CHAIN_ID.AVAX]:"Avax"},b.NATIVE_WRAPPED_TOKEN_ADDRESS={[b.CHAIN_ID.MAINNET]:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",[b.CHAIN_ID.ROPSTEN]:"0xc778417e063141139fce010982780140aa0cd5ab",[b.CHAIN_ID.GOERLI]:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",[b.CHAIN_ID.MATIC]:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",[b.CHAIN_ID.FANTOM]:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",[b.CHAIN_ID.BSC]:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",[b.CHAIN_ID.AVAX]:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7"},b.GENERIC_GAS_LIMIT_ORDER_EXECUTION="400000",b.GELATO_STOP_LIMIT_ORDERS_MODULE_ADDRESS={[b.CHAIN_ID.MAINNET]:"0x260aB0aCb931D7Da784fC35c7E96c3B13213Abf1",[b.CHAIN_ID.ROPSTEN]:"0xDC41072F4aFE7e4a7ea0f21d13a92662Fe733C55",[b.CHAIN_ID.MATIC]:"0x81967ac4ce8e2d94f7e4b4cf3d2e760605079604",[b.CHAIN_ID.BSC]:"0xe912cd26c4a4cfffc175a297f1328ab23313a1a7",[b.CHAIN_ID.FANTOM]:"0xf437a1a98566872f734bd18addf4bb610d1f887b",[b.CHAIN_ID.AVAX]:"0xf437a1a98566872f734bd18addf4bb610d1f887b"}},98081:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.ERC20OrderRouter__factory=void 0;let d=c(72067),e=[{inputs:[{internalType:"contract IGelatoPineCore",name:"_gelatoPineCore",type:"address"},],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"key",type:"bytes32"},{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"module",type:"address"},{indexed:!1,internalType:"address",name:"inputToken",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"address",name:"witness",type:"address"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"bytes32",name:"secret",type:"bytes32"},],name:"DepositToken",type:"event"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_module",type:"address"},{internalType:"address",name:"_inputToken",type:"address"},{internalType:"address payable",name:"_owner",type:"address"},{internalType:"address",name:"_witness",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_secret",type:"bytes32"},],name:"depositToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"gelatoPineCore",outputs:[{internalType:"contract IGelatoPineCore",name:"",type:"address"},],stateMutability:"view",type:"function"},];class f{static createInterface(){return new d.utils.Interface(e)}static connect(a,b){return new d.Contract(a,e,b)}}b.ERC20OrderRouter__factory=f,f.abi=e},99272:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.ERC20__factory=void 0;let d=c(72067),e=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"},],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},],name:"approve",outputs:[{name:"",type:"bool"},],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"},],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"},],name:"transferFrom",outputs:[{name:"",type:"bool"},],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"},],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},],name:"balanceOf",outputs:[{name:"balance",type:"uint256"},],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"},],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},],name:"transfer",outputs:[{name:"",type:"bool"},],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"},],name:"allowance",outputs:[{name:"",type:"uint256"},],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"},],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"},],name:"Transfer",type:"event"},];class f{static createInterface(){return new d.utils.Interface(e)}static connect(a,b){return new d.Contract(a,e,b)}}b.ERC20__factory=f,f.abi=e},23744:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.GelatoLimitOrders__factory=void 0;let d=c(72067),e=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_key",type:"bytes32"},{indexed:!0,internalType:"address",name:"_caller",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_data",type:"bytes"},],name:"DepositETH",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_key",type:"bytes32"},{indexed:!1,internalType:"address",name:"_inputToken",type:"address"},{indexed:!1,internalType:"address",name:"_owner",type:"address"},{indexed:!1,internalType:"address",name:"_witness",type:"address"},{indexed:!1,internalType:"bytes",name:"_data",type:"bytes"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"},],name:"OrderCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_key",type:"bytes32"},{indexed:!1,internalType:"address",name:"_inputToken",type:"address"},{indexed:!1,internalType:"address",name:"_owner",type:"address"},{indexed:!1,internalType:"address",name:"_witness",type:"address"},{indexed:!1,internalType:"bytes",name:"_data",type:"bytes"},{indexed:!1,internalType:"bytes",name:"_auxData",type:"bytes"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_bought",type:"uint256"},],name:"OrderExecuted",type:"event"},{inputs:[],name:"ETH_ADDRESS",outputs:[{internalType:"address",name:"",type:"address"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IModule",name:"_module",type:"address"},{internalType:"contract IERC20",name:"_inputToken",type:"address"},{internalType:"address payable",name:"_owner",type:"address"},{internalType:"address",name:"_witness",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_auxData",type:"bytes"},],name:"canExecuteOrder",outputs:[{internalType:"bool",name:"",type:"bool"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IModule",name:"_module",type:"address"},{internalType:"contract IERC20",name:"_inputToken",type:"address"},{internalType:"address payable",name:"_owner",type:"address"},{internalType:"address",name:"_witness",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},],name:"cancelOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},],name:"decodeOrder",outputs:[{internalType:"address",name:"module",type:"address"},{internalType:"address",name:"inputToken",type:"address"},{internalType:"address payable",name:"owner",type:"address"},{internalType:"address",name:"witness",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes32",name:"secret",type:"bytes32"},],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},],name:"depositEth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_module",type:"address"},{internalType:"address",name:"_inputToken",type:"address"},{internalType:"address payable",name:"_owner",type:"address"},{internalType:"address",name:"_witness",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_secret",type:"bytes32"},],name:"encodeEthOrder",outputs:[{internalType:"bytes",name:"",type:"bytes"},],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract IModule",name:"_module",type:"address"},{internalType:"contract IERC20",name:"_inputToken",type:"address"},{internalType:"address payable",name:"_owner",type:"address"},{internalType:"address",name:"_witness",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_secret",type:"bytes32"},{internalType:"uint256",name:"_amount",type:"uint256"},],name:"encodeTokenOrder",outputs:[{internalType:"bytes",name:"",type:"bytes"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},],name:"ethDeposits",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IModule",name:"_module",type:"address"},{internalType:"contract IERC20",name:"_inputToken",type:"address"},{internalType:"address payable",name:"_owner",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"},{internalType:"bytes",name:"_auxData",type:"bytes"},],name:"executeOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"_module",type:"address"},{internalType:"contract IERC20",name:"_inputToken",type:"address"},{internalType:"address payable",name:"_owner",type:"address"},{internalType:"address",name:"_witness",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},],name:"existOrder",outputs:[{internalType:"bool",name:"",type:"bool"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IModule",name:"_module",type:"address"},{internalType:"contract IERC20",name:"_inputToken",type:"address"},{internalType:"address payable",name:"_owner",type:"address"},{internalType:"address",name:"_witness",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},],name:"keyOf",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract IModule",name:"_module",type:"address"},{internalType:"contract IERC20",name:"_inputToken",type:"address"},{internalType:"address payable",name:"_owner",type:"address"},{internalType:"address",name:"_witness",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},],name:"vaultOfOrder",outputs:[{internalType:"address",name:"",type:"address"},],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"},];class f{static createInterface(){return new d.utils.Interface(e)}static connect(a,b){return new d.Contract(a,e,b)}}b.GelatoLimitOrders__factory=f,f.abi=e},82354:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.Multicall__factory=void 0;let d=c(72067),e=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_mainModule",type:"address"},],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"_imageHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"_threshold",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_signers",type:"bytes"},],name:"RequiredConfig",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"address",name:"_signer",type:"address"},],name:"RequiredSigner",type:"event"},{inputs:[{internalType:"address",name:"_addr",type:"address"},],name:"callBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[],name:"callBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"},],name:"callBlockhash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},],stateMutability:"view",type:"function"},{inputs:[],name:"callChainId",outputs:[{internalType:"uint256",name:"id",type:"uint256"},],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"},],name:"callCode",outputs:[{internalType:"bytes",name:"code",type:"bytes"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"},],name:"callCodeHash",outputs:[{internalType:"bytes32",name:"codeHash",type:"bytes32"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"},],name:"callCodeSize",outputs:[{internalType:"uint256",name:"size",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[],name:"callCoinbase",outputs:[{internalType:"address",name:"",type:"address"},],stateMutability:"view",type:"function"},{inputs:[],name:"callDifficulty",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLeft",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[],name:"callGasPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[],name:"callOrigin",outputs:[{internalType:"address",name:"",type:"address"},],stateMutability:"view",type:"function"},{inputs:[],name:"callTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},],name:"lastSignerUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},],name:"lastWalletUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"delegateCall",type:"bool"},{internalType:"bool",name:"revertOnError",type:"bool"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},],internalType:"struct IModuleCalls.Transaction[]",name:"_txs",type:"tuple[]"},],name:"multiCall",outputs:[{internalType:"bool[]",name:"_successes",type:"bool[]"},{internalType:"bytes[]",name:"_results",type:"bytes[]"},],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"},{components:[{internalType:"uint256",name:"weight",type:"uint256"},{internalType:"address",name:"signer",type:"address"},],internalType:"struct RequireUtils.Member[]",name:"_members",type:"tuple[]"},{internalType:"bool",name:"_index",type:"bool"},],name:"publishConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"uint256",name:"_sizeMembers",type:"uint256"},{internalType:"bytes",name:"_signature",type:"bytes"},{internalType:"bool",name:"_index",type:"bool"},],name:"publishInitialSigners",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"},],name:"requireMinNonce",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_expiration",type:"uint256"},],name:"requireNonExpired",outputs:[],stateMutability:"view",type:"function"},];class f{static createInterface(){return new d.utils.Interface(e)}static connect(a,b){return new d.Contract(a,e,b)}}b.Multicall__factory=f,f.abi=e},16060:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.Multicall__factory=b.GelatoLimitOrders__factory=b.ERC20OrderRouter__factory=b.ERC20__factory=void 0;var d=c(99272);Object.defineProperty(b,"ERC20__factory",{enumerable:!0,get:function(){return d.ERC20__factory}});var e=c(98081);Object.defineProperty(b,"ERC20OrderRouter__factory",{enumerable:!0,get:function(){return e.ERC20OrderRouter__factory}});var f=c(23744);Object.defineProperty(b,"GelatoLimitOrders__factory",{enumerable:!0,get:function(){return f.GelatoLimitOrders__factory}});var g=c(82354);Object.defineProperty(b,"Multicall__factory",{enumerable:!0,get:function(){return g.Multicall__factory}})},55855:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.constants=b.utils=b.isEthereumChain=b.GelatoStopLimitOrders=b.isValidChainIdAndHandler=b.GelatoLimitOrders=void 0;let d=c(70655);var e=c(78905);Object.defineProperty(b,"GelatoLimitOrders",{enumerable:!0,get:function(){return e.GelatoLimitOrders}}),Object.defineProperty(b,"isValidChainIdAndHandler",{enumerable:!0,get:function(){return e.isValidChainIdAndHandler}});var f=c(45741);Object.defineProperty(b,"GelatoStopLimitOrders",{enumerable:!0,get:function(){return f.GelatoStopLimitOrders}});var g=c(41153);Object.defineProperty(b,"isEthereumChain",{enumerable:!0,get:function(){return g.isEthereumChain}}),(0,d.__exportStar)(c(82938),b),b.utils=(0,d.__importStar)(c(41153)),b.constants=(0,d.__importStar)(c(89744))},78905:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.GelatoLimitOrders=b.isFlashbotsCompatibleChainId=b.isValidChainIdAndHandler=void 0;let d=c(70655),e=c(72067),f=c(81556),g=c(48088),h=c(89744),i=c(16060),j=c(40615),k=c(41153),l=(a,b)=>h.NETWORK_HANDLERS[a].includes(b);b.isValidChainIdAndHandler=l,b.isFlashbotsCompatibleChainId=a=>a==h.CHAIN_ID.MAINNET||a==h.CHAIN_ID.GOERLI,b.GelatoLimitOrders=class{constructor(a,c,d,j=!1){var k;if(d&&!(0,b.isValidChainIdAndHandler)(a,d))throw Error("Invalid chainId and handler");if(j&&(d||!(0,b.isFlashbotsCompatibleChainId)(a)))throw Error("Invalid chainId or handler for Flashbots bundle submission. handler must be undefined, and chainId either 1 (mainnet) or 5 (goerli)");this._chainId=a,this._gelatoFeeBPS=h.BPS_GELATO_FEE[a],this._slippageBPS=h.LIMIT_ORDER_SLIPPAGE[a],this._subgraphUrl=h.SUBGRAPH_URL[a],this._signer=g.Signer.isSigner(c)?c:void 0,this._provider=f.Provider.isProvider(c)?c:g.Signer.isSigner(c)?c.provider:void 0,this._gelatoLimitOrders=this._signer?i.GelatoLimitOrders__factory.connect(h.GELATO_LIMIT_ORDERS_ADDRESS[this._chainId],this._signer):this._provider?i.GelatoLimitOrders__factory.connect(h.GELATO_LIMIT_ORDERS_ADDRESS[this._chainId],this._provider):new e.Contract(h.GELATO_LIMIT_ORDERS_ADDRESS[this._chainId],i.GelatoLimitOrders__factory.createInterface()),this._moduleAddress=j?h.GELATO_LIMIT_ORDERS_MODULE_FLASHBOTS_ADDRESS[this._chainId]:h.GELATO_LIMIT_ORDERS_MODULE_ADDRESS[this._chainId],this._handler=d,this._handlerAddress=d?null===(k=h.HANDLERS_ADDRESSES[this._chainId][d])|| void 0===k?void 0:k.toLowerCase():void 0,this._isFlashbotsProtected=j,this._abiEncoder=new e.utils.AbiCoder,this._erc20OrderRouter=this._signer?i.ERC20OrderRouter__factory.connect(h.GELATO_LIMIT_ORDERS_ERC20_ORDER_ROUTER[this._chainId],this._signer):this._provider?i.ERC20OrderRouter__factory.connect(h.GELATO_LIMIT_ORDERS_ERC20_ORDER_ROUTER[this._chainId],this._provider):new e.Contract(h.GELATO_LIMIT_ORDERS_ERC20_ORDER_ROUTER[this._chainId],i.ERC20OrderRouter__factory.createInterface())}get gelatoFeeBPS(){return this._gelatoFeeBPS}get slippageBPS(){return this._slippageBPS}get chainId(){return this._chainId}get signer(){return this._signer}get provider(){return this._provider}get subgraphUrl(){return this._subgraphUrl}get handler(){return this._handler}get handlerAddress(){return this._handlerAddress}get moduleAddress(){return this._moduleAddress}get contract(){return this._gelatoLimitOrders}get erc20OrderRouter(){return this._erc20OrderRouter}get isFlashbotsProtected(){return this._isFlashbotsProtected}encodeLimitOrderSubmission(a,b,c,e,f,g=!0){return(0,d.__awaiter)(this,void 0,void 0,function*(){let{payload:d}=yield this.encodeLimitOrderSubmissionWithSecret(a,b,c,e,f,g);return d})}encodeLimitOrderSubmissionWithSecret(a,b,c,f,g,h=!0){var i;return(0,d.__awaiter)(this,void 0,void 0,function*(){let d=e.utils.hexlify(e.utils.randomBytes(19)).replace("0x",""),j=`0x67656c61746f6e6574776f726b${d}`,{privateKey:k,address:l}=new e.Wallet(j),{minReturn:m}=this.getFeeAndSlippageAdjustedMinReturn(f),n=yield this._encodeSubmitData(a,b,g,l,c,m,k,h),o=this._handlerAddress?this._abiEncoder.encode(["address","uint256","address"],[b,m,this._handlerAddress]):this._abiEncoder.encode(["address","uint256"],[b,m]);return{payload:n,secret:k,witness:l,order:{id:this._getKey({module:this._moduleAddress,inputToken:a,owner:g,witness:l,data:o}),module:this._moduleAddress.toLowerCase(),data:o,inputToken:a.toLowerCase(),outputToken:b.toLowerCase(),owner:g.toLowerCase(),witness:l.toLowerCase(),inputAmount:c.toString(),minReturn:m.toString(),adjustedMinReturn:f.toString(),inputData:n.data.toString(),secret:k.toLowerCase(),handler:null!==(i=this._handlerAddress)&& void 0!==i?i:null}}})}submitLimitOrder(a,b,c,f,g=!0,h){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this._signer)throw Error("No signer");let d=yield this._signer.getAddress(),i=yield this.encodeLimitOrderSubmission(a,b,c,f,d,g);return this._signer.sendTransaction(Object.assign(Object.assign({},h),{to:i.to,data:i.data,value:e.BigNumber.from(i.value)}))})}encodeLimitOrderCancellation(a,b){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this._gelatoLimitOrders)throw Error("No gelato limit orders contract");if(!a.inputToken)throw Error("No input token in order");if(!a.witness)throw Error("No witness in order");if(!a.outputToken)throw Error("No output token in order");if(!a.minReturn)throw Error("No minReturn in order");if(!a.owner)throw Error("No owner");if(!a.module)throw Error("No module in order");if(b){let c=yield this.isActiveOrder(a);if(!c)throw Error("Order not found. Please review your order data.")}let d=this._gelatoLimitOrders.interface.encodeFunctionData("cancelOrder",[a.module,a.inputToken,a.owner,a.witness,a.data]);return{data:d,to:this._gelatoLimitOrders.address,value:e.constants.Zero}})}cancelLimitOrder(a,b,c){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this._signer)throw Error("No signer");if(!this._gelatoLimitOrders)throw Error("No gelato limit orders contract");let d=a;if(a.id)try{let e=yield Promise.race([this.getOrder(a.id),new Promise(a=>setTimeout(a,5e3)).then(()=>{throw Error("Timeout")}),]);if(e){if("cancelled"===e.status)throw Error(`Order status is not open. Current order status: ${e.status}. Cancellation transaction hash: ${e.cancelledTxHash}`);if("executed"===e.status)throw Error(`Order status is not open. Current order status: ${e.status}. Execution transaction hash: ${e.executedTxHash}`);d=Object.assign(Object.assign({},a),e)}}catch(f){}if(!d.inputToken)throw Error("No input token in order");if(!d.witness)throw Error("No witness in order");if(!d.outputToken)throw Error("No output token in order");if(!d.minReturn)throw Error("No minReturn in order");if(!d.data)throw Error("No data in order");if(!d.module)throw Error("No module in order");if(b){let g=yield this.isActiveOrder(d);if(!g)throw Error("Order not found. Please review your order data.")}let h=yield this._signer.getAddress();if(h.toLowerCase()!==a.owner.toLowerCase())throw Error("Owner and signer mismatch");return this._gelatoLimitOrders.cancelOrder(d.module,d.inputToken,d.owner,d.witness,d.data,null!=c?c:{gasLimit:(0,k.isEthereumChain)(this._chainId)?6e5:2e6})})}approveTokenAmount(a,b,c){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this._signer)throw Error("No signer");return c?i.ERC20__factory.connect(a,this._signer).approve(this._erc20OrderRouter.address,b,c):i.ERC20__factory.connect(a,this._signer).approve(this._erc20OrderRouter.address,b)})}isActiveOrder(a){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this._provider)throw Error("No provider");if(!this._gelatoLimitOrders)throw Error("No gelato limit orders contract");if(!a.module)throw Error("No module in order");if(!a.inputToken)throw Error("No input token in order");if(!a.owner)throw Error("No owner in order");if(!a.witness)throw Error("No witness in order");if(!a.data)throw Error("No data in order");return this._gelatoLimitOrders.existOrder(a.module,a.inputToken,a.owner,a.witness,a.data)})}getExchangeRate(a,b,c,d,f=!1){let g=e.BigNumber.from(10).pow(e.BigNumber.from(18));return f?e.BigNumber.from(a).mul(g).div(c).mul(e.BigNumber.from(10).pow(e.BigNumber.from(d))).div(e.BigNumber.from(10).pow(e.BigNumber.from(b))).toString():e.BigNumber.from(c).mul(g).div(a).mul(e.BigNumber.from(10).pow(e.BigNumber.from(b))).div(e.BigNumber.from(10).pow(e.BigNumber.from(d))).toString()}getFeeAndSlippageAdjustedMinReturn(a,b){if(b&&!Number.isInteger(b))throw Error("Extra Slippage BPS must an unsigned integer");let c=e.BigNumber.from(a).mul(this._gelatoFeeBPS).div(1e4).gte(1)?e.BigNumber.from(a).mul(this._gelatoFeeBPS).div(1e4):e.BigNumber.from(1),d=b?this._slippageBPS+b:this._slippageBPS,f=e.BigNumber.from(a).mul(d).div(1e4),g=e.BigNumber.from(a).sub(c).sub(f);return{minReturn:g.toString(),slippage:f.toString(),gelatoFee:c.toString()}}getAdjustedMinReturn(a,b){let c=e.BigNumber.from(this._gelatoFeeBPS),d=b?e.BigNumber.from(this._slippageBPS+b):e.BigNumber.from(this._slippageBPS),f=c.add(d),g=e.BigNumber.from(a).mul(1e4).div(e.BigNumber.from(1e4).sub(f));return g.toString()}getExecutionPrice(a,b,c,d,f=!1){let g=e.BigNumber.from(10).pow(e.BigNumber.from(f?d:b));return f?e.BigNumber.from(a).mul(g).div(c).toString():e.BigNumber.from(c).mul(g).div(a).toString()}getOrder(a){return(0,d.__awaiter)(this,void 0,void 0,function*(){let b=yield(0,j.queryOrder)(a,this._chainId);return b?Object.assign(Object.assign({},b),{adjustedMinReturn:this.getAdjustedMinReturn(b.minReturn)}):null})}getOrders(a,b=!1){return(0,d.__awaiter)(this,void 0,void 0,function*(){let c=yield(0,j.queryOrders)(a,this._chainId);return c.map(a=>Object.assign(Object.assign({},a),{adjustedMinReturn:this.getAdjustedMinReturn(a.minReturn)})).filter(a=>this._handler&&!a.handler?!!b:!this._handler||a.handler===this._handlerAddress)})}getOpenOrders(a,b=!1){return(0,d.__awaiter)(this,void 0,void 0,function*(){let c=yield(0,j.queryOpenOrders)(a,this._chainId);return c.map(a=>Object.assign(Object.assign({},a),{adjustedMinReturn:this.getAdjustedMinReturn(a.minReturn)})).filter(a=>this._handler&&!a.handler?!!b:!this._handler||a.handler===this._handlerAddress)})}getPastOrders(a,b=!1){return(0,d.__awaiter)(this,void 0,void 0,function*(){let c=yield(0,j.queryPastOrders)(a,this._chainId);return c.map(a=>Object.assign(Object.assign({},a),{adjustedMinReturn:this.getAdjustedMinReturn(a.minReturn)})).filter(a=>this._handler&&!a.handler?!!b:!this._handler||a.handler===this._handlerAddress)})}getExecutedOrders(a,b=!1){return(0,d.__awaiter)(this,void 0,void 0,function*(){let c=yield(0,j.queryExecutedOrders)(a,this._chainId);return c.map(a=>Object.assign(Object.assign({},a),{adjustedMinReturn:this.getAdjustedMinReturn(a.minReturn)})).filter(a=>this._handler&&!a.handler?!!b:!this._handler||a.handler===this._handlerAddress)})}getCancelledOrders(a,b=!1){return(0,d.__awaiter)(this,void 0,void 0,function*(){let c=yield(0,j.queryCancelledOrders)(a,this._chainId);return c.map(a=>Object.assign(Object.assign({},a),{adjustedMinReturn:this.getAdjustedMinReturn(a.minReturn)})).filter(a=>this._handler&&!a.handler?!!b:!this._handler||a.handler===this._handlerAddress)})}_getKey(a){return e.utils.keccak256(this._abiEncoder.encode(["address","address","address","address","bytes"],[a.module,a.inputToken,a.owner,a.witness,a.data]))}_encodeSubmitData(a,b,c,f,g,j,l,m){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this._provider)throw Error("No provider");if(a.toLowerCase()===b.toLowerCase())throw Error("Input token and output token can not be equal");let d=this._handlerAddress?this._abiEncoder.encode(["address","uint256","address"],[b,j,this._handlerAddress]):this._abiEncoder.encode(["address","uint256"],[b,j]),n,o,p;if((0,k.isNetworkGasToken)(a)){let q=yield this._gelatoLimitOrders.encodeEthOrder(this._moduleAddress,h.ETH_ADDRESS,c,f,d,l);n=this._gelatoLimitOrders.interface.encodeFunctionData("depositEth",[q]),o=g,p=this._gelatoLimitOrders.address}else{if(m){let r=yield i.ERC20__factory.connect(a,this._provider).allowance(c,this._erc20OrderRouter.address);if(r.lt(g))throw Error("Insufficient token allowance for placing order")}n=this._erc20OrderRouter.interface.encodeFunctionData("depositToken",[g,this._moduleAddress,a,c,f,d,l,]),o=e.constants.Zero,p=this._erc20OrderRouter.address}return{data:n,value:o,to:p}})}}},50105:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.GelatoBase=b.isETHOrWETH=b.isFlashbotsCompatibleChainId=b.isValidChainIdAndHandler=void 0;let d=c(70655),e=c(72067),f=c(81556),g=c(48088),h=c(89744),i=c(16060),j=c(41153),k=(a,b)=>h.NETWORK_HANDLERS[a].includes(b);b.isValidChainIdAndHandler=k,b.isFlashbotsCompatibleChainId=a=>a==h.CHAIN_ID.MAINNET||a==h.CHAIN_ID.GOERLI;let l=(a,b)=>{let c=h.NATIVE_WRAPPED_TOKEN_ADDRESS[b];return a.toLowerCase()===h.ETH_ADDRESS.toLowerCase()||a.toLowerCase()===c.toLowerCase()};b.isETHOrWETH=l,b.GelatoBase=class{constructor(a,c,d,k,l){if(k&&!(0,b.isValidChainIdAndHandler)(a,k))throw Error("Invalid chainId and handler");this._chainId=a,this._gelatoFeeBPS=(0,j.isEthereumChain)(a)?0:h.BPS_GELATO_FEE[a],this._slippageBPS=h.STOP_LIMIT_SLIPPAGE_BPS[a],this._subgraphUrl=h.SUBGRAPH_URL[a],this._signer=g.Signer.isSigner(d)?d:void 0,this._provider=f.Provider.isProvider(d)?d:g.Signer.isSigner(d)?d.provider:void 0,this._gelatoCore=this._signer?i.GelatoLimitOrders__factory.connect(h.GELATO_LIMIT_ORDERS_ADDRESS[this._chainId],this._signer):this._provider?i.GelatoLimitOrders__factory.connect(h.GELATO_LIMIT_ORDERS_ADDRESS[this._chainId],this._provider):new e.Contract(h.GELATO_LIMIT_ORDERS_ADDRESS[this._chainId],i.GelatoLimitOrders__factory.createInterface()),this._abiEncoder=new e.utils.AbiCoder,this._erc20OrderRouter=this._signer?i.ERC20OrderRouter__factory.connect(h.GELATO_LIMIT_ORDERS_ERC20_ORDER_ROUTER[this._chainId],this._signer):this._provider?i.ERC20OrderRouter__factory.connect(h.GELATO_LIMIT_ORDERS_ERC20_ORDER_ROUTER[this._chainId],this._provider):new e.Contract(h.GELATO_LIMIT_ORDERS_ERC20_ORDER_ROUTER[this._chainId],i.ERC20OrderRouter__factory.createInterface()),this._handler=k,this._handlerAddress=l,this._moduleAddress=c}get gelatoFeeBPS(){return this._gelatoFeeBPS}get slippageBPS(){return this._slippageBPS}get chainId(){return this._chainId}get signer(){return this._signer}get provider(){return this._provider}get subgraphUrl(){return this._subgraphUrl}get handler(){return this._handler}get handlerAddress(){return this._handlerAddress}get moduleAddress(){return this._moduleAddress}get contract(){return this._gelatoCore}get erc20OrderRouter(){return this._erc20OrderRouter}get abiEncoder(){return this._abiEncoder}encodeLimitOrderCancellation(a,b){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this._gelatoCore)throw Error("No gelato limit orders contract");if(!a.inputToken)throw Error("No input token in order");if(!a.witness)throw Error("No witness in order");if(!a.outputToken)throw Error("No output token in order");if(!a.minReturn)throw Error("No minReturn in order");if(!a.owner)throw Error("No owner");if(b){let c=yield this.isActiveOrder(a);if(!c)throw Error("Order not found. Please review your order data.")}let d=this._gelatoCore.interface.encodeFunctionData("cancelOrder",[this._moduleAddress,a.inputToken,a.owner,a.witness,a.data,]);return{data:d,to:this._gelatoCore.address,value:e.constants.Zero}})}cancelStopLimitOrder(a,b,c){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this._signer)throw Error("No signer");if(!this._gelatoCore)throw Error("No gelato limit orders contract");if(!a.inputToken)throw Error("No input token in order");if(!a.witness)throw Error("No witness in order");if(!a.outputToken)throw Error("No output token in order");if(!a.minReturn)throw Error("No minReturn in order");if(!a.data)throw Error("No data in order");if(b){let d=yield this.isActiveOrder(a);if(!d)throw Error("Order not found. Please review your order data.")}let e=yield this._signer.getAddress();if(e.toLowerCase()!==a.owner.toLowerCase())throw Error("Owner and signer mismatch");return this._gelatoCore.cancelOrder(this._moduleAddress,a.inputToken,a.owner,a.witness,a.data,null!=c?c:{gasLimit:(0,j.isEthereumChain)(this._chainId)?5e5:15e5})})}approveTokenAmount(a,b,c){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this._signer)throw Error("No signer");return c?i.ERC20__factory.connect(a,this._signer).approve(this._erc20OrderRouter.address,b,c):i.ERC20__factory.connect(a,this._signer).approve(this._erc20OrderRouter.address,b)})}isActiveOrder(a){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this._provider)throw Error("No provider");if(!this._gelatoCore)throw Error("No gelato limit orders contract");if(!a.module)throw Error("No module in order");if(!a.inputToken)throw Error("No input token in order");if(!a.owner)throw Error("No owner in order");if(!a.witness)throw Error("No witness in order");if(!a.data)throw Error("No data in order");return this._gelatoCore.existOrder(a.module,a.inputToken,a.owner,a.witness,a.data)})}getExchangeRate(a,b,c,d,f=!1){let g=e.BigNumber.from(10).pow(e.BigNumber.from(18));return f?e.BigNumber.from(a).mul(g).div(c).mul(e.BigNumber.from(10).pow(e.BigNumber.from(d))).div(e.BigNumber.from(10).pow(e.BigNumber.from(b))).toString():e.BigNumber.from(c).mul(g).div(a).mul(e.BigNumber.from(10).pow(e.BigNumber.from(b))).div(e.BigNumber.from(10).pow(e.BigNumber.from(d))).toString()}getFeeAndSlippageAdjustedMinReturn(a,b){if(b&&!Number.isInteger(b))throw Error("Extra Slippage BPS must an unsigned integer");let c=(0,j.isEthereumChain)(this._chainId)?0:e.BigNumber.from(a).mul(this._gelatoFeeBPS).div(1e4).gte(1)?e.BigNumber.from(a).mul(this._gelatoFeeBPS).div(1e4):e.BigNumber.from(1),d=b||this._slippageBPS,f=e.BigNumber.from(a).mul(d).div(1e4),g=e.BigNumber.from(a).sub(c).sub(f);return{minReturn:g.toString(),slippage:f.toString(),gelatoFee:c.toString()}}getAdjustedMinReturn(a,b){if((0,j.isEthereumChain)(this._chainId))throw Error("Method not available for current chain.");let c=e.BigNumber.from(this._gelatoFeeBPS),d=b?e.BigNumber.from(b):e.BigNumber.from(this._slippageBPS),f=c.add(d),g=e.BigNumber.from(a).mul(1e4).div(e.BigNumber.from(1e4).sub(f));return g.toString()}getExecutionPrice(a,b,c,d,f=!1){let g=e.BigNumber.from(10).pow(e.BigNumber.from(f?d:b));return f?e.BigNumber.from(a).mul(g).div(c).toString():e.BigNumber.from(c).mul(g).div(a).toString()}_getKey(a){return e.utils.keccak256(this._abiEncoder.encode(["address","address","address","address","bytes"],[a.module,a.inputToken,a.owner,a.witness,a.data]))}_encodeSubmitData(a,b,c,f,g,k,l,m,n){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this.provider)throw Error("No provider");if(!this.handlerAddress)throw Error("No handlerAddress");if(a.toLowerCase()===b.toLowerCase())throw Error("Input token and output token can not be equal");let d=this.abiEncoder.encode(["address","uint256","address","uint256"],[b,l,this.handlerAddress,k]),o,p,q;if((0,j.isNetworkGasToken)(a)){let r=yield this.contract.encodeEthOrder(this.moduleAddress,h.ETH_ADDRESS,c,f,d,m);o=this.contract.interface.encodeFunctionData("depositEth",[r,]),p=g,q=this.contract.address}else{if(n){let s=yield i.ERC20__factory.connect(a,this.provider).allowance(c,this.erc20OrderRouter.address);if(s.lt(g))throw Error("Insufficient token allowance for placing order")}o=this.erc20OrderRouter.interface.encodeFunctionData("depositToken",[g,this.moduleAddress,a,c,f,d,m,]),p=e.constants.Zero,q=this.erc20OrderRouter.address}return{data:o,value:p,to:q}})}}},45741:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.GelatoStopLimitOrders=void 0;let d=c(70655),e=c(72067),f=c(89744),g=c(50105),h=c(73813);class i extends g.GelatoBase{constructor(a,b,c){var d;if(c&&!(0,g.isValidChainIdAndHandler)(a,c))throw Error("Invalid chainId and handler");let e=f.NETWORK_STOP_LIMIT_HANDLERS[a];if(!c)throw Error("No Handler defined");if(c&&!e.includes(c))throw Error("Handler not supported");let h=f.GELATO_STOP_LIMIT_ORDERS_MODULE_ADDRESS[a];if(!h)throw Error("Invalid chainId and handler");let i=null===(d=f.HANDLERS_ADDRESSES[a][c])|| void 0===d?void 0:d.toLowerCase();super(a,h,b,c,i)}submitStopLimitOrder(a,b,c,f,g=!0,h){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!this.signer)throw Error("No signer");if(!f)throw Error("No StopLimit defined");let d=yield this.signer.getAddress(),i=yield this.encodeStopLimitOrderSubmission(a,b,c,f,d,g);return this.signer.sendTransaction(Object.assign(Object.assign({},h),{to:i.to,data:i.data,value:e.BigNumber.from(i.value)}))})}encodeStopLimitOrderSubmission(a,b,c,e,f,g=!0){return(0,d.__awaiter)(this,void 0,void 0,function*(){let{payload:d}=yield this.encodeStopLimitOrderSubmissionWithSecret(a,b,c,e,f,g);return d})}encodeStopLimitOrderSubmissionWithSecret(a,b,c,f,g,h=!0){var i;return(0,d.__awaiter)(this,void 0,void 0,function*(){if(!f)throw Error("No StopLimit defined");if(!this.handlerAddress)throw Error("No handlerAddress");let d=e.utils.hexlify(e.utils.randomBytes(19)).replace("0x",""),j=`0x67656c61746f6e6574776f726b${d}`,{privateKey:k,address:l}=new e.Wallet(j),{minReturn:m}=this.getFeeAndSlippageAdjustedMinReturn(f),n=yield this._encodeSubmitData(a,b,g,l,c,f,m,k,h),o=this.abiEncoder.encode(["address","uint256","address","uint256"],[b,m,this.handlerAddress,f]);return{payload:n,secret:k,witness:l,order:{id:this._getKey({module:this.moduleAddress,inputToken:a,owner:g,witness:l,data:o}),module:this.moduleAddress.toLowerCase(),data:o,inputToken:a.toLowerCase(),outputToken:b.toLowerCase(),owner:g.toLowerCase(),witness:l.toLowerCase(),inputAmount:c.toString(),minReturn:m.toString(),maxReturn:f.toString(),adjustedMinReturn:f.toString(),inputData:n.data.toString(),secret:k.toLowerCase(),handler:null!==(i=this.handlerAddress)&& void 0!==i?i:null}}})}getOpenStopLimitOrders(a){return(0,d.__awaiter)(this,void 0,void 0,function*(){let b=yield(0,h.queryStopLimitOrders)(a,this.chainId);return b})}getStopLimitOrders(a){return(0,d.__awaiter)(this,void 0,void 0,function*(){let b=yield(0,h.queryStopLimitOrders)(a,this.chainId);return b})}getExecutedStopLimitOrders(a){return(0,d.__awaiter)(this,void 0,void 0,function*(){let b=yield(0,h.queryStopLimitExecutedOrders)(a,this.chainId);return b})}getCancelledStopLimitOrders(a){return(0,d.__awaiter)(this,void 0,void 0,function*(){let b=yield(0,h.queryStopLimitCancelledOrders)(a,this.chainId);return b})}getPastStopLimitOrders(a){return(0,d.__awaiter)(this,void 0,void 0,function*(){let b=yield(0,h.queryPastOrders)(a,this.chainId);return b})}}b.GelatoStopLimitOrders=i},82938:function(a,b){Object.defineProperty(b,"__esModule",{value:!0})},41153:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.isEthereumChain=b.isTransactionCostDependentChain=b.isNetworkGasToken=b.queries=void 0;let d=c(70655),e=c(89744);b.queries=(0,d.__importStar)(c(39258));let f=a=>a.toLowerCase()===e.ETH_ADDRESS.toLowerCase();b.isNetworkGasToken=f;let g=a=>{switch(a){case 1:case 3:case 5:case 56:case 250:case 43114:return!0;default:return!1}};b.isTransactionCostDependentChain=g;let h=a=>{switch(a){case 1:case 3:case 5:return!0;default:return!1}};b.isEthereumChain=h},39258:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.GET_ALL_STOP_LIMIT_ORDERS_BY_OWNER=b.GET_ALL_CANCELLED_ORDERS_BY_OWNER=b.GET_ALL_EXECUTED_ORDERS_BY_OWNER=b.GET_ALL_PAST_ORDERS_BY_OWNER=b.GET_ALL_OPEN_ORDERS_BY_OWNER=b.GET_ALL_ORDERS_BY_OWNER=b.GET_ORDER_BY_ID=void 0;let d=c(66729);b.GET_ORDER_BY_ID=d.gql`
  query getOrdersByOwner($id: String) {
    orders(where: { id: $id }) {
      id
      owner
      inputToken
      outputToken
      minReturn
      module
      witness
      secret
      inputAmount
      vault
      bought
      auxData
      status
      createdTxHash
      executedTxHash
      cancelledTxHash
      blockNumber
      createdAt
      updatedAt
      updatedAtBlock
      updatedAtBlockHash
      data
      inputData
      handler
    }
  }
`,b.GET_ALL_ORDERS_BY_OWNER=d.gql`
  query getOrdersByOwner($owner: String) {
    orders(
      first: 1000
      orderBy: updatedAtBlock
      orderDirection: desc
      where: { owner: $owner }
    ) {
      id
      owner
      inputToken
      outputToken
      minReturn
      module
      witness
      secret
      inputAmount
      vault
      bought
      auxData
      status
      createdTxHash
      executedTxHash
      cancelledTxHash
      blockNumber
      createdAt
      updatedAt
      updatedAtBlock
      updatedAtBlockHash
      data
      inputData
      handler
    }
  }
`,b.GET_ALL_OPEN_ORDERS_BY_OWNER=d.gql`
  query getOpenOrdersByOwner($owner: String) {
    orders(
      first: 1000
      orderBy: updatedAtBlock
      orderDirection: desc
      where: { owner: $owner, status: open }
    ) {
      id
      owner
      inputToken
      outputToken
      minReturn
      module
      witness
      secret
      inputAmount
      vault
      bought
      auxData
      status
      createdTxHash
      executedTxHash
      cancelledTxHash
      blockNumber
      createdAt
      updatedAt
      updatedAtBlock
      updatedAtBlockHash
      data
      inputData
      handler
    }
  }
`,b.GET_ALL_PAST_ORDERS_BY_OWNER=d.gql`
  query getPastOrdersByOwner($owner: String) {
    orders(
      first: 1000
      orderBy: updatedAtBlock
      orderDirection: desc
      where: { owner: $owner, status_not: open }
    ) {
      id
      owner
      inputToken
      outputToken
      minReturn
      module
      witness
      secret
      inputAmount
      vault
      bought
      auxData
      status
      createdTxHash
      executedTxHash
      cancelledTxHash
      blockNumber
      createdAt
      updatedAt
      updatedAtBlock
      updatedAtBlockHash
      data
      inputData
      handler
    }
  }
`,b.GET_ALL_EXECUTED_ORDERS_BY_OWNER=d.gql`
  query getExecutedOrdersByOwner($owner: String) {
    orders(
      first: 1000
      orderBy: updatedAtBlock
      orderDirection: desc
      where: { owner: $owner, status: executed }
    ) {
      id
      owner
      inputToken
      outputToken
      minReturn
      module
      witness
      secret
      inputAmount
      vault
      bought
      auxData
      status
      createdTxHash
      executedTxHash
      cancelledTxHash
      blockNumber
      createdAt
      updatedAt
      updatedAtBlock
      updatedAtBlockHash
      data
      inputData
      handler
    }
  }
`,b.GET_ALL_CANCELLED_ORDERS_BY_OWNER=d.gql`
  query getCancelledOrdersByOwner($owner: String) {
    orders(
      first: 1000
      orderBy: updatedAtBlock
      orderDirection: desc
      where: { owner: $owner, status: cancelled }
    ) {
      id
      owner
      inputToken
      outputToken
      minReturn
      module
      witness
      secret
      inputAmount
      vault
      bought
      auxData
      status
      createdTxHash
      executedTxHash
      cancelledTxHash
      blockNumber
      createdAt
      updatedAt
      updatedAtBlock
      updatedAtBlockHash
      data
      inputData
      handler
    }
  }
`,b.GET_ALL_STOP_LIMIT_ORDERS_BY_OWNER=d.gql`
  query getOrdersByOwner($owner: String, $module: String) {
    orders(
      first: 1000
      orderBy: updatedAtBlock
      orderDirection: desc
      where: { owner: $owner, module: $module }
    ) {
      id
      owner
      inputToken
      outputToken
      minReturn
      maxReturn
      module
      witness
      secret
      inputAmount
      vault
      bought
      auxData
      status
      createdTxHash
      executedTxHash
      cancelledTxHash
      blockNumber
      createdAt
      updatedAt
      updatedAtBlock
      updatedAtBlockHash
      data
      inputData
      handler
    }
  }
`},40615:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b.queryCancelledOrders=b.queryExecutedOrders=b.queryPastOrders=b.queryOpenOrders=b.queryOrders=b.queryOrder=void 0;let d=c(70655),e=c(66729),f=c(89744),g=c(39258),h=a=>f.GELATO_STOP_LIMIT_ORDERS_MODULE_ADDRESS[a].toLowerCase(),i=(a,b)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){var c;try{let d=f.OLD_SUBGRAPH_URL[b]?yield(0,e.request)(f.OLD_SUBGRAPH_URL[b],g.GET_ORDER_BY_ID,{id:a.toLowerCase()}):{orders:[]},h=f.SUBGRAPH_URL[b]?yield(0,e.request)(f.SUBGRAPH_URL[b],g.GET_ORDER_BY_ID,{id:a.toLowerCase()}):{orders:[]},i=[...d.orders,...h.orders,];return null!==(c=o(i,b).pop())&& void 0!==c?c:null}catch(j){throw Error("Could not query subgraph for all orders")}});b.queryOrder=i;let j=(a,b)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){try{let c=f.OLD_SUBGRAPH_URL[b]?yield(0,e.request)(f.OLD_SUBGRAPH_URL[b],g.GET_ALL_ORDERS_BY_OWNER,{owner:a.toLowerCase()}):{orders:[]},d=f.SUBGRAPH_URL[b]?yield(0,e.request)(f.SUBGRAPH_URL[b],g.GET_ALL_ORDERS_BY_OWNER,{owner:a.toLowerCase()}):{orders:[]},h=[...c.orders,...d.orders,];return o(h,b)}catch(i){throw Error("Could not query subgraph for all orders")}});b.queryOrders=j;let k=(a,b)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){try{let c=f.OLD_SUBGRAPH_URL[b]?yield(0,e.request)(f.OLD_SUBGRAPH_URL[b],g.GET_ALL_ORDERS_BY_OWNER,{owner:a.toLowerCase()}):{orders:[]},d=f.SUBGRAPH_URL[b]?yield(0,e.request)(f.SUBGRAPH_URL[b],g.GET_ALL_ORDERS_BY_OWNER,{owner:a.toLowerCase()}):{orders:[]},h=[...c.orders,...d.orders,];return o(h,b).filter(a=>"open"===a.status)}catch(i){throw Error("Could not query subgraph for open orders")}});b.queryOpenOrders=k;let l=(a,b)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){try{let c=f.OLD_SUBGRAPH_URL[b]?yield(0,e.request)(f.OLD_SUBGRAPH_URL[b],g.GET_ALL_ORDERS_BY_OWNER,{owner:a.toLowerCase()}):{orders:[]},d=f.SUBGRAPH_URL[b]?yield(0,e.request)(f.SUBGRAPH_URL[b],g.GET_ALL_ORDERS_BY_OWNER,{owner:a.toLowerCase()}):{orders:[]},h=[...c.orders,...d.orders,];return o(h,b).filter(a=>"open"!==a.status)}catch(i){throw Error("Could not query subgraph for past orders")}});b.queryPastOrders=l;let m=(a,b)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){try{let c=f.OLD_SUBGRAPH_URL[b]?yield(0,e.request)(f.OLD_SUBGRAPH_URL[b],g.GET_ALL_ORDERS_BY_OWNER,{owner:a.toLowerCase()}):{orders:[]},d=f.SUBGRAPH_URL[b]?yield(0,e.request)(f.SUBGRAPH_URL[b],g.GET_ALL_ORDERS_BY_OWNER,{owner:a.toLowerCase()}):{orders:[]},h=[...c.orders,...d.orders,];return o(h,b).filter(a=>"executed"===a.status)}catch(i){throw Error("Could not query subgraph for executed orders")}});b.queryExecutedOrders=m;let n=(a,b)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){try{let c=f.OLD_SUBGRAPH_URL[b]?yield(0,e.request)(f.OLD_SUBGRAPH_URL[b],g.GET_ALL_ORDERS_BY_OWNER,{owner:a.toLowerCase()}):{orders:[]},d=f.SUBGRAPH_URL[b]?yield(0,e.request)(f.SUBGRAPH_URL[b],g.GET_ALL_ORDERS_BY_OWNER,{owner:a.toLowerCase()}):{orders:[]},h=[...c.orders,...d.orders,];return o(h,b).filter(a=>"cancelled"===a.status)}catch(i){throw Error("Could not query subgraph for cancelled orders")}});b.queryCancelledOrders=n;let o=(a,b)=>[...new Map(a.map(a=>[a.id,a])).values()].sort((a,b)=>parseFloat(a.updatedAt)-parseFloat(b.updatedAt)).filter(a=>a.module!==h(b)).map(a=>{let b=Date.now()>(parseInt(a.createdAt)+f.MAX_LIFETIME_IN_SECONDS)*1e3;return Object.assign(Object.assign({},a),{isExpired:b})})},73813:function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0}),b._getUniqueOrdersWithExpiry=b.queryPastOrders=b.queryStopLimitCancelledOrders=b.queryStopLimitExecutedOrders=b.queryOpenStopLimitOrders=b.queryStopLimitOrders=void 0;let d=c(70655),e=c(66729),f=c(89744),g=c(39258),h=(a,c)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){try{let d=f.SUBGRAPH_URL[c]?yield(0,e.request)(f.SUBGRAPH_URL[c],g.GET_ALL_STOP_LIMIT_ORDERS_BY_OWNER,{owner:a.toLowerCase(),module:f.GELATO_STOP_LIMIT_ORDERS_MODULE_ADDRESS[c].toLowerCase()}):{orders:[]},h=d.orders;return(0,b._getUniqueOrdersWithExpiry)(h)}catch(i){throw console.error(i),Error("Could not query subgraph for all orders")}});b.queryStopLimitOrders=h;let i=(a,c)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){try{let d=f.SUBGRAPH_URL[c]?yield(0,e.request)(f.SUBGRAPH_URL[c],g.GET_ALL_STOP_LIMIT_ORDERS_BY_OWNER,{owner:a.toLowerCase(),module:f.GELATO_STOP_LIMIT_ORDERS_MODULE_ADDRESS[c].toLowerCase()}):{orders:[]},h=d.orders;return(0,b._getUniqueOrdersWithExpiry)(h).filter(a=>"open"===a.status)}catch(i){throw Error("Could not query subgraph for open orders")}});b.queryOpenStopLimitOrders=i;let j=(a,c)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){try{let d=f.SUBGRAPH_URL[c]?yield(0,e.request)(f.SUBGRAPH_URL[c],g.GET_ALL_STOP_LIMIT_ORDERS_BY_OWNER,{owner:a.toLowerCase(),module:f.GELATO_STOP_LIMIT_ORDERS_MODULE_ADDRESS[c].toLowerCase()}):{orders:[]},h=d.orders;return(0,b._getUniqueOrdersWithExpiry)(h).filter(a=>"executed"===a.status)}catch(i){throw Error("Could not query subgraph for executed orders")}});b.queryStopLimitExecutedOrders=j;let k=(a,c)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){try{let d=f.SUBGRAPH_URL[c]?yield(0,e.request)(f.SUBGRAPH_URL[c],g.GET_ALL_STOP_LIMIT_ORDERS_BY_OWNER,{owner:a.toLowerCase(),module:f.GELATO_STOP_LIMIT_ORDERS_MODULE_ADDRESS[c].toLowerCase()}):{orders:[]},h=d.orders;return(0,b._getUniqueOrdersWithExpiry)(h).filter(a=>"cancelled"===a.status)}catch(i){throw Error("Could not query subgraph for cancelled orders")}});b.queryStopLimitCancelledOrders=k;let l=(a,c)=>(0,d.__awaiter)(void 0,void 0,void 0,function*(){try{let d=f.SUBGRAPH_URL[c]?yield(0,e.request)(f.SUBGRAPH_URL[c],g.GET_ALL_STOP_LIMIT_ORDERS_BY_OWNER,{owner:a.toLowerCase(),module:f.GELATO_STOP_LIMIT_ORDERS_MODULE_ADDRESS[c].toLowerCase()}):{orders:[]},h=d.orders;return(0,b._getUniqueOrdersWithExpiry)(h).filter(a=>"open"!==a.status)}catch(i){throw Error("Could not query subgraph for past orders")}});b.queryPastOrders=l;let m=a=>[...new Map(a.map(a=>[a.id,a])).values()].sort((a,b)=>parseFloat(a.updatedAt)-parseFloat(b.updatedAt)).map(a=>{let b=Date.now()>(parseInt(a.createdAt)+f.MAX_LIFETIME_IN_SECONDS)*1e3;return Object.assign(Object.assign({},a),{isExpired:b})});b._getUniqueOrdersWithExpiry=m},72067:function(a,b,c){c.r(b),c.d(b,{BaseContract:function(){return aT},BigNumber:function(){return p.O$},Contract:function(){return aU},ContractFactory:function(){return aV},FixedNumber:function(){return aW.xs},Signer:function(){return n.Signer},VoidSigner:function(){return n.VoidSigner},Wallet:function(){return b5},Wordlist:function(){return bk},constants:function(){return f},errors:function(){return ai.jK},ethers:function(){return j},getDefaultProvider:function(){return en},logger:function(){return eA},providers:function(){return g},utils:function(){return i},version:function(){return ez},wordlists:function(){return bo}});var d,e,f={};c.r(f),c.d(f,{AddressZero:function(){return b8.d},EtherSymbol:function(){return ca},HashZero:function(){return b9.R},MaxInt256:function(){return s.PS},MaxUint256:function(){return s.Bz},MinInt256:function(){return s.$B},NegativeOne:function(){return s.tL},One:function(){return s.fh},Two:function(){return s.Py},WeiPerEther:function(){return s.Ce},Zero:function(){return s._Y}});var g={};c.r(g),c.d(g,{AlchemyProvider:function(){return dF},AlchemyWebSocketProvider:function(){return dE},AnkrProvider:function(){return dI},BaseProvider:function(){return dd},CloudflareProvider:function(){return dK},EtherscanProvider:function(){return dT},FallbackProvider:function(){return d6},Formatter:function(){return cN},InfuraProvider:function(){return eb},InfuraWebSocketProvider:function(){return ea},IpcProvider:function(){return d7},JsonRpcBatchProvider:function(){return ec},JsonRpcProvider:function(){return dr},JsonRpcSigner:function(){return dn},NodesmithProvider:function(){return ee},PocketProvider:function(){return eh},Provider:function(){return m.Provider},Resolver:function(){return da},StaticJsonRpcProvider:function(){return dA},UrlJsonRpcProvider:function(){return dB},Web3Provider:function(){return el},WebSocketProvider:function(){return dy},getDefaultProvider:function(){return en},getNetwork:function(){return ci},isCommunityResourcable:function(){return cO},isCommunityResource:function(){return cP},showThrottleMessage:function(){return cR}});var h={};c.r(h),c.d(h,{decode:function(){return cj},encode:function(){return ck}});var i={};c.r(i),c.d(i,{AbiCoder:function(){return eo.R},ConstructorFragment:function(){return ep.Xg},ErrorFragment:function(){return ep.IC},EventFragment:function(){return ep.QV},FormatTypes:function(){return ep.pc},Fragment:function(){return ep.HY},FunctionFragment:function(){return ep.YW},HDNode:function(){return bz},Indexed:function(){return l.Hk},Interface:function(){return l.vU},LogDescription:function(){return l.CC},Logger:function(){return ai.Yd},ParamType:function(){return ep._R},RLP:function(){return u},SigningKey:function(){return am},SupportedAlgorithm:function(){return bi.p},TransactionDescription:function(){return l.vk},TransactionTypes:function(){return e},UnicodeNormalizationForm:function(){return aX.Uj},Utf8ErrorFuncs:function(){return aX.te},Utf8ErrorReason:function(){return aX.Uw},"_TypedDataEncoder":function(){return bd},"_fetchData":function(){return cG},"_toEscapedUtf8String":function(){return aX.U$},accessListify:function(){return ay},arrayify:function(){return q.lE},base58:function(){return bf},base64:function(){return h},checkProperties:function(){return r.uj},checkResultErrors:function(){return k.BR},commify:function(){return eu},computeAddress:function(){return au},computeHmac:function(){return bg.Gy},computePublicKey:function(){return ao},concat:function(){return q.zo},deepCopy:function(){return r.p$},defaultAbiCoder:function(){return eo.$},defaultPath:function(){return by},defineReadOnly:function(){return r.zG},dnsEncode:function(){return cB},entropyToMnemonic:function(){return bC},fetchJson:function(){return cH},formatBytes32String:function(){return er.s},formatEther:function(){return ex},formatUnits:function(){return ev},getAccountPath:function(){return bE},getAddress:function(){return o.Kn},getContractAddress:function(){return o.CR},getCreate2Address:function(){return o.hB},getIcapAddress:function(){return o.vU},getJsonWalletAddress:function(){return b2},getStatic:function(){return r.tu},hashMessage:function(){return aY},hexConcat:function(){return q.xs},hexDataLength:function(){return q.E1},hexDataSlice:function(){return q.p3},hexStripZeros:function(){return q.Ou},hexValue:function(){return q.$P},hexZeroPad:function(){return q.$m},hexlify:function(){return q.Dv},id:function(){return a$.id},isAddress:function(){return o.UJ},isBytes:function(){return q._t},isBytesLike:function(){return q.Zq},isHexString:function(){return q.A7},isValidMnemonic:function(){return bD},isValidName:function(){return cz},joinSignature:function(){return q.gV},keccak256:function(){return t.w},mnemonicToEntropy:function(){return bB},mnemonicToSeed:function(){return bA},namehash:function(){return cA},nameprep:function(){return cv},parseBytes32String:function(){return er.F},parseEther:function(){return ey},parseTransaction:function(){return aE},parseUnits:function(){return ew},poll:function(){return cI},randomBytes:function(){return bI},recoverAddress:function(){return av},recoverPublicKey:function(){return an},resolveProperties:function(){return r.mE},ripemd160:function(){return bg.bP},serializeTransaction:function(){return aC},sha256:function(){return bg.JQ},sha512:function(){return bg.o},shallowCopy:function(){return r.DC},shuffled:function(){return dU},solidityKeccak256:function(){return eq.wn},solidityPack:function(){return eq.P2},soliditySha256:function(){return eq.JQ},splitSignature:function(){return q.N},stripZeros:function(){return q.G1},toUtf8Bytes:function(){return aX.Y0},toUtf8CodePoints:function(){return aX.XL},toUtf8String:function(){return aX.ZN},verifyMessage:function(){return b6},verifyTypedData:function(){return b7},zeroPad:function(){return q.Bu}});var j={};c.r(j),c.d(j,{BaseContract:function(){return aT},BigNumber:function(){return p.O$},Contract:function(){return aU},ContractFactory:function(){return aV},FixedNumber:function(){return aW.xs},Signer:function(){return n.Signer},VoidSigner:function(){return n.VoidSigner},Wallet:function(){return b5},Wordlist:function(){return bk},constants:function(){return f},errors:function(){return ai.jK},getDefaultProvider:function(){return en},logger:function(){return eA},providers:function(){return g},utils:function(){return i},version:function(){return ez},wordlists:function(){return bo}});var k=c(61184),l=c(8198),m=c(81556),n=c(48088),o=c(19485),p=c(2593),q=c(16441),r=c(6881),s=c(21046),t=c(38197),u=c(59052),v=c(13550),w=c.n(v),x=c(33715),y=c.n(x);function z(a,b,c){return c={path:b,exports:{},require:function(a,b){return A(a,null==b?c.path:b)}},a(c,c.exports),c.exports}function A(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==c.g?c.g:"undefined"!=typeof self&&self;var B=C;function C(a,b){if(!a)throw Error(b||"Assertion failed")}C.equal=function(a,b,c){if(a!=b)throw Error(c||"Assertion failed: "+a+" != "+b)};var D=z(function(a,b){var c=b;function d(a){return 1===a.length?"0"+a:a}function e(a){for(var b="",c=0;c<a.length;c++)b+=d(a[c].toString(16));return b}c.toArray=function(a,b){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if("string"!=typeof a){for(var d=0;d<a.length;d++)c[d]=0|a[d];return c}if("hex"===b){(a=a.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(a="0"+a);for(var d=0;d<a.length;d+=2)c.push(parseInt(a[d]+a[d+1],16))}else for(var d=0;d<a.length;d++){var e=a.charCodeAt(d),f=e>>8,g=255&e;f?c.push(f,g):c.push(g)}return c},c.zero2=d,c.toHex=e,c.encode=function(a,b){return"hex"===b?e(a):a}}),E=z(function(a,b){var c=b;c.assert=B,c.toArray=D.toArray,c.zero2=D.zero2,c.toHex=D.toHex,c.encode=D.encode,c.getNAF=function(a,b,c){var d=Array(Math.max(a.bitLength(),c)+1);d.fill(0);for(var e=1<<b+1,f=a.clone(),g=0;g<d.length;g++){var h,i=f.andln(e-1);f.isOdd()?(h=i>(e>>1)-1?(e>>1)-i:i,f.isubn(h)):h=0,d[g]=h,f.iushrn(1)}return d},c.getJSF=function(a,b){var c=[[],[],];a=a.clone(),b=b.clone();for(var d=0,e=0;a.cmpn(-d)>0||b.cmpn(-e)>0;){var f,g,h,i=a.andln(3)+d&3,j=b.andln(3)+e&3;3===i&&(i=-1),3===j&&(j=-1),g=(1&i)==0?0:(3==(f=a.andln(7)+d&7)||5===f)&&2===j?-i:i,c[0].push(g),h=(1&j)==0?0:(3==(f=b.andln(7)+e&7)||5===f)&&2===i?-j:j,c[1].push(h),2*d===g+1&&(d=1-d),2*e===h+1&&(e=1-e),a.iushrn(1),b.iushrn(1)}return c},c.cachedProperty=function(a,b,c){var d="_"+b;a.prototype[b]=function(){return void 0!==this[d]?this[d]:this[d]=c.call(this)}},c.parseBytes=function(a){return"string"==typeof a?c.toArray(a,"hex"):a},c.intFromLE=function(a){return new(w())(a,"hex","le")}}),F=E.getNAF,G=E.getJSF,H=E.assert;function I(a,b){this.type=a,this.p=new(w())(b.p,16),this.red=b.prime?w().red(b.prime):w().mont(this.p),this.zero=new(w())(0).toRed(this.red),this.one=new(w())(1).toRed(this.red),this.two=new(w())(2).toRed(this.red),this.n=b.n&&new(w())(b.n,16),this.g=b.g&&this.pointFromJSON(b.g,b.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var c=this.n&&this.p.div(this.n);!c||c.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var J=I;function K(a,b){this.curve=a,this.type=b,this.precomputed=null}I.prototype.point=function(){throw Error("Not implemented")},I.prototype.validate=function(){throw Error("Not implemented")},I.prototype._fixedNafMul=function(a,b){H(a.precomputed);var c,d,e=a._getDoubles(),f=F(b,1,this._bitLength),g=(1<<e.step+1)-(e.step%2==0?2:1);g/=3;var h=[];for(c=0;c<f.length;c+=e.step){d=0;for(var i=c+e.step-1;i>=c;i--)d=(d<<1)+f[i];h.push(d)}for(var j=this.jpoint(null,null,null),k=this.jpoint(null,null,null),l=g;l>0;l--){for(c=0;c<h.length;c++)(d=h[c])===l?k=k.mixedAdd(e.points[c]):d=== -l&&(k=k.mixedAdd(e.points[c].neg()));j=j.add(k)}return j.toP()},I.prototype._wnafMul=function(a,b){var c=4,d=a._getNAFPoints(c);c=d.wnd;for(var e=d.points,f=F(b,c,this._bitLength),g=this.jpoint(null,null,null),h=f.length-1;h>=0;h--){for(var i=0;h>=0&&0===f[h];h--)i++;if(h>=0&&i++,g=g.dblp(i),h<0)break;var j=f[h];H(0!==j),g="affine"===a.type?j>0?g.mixedAdd(e[j-1>>1]):g.mixedAdd(e[-j-1>>1].neg()):j>0?g.add(e[j-1>>1]):g.add(e[-j-1>>1].neg())}return"affine"===a.type?g.toP():g},I.prototype._wnafMulAdd=function(a,b,c,d,e){var f,g,h,i=this._wnafT1,j=this._wnafT2,k=this._wnafT3,l=0;for(f=0;f<d;f++){var m=(h=b[f])._getNAFPoints(a);i[f]=m.wnd,j[f]=m.points}for(f=d-1;f>=1;f-=2){var n=f-1,o=f;if(1!==i[n]||1!==i[o]){k[n]=F(c[n],i[n],this._bitLength),k[o]=F(c[o],i[o],this._bitLength),l=Math.max(k[n].length,l),l=Math.max(k[o].length,l);continue}var p=[b[n],null,null,b[o]];0===b[n].y.cmp(b[o].y)?(p[1]=b[n].add(b[o]),p[2]=b[n].toJ().mixedAdd(b[o].neg())):0===b[n].y.cmp(b[o].y.redNeg())?(p[1]=b[n].toJ().mixedAdd(b[o]),p[2]=b[n].add(b[o].neg())):(p[1]=b[n].toJ().mixedAdd(b[o]),p[2]=b[n].toJ().mixedAdd(b[o].neg()));var q=[-3,-1,-5,-7,0,7,5,1,3],r=G(c[n],c[o]);for(g=0,l=Math.max(r[0].length,l),k[n]=Array(l),k[o]=Array(l);g<l;g++){var s=0|r[0][g],t=0|r[1][g];k[n][g]=q[(s+1)*3+(t+1)],k[o][g]=0,j[n]=p}}var u=this.jpoint(null,null,null),v=this._wnafT4;for(f=l;f>=0;f--){for(var w=0;f>=0;){var x=!0;for(g=0;g<d;g++)v[g]=0|k[g][f],0!==v[g]&&(x=!1);if(!x)break;w++,f--}if(f>=0&&w++,u=u.dblp(w),f<0)break;for(g=0;g<d;g++){var y=v[g];0!==y&&(y>0?h=j[g][y-1>>1]:y<0&&(h=j[g][-y-1>>1].neg()),u="affine"===h.type?u.mixedAdd(h):u.add(h))}}for(f=0;f<d;f++)j[f]=null;return e?u:u.toP()},I.BasePoint=K,K.prototype.eq=function(){throw Error("Not implemented")},K.prototype.validate=function(){return this.curve.validate(this)},I.prototype.decodePoint=function(a,b){a=E.toArray(a,b);var c=this.p.byteLength();if((4===a[0]||6===a[0]||7===a[0])&&a.length-1==2*c)return 6===a[0]?H(a[a.length-1]%2==0):7===a[0]&&H(a[a.length-1]%2==1),this.point(a.slice(1,1+c),a.slice(1+c,1+2*c));if((2===a[0]||3===a[0])&&a.length-1===c)return this.pointFromX(a.slice(1,1+c),3===a[0]);throw Error("Unknown point format")},K.prototype.encodeCompressed=function(a){return this.encode(a,!0)},K.prototype._encode=function(a){var b=this.curve.p.byteLength(),c=this.getX().toArray("be",b);return a?[this.getY().isEven()?2:3].concat(c):[4].concat(c,this.getY().toArray("be",b))},K.prototype.encode=function(a,b){return E.encode(this._encode(b),a)},K.prototype.precompute=function(a){if(this.precomputed)return this;var b={doubles:null,naf:null,beta:null};return b.naf=this._getNAFPoints(8),b.doubles=this._getDoubles(4,a),b.beta=this._getBeta(),this.precomputed=b,this},K.prototype._hasDoubles=function(a){if(!this.precomputed)return!1;var b=this.precomputed.doubles;return!!b&&b.points.length>=Math.ceil((a.bitLength()+1)/b.step)},K.prototype._getDoubles=function(a,b){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var c=[this],d=this,e=0;e<b;e+=a){for(var f=0;f<a;f++)d=d.dbl();c.push(d)}return{step:a,points:c}},K.prototype._getNAFPoints=function(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var b=[this],c=(1<<a)-1,d=1===c?null:this.dbl(),e=1;e<c;e++)b[e]=b[e-1].add(d);return{wnd:a,points:b}},K.prototype._getBeta=function(){return null},K.prototype.dblp=function(a){for(var b=this,c=0;c<a;c++)b=b.dbl();return b};var L=z(function(a){"function"==typeof Object.create?a.exports=function(a,b){b&&(a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(a,b){if(b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}}),M=E.assert;function N(a){J.call(this,"short",a),this.a=new(w())(a.a,16).toRed(this.red),this.b=new(w())(a.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(a),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}L(N,J);var O=N;function P(a,b,c,d){J.BasePoint.call(this,a,"affine"),null===b&&null===c?(this.x=null,this.y=null,this.inf=!0):(this.x=new(w())(b,16),this.y=new(w())(c,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Q(a,b,c,d){J.BasePoint.call(this,a,"jacobian"),null===b&&null===c&&null===d?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(w())(0)):(this.x=new(w())(b,16),this.y=new(w())(c,16),this.z=new(w())(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}N.prototype._getEndomorphism=function(a){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(a.beta)b=new(w())(a.beta,16).toRed(this.red);else{var b,c,d,e=this._getEndoRoots(this.p);b=(b=0>e[0].cmp(e[1])?e[0]:e[1]).toRed(this.red)}if(a.lambda)c=new(w())(a.lambda,16);else{var f=this._getEndoRoots(this.n);0===this.g.mul(f[0]).x.cmp(this.g.x.redMul(b))?c=f[0]:(c=f[1],M(0===this.g.mul(c).x.cmp(this.g.x.redMul(b))))}return d=a.basis?a.basis.map(function(a){return{a:new(w())(a.a,16),b:new(w())(a.b,16)}}):this._getEndoBasis(c),{beta:b,lambda:c,basis:d}}},N.prototype._getEndoRoots=function(a){var b=a===this.p?this.red:w().mont(a),c=new(w())(2).toRed(b).redInvm(),d=c.redNeg(),e=new(w())(3).toRed(b).redNeg().redSqrt().redMul(c),f=d.redAdd(e).fromRed(),g=d.redSub(e).fromRed();return[f,g]},N.prototype._getEndoBasis=function(a){for(var b,c,d,e,f,g,h,i,j,k=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=a,m=this.n.clone(),n=new(w())(1),o=new(w())(0),p=new(w())(0),q=new(w())(1),r=0;0!==l.cmpn(0);){var s=m.div(l);i=m.sub(s.mul(l)),j=p.sub(s.mul(n));var t=q.sub(s.mul(o));if(!d&&0>i.cmp(k))b=h.neg(),c=n,d=i.neg(),e=j;else if(d&&2== ++r)break;h=i,m=l,l=i,p=n,n=j,q=o,o=t}f=i.neg(),g=j;var u=d.sqr().add(e.sqr());return f.sqr().add(g.sqr()).cmp(u)>=0&&(f=b,g=c),d.negative&&(d=d.neg(),e=e.neg()),f.negative&&(f=f.neg(),g=g.neg()),[{a:d,b:e},{a:f,b:g},]},N.prototype._endoSplit=function(a){var b=this.endo.basis,c=b[0],d=b[1],e=d.b.mul(a).divRound(this.n),f=c.b.neg().mul(a).divRound(this.n),g=e.mul(c.a),h=f.mul(d.a),i=e.mul(c.b),j=f.mul(d.b),k=a.sub(g).sub(h),l=i.add(j).neg();return{k1:k,k2:l}},N.prototype.pointFromX=function(a,b){(a=new(w())(a,16)).red||(a=a.toRed(this.red));var c=a.redSqr().redMul(a).redIAdd(a.redMul(this.a)).redIAdd(this.b),d=c.redSqrt();if(0!==d.redSqr().redSub(c).cmp(this.zero))throw Error("invalid point");var e=d.fromRed().isOdd();return(b&&!e|| !b&&e)&&(d=d.redNeg()),this.point(a,d)},N.prototype.validate=function(a){if(a.inf)return!0;var b=a.x,c=a.y,d=this.a.redMul(b),e=b.redSqr().redMul(b).redIAdd(d).redIAdd(this.b);return 0===c.redSqr().redISub(e).cmpn(0)},N.prototype._endoWnafMulAdd=function(a,b,c){for(var d=this._endoWnafT1,e=this._endoWnafT2,f=0;f<a.length;f++){var g=this._endoSplit(b[f]),h=a[f],i=h._getBeta();g.k1.negative&&(g.k1.ineg(),h=h.neg(!0)),g.k2.negative&&(g.k2.ineg(),i=i.neg(!0)),d[2*f]=h,d[2*f+1]=i,e[2*f]=g.k1,e[2*f+1]=g.k2}for(var j=this._wnafMulAdd(1,d,e,2*f,c),k=0;k<2*f;k++)d[k]=null,e[k]=null;return j},L(P,J.BasePoint),N.prototype.point=function(a,b,c){return new P(this,a,b,c)},N.prototype.pointFromJSON=function(a,b){return P.fromJSON(this,a,b)},P.prototype._getBeta=function(){if(this.curve.endo){var a=this.precomputed;if(a&&a.beta)return a.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(a){var c=this.curve,d=function(a){return c.point(a.x.redMul(c.endo.beta),a.y)};a.beta=b,b.precomputed={beta:null,naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(d)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(d)}}}return b}},P.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},P.fromJSON=function(a,b,c){"string"==typeof b&&(b=JSON.parse(b));var d=a.point(b[0],b[1],c);if(!b[2])return d;function e(b){return a.point(b[0],b[1],c)}var f=b[2];return d.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[d].concat(f.doubles.points.map(e))},naf:f.naf&&{wnd:f.naf.wnd,points:[d].concat(f.naf.points.map(e))}},d},P.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},P.prototype.isInfinity=function(){return this.inf},P.prototype.add=function(a){if(this.inf)return a;if(a.inf)return this;if(this.eq(a))return this.dbl();if(this.neg().eq(a)||0===this.x.cmp(a.x))return this.curve.point(null,null);var b=this.y.redSub(a.y);0!==b.cmpn(0)&&(b=b.redMul(this.x.redSub(a.x).redInvm()));var c=b.redSqr().redISub(this.x).redISub(a.x),d=b.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,d)},P.prototype.dbl=function(){if(this.inf)return this;var a=this.y.redAdd(this.y);if(0===a.cmpn(0))return this.curve.point(null,null);var b=this.curve.a,c=this.x.redSqr(),d=a.redInvm(),e=c.redAdd(c).redIAdd(c).redIAdd(b).redMul(d),f=e.redSqr().redISub(this.x.redAdd(this.x)),g=e.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,g)},P.prototype.getX=function(){return this.x.fromRed()},P.prototype.getY=function(){return this.y.fromRed()},P.prototype.mul=function(a){return(a=new(w())(a,16),this.isInfinity())?this:this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve.endo?this.curve._endoWnafMulAdd([this],[a]):this.curve._wnafMul(this,a)},P.prototype.mulAdd=function(a,b,c){var d=[this,b],e=[a,c];return this.curve.endo?this.curve._endoWnafMulAdd(d,e):this.curve._wnafMulAdd(1,d,e,2)},P.prototype.jmulAdd=function(a,b,c){var d=[this,b],e=[a,c];return this.curve.endo?this.curve._endoWnafMulAdd(d,e,!0):this.curve._wnafMulAdd(1,d,e,2,!0)},P.prototype.eq=function(a){return this===a||this.inf===a.inf&&(this.inf||0===this.x.cmp(a.x)&&0===this.y.cmp(a.y))},P.prototype.neg=function(a){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(a&&this.precomputed){var c=this.precomputed,d=function(a){return a.neg()};b.precomputed={naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(d)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(d)}}}return b},P.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},L(Q,J.BasePoint),N.prototype.jpoint=function(a,b,c){return new Q(this,a,b,c)},Q.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var a=this.z.redInvm(),b=a.redSqr(),c=this.x.redMul(b),d=this.y.redMul(b).redMul(a);return this.curve.point(c,d)},Q.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Q.prototype.add=function(a){if(this.isInfinity())return a;if(a.isInfinity())return this;var b=a.z.redSqr(),c=this.z.redSqr(),d=this.x.redMul(b),e=a.x.redMul(c),f=this.y.redMul(b.redMul(a.z)),g=a.y.redMul(c.redMul(this.z)),h=d.redSub(e),i=f.redSub(g);if(0===h.cmpn(0))return 0!==i.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var j=h.redSqr(),k=j.redMul(h),l=d.redMul(j),m=i.redSqr().redIAdd(k).redISub(l).redISub(l),n=i.redMul(l.redISub(m)).redISub(f.redMul(k)),o=this.z.redMul(a.z).redMul(h);return this.curve.jpoint(m,n,o)},Q.prototype.mixedAdd=function(a){if(this.isInfinity())return a.toJ();if(a.isInfinity())return this;var b=this.z.redSqr(),c=this.x,d=a.x.redMul(b),e=this.y,f=a.y.redMul(b).redMul(this.z),g=c.redSub(d),h=e.redSub(f);if(0===g.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var i=g.redSqr(),j=i.redMul(g),k=c.redMul(i),l=h.redSqr().redIAdd(j).redISub(k).redISub(k),m=h.redMul(k.redISub(l)).redISub(e.redMul(j)),n=this.z.redMul(g);return this.curve.jpoint(l,m,n)},Q.prototype.dblp=function(a){if(0===a||this.isInfinity())return this;if(!a)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var b,c=this;for(b=0;b<a;b++)c=c.dbl();return c}var d=this.curve.a,e=this.curve.tinv,f=this.x,g=this.y,h=this.z,i=h.redSqr().redSqr(),j=g.redAdd(g);for(b=0;b<a;b++){var k=f.redSqr(),l=j.redSqr(),m=l.redSqr(),n=k.redAdd(k).redIAdd(k).redIAdd(d.redMul(i)),o=f.redMul(l),p=n.redSqr().redISub(o.redAdd(o)),q=o.redISub(p),r=n.redMul(q);r=r.redIAdd(r).redISub(m);var s=j.redMul(h);b+1<a&&(i=i.redMul(m)),f=p,h=s,j=r}return this.curve.jpoint(f,j.redMul(e),h)},Q.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Q.prototype._zeroDbl=function(){if(this.zOne){var a,b,c,d=this.x.redSqr(),e=this.y.redSqr(),f=e.redSqr(),g=this.x.redAdd(e).redSqr().redISub(d).redISub(f);g=g.redIAdd(g);var h=d.redAdd(d).redIAdd(d),i=h.redSqr().redISub(g).redISub(g),j=f.redIAdd(f);j=(j=j.redIAdd(j)).redIAdd(j),a=i,b=h.redMul(g.redISub(i)).redISub(j),c=this.y.redAdd(this.y)}else{var k=this.x.redSqr(),l=this.y.redSqr(),m=l.redSqr(),n=this.x.redAdd(l).redSqr().redISub(k).redISub(m);n=n.redIAdd(n);var o=k.redAdd(k).redIAdd(k),p=o.redSqr(),q=m.redIAdd(m);q=(q=q.redIAdd(q)).redIAdd(q),a=p.redISub(n).redISub(n),b=o.redMul(n.redISub(a)).redISub(q),c=(c=this.y.redMul(this.z)).redIAdd(c)}return this.curve.jpoint(a,b,c)},Q.prototype._threeDbl=function(){if(this.zOne){var a,b,c,d=this.x.redSqr(),e=this.y.redSqr(),f=e.redSqr(),g=this.x.redAdd(e).redSqr().redISub(d).redISub(f);g=g.redIAdd(g);var h=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),i=h.redSqr().redISub(g).redISub(g);a=i;var j=f.redIAdd(f);j=(j=j.redIAdd(j)).redIAdd(j),b=h.redMul(g.redISub(i)).redISub(j),c=this.y.redAdd(this.y)}else{var k=this.z.redSqr(),l=this.y.redSqr(),m=this.x.redMul(l),n=this.x.redSub(k).redMul(this.x.redAdd(k));n=n.redAdd(n).redIAdd(n);var o=m.redIAdd(m),p=(o=o.redIAdd(o)).redAdd(o);a=n.redSqr().redISub(p),c=this.y.redAdd(this.z).redSqr().redISub(l).redISub(k);var q=l.redSqr();q=(q=(q=q.redIAdd(q)).redIAdd(q)).redIAdd(q),b=n.redMul(o.redISub(a)).redISub(q)}return this.curve.jpoint(a,b,c)},Q.prototype._dbl=function(){var a=this.curve.a,b=this.x,c=this.y,d=this.z,e=d.redSqr().redSqr(),f=b.redSqr(),g=c.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(a.redMul(e)),i=b.redAdd(b),j=(i=i.redIAdd(i)).redMul(g),k=h.redSqr().redISub(j.redAdd(j)),l=j.redISub(k),m=g.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m);var n=h.redMul(l).redISub(m),o=c.redAdd(c).redMul(d);return this.curve.jpoint(k,n,o)},Q.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var a=this.x.redSqr(),b=this.y.redSqr(),c=this.z.redSqr(),d=b.redSqr(),e=a.redAdd(a).redIAdd(a),f=e.redSqr(),g=this.x.redAdd(b).redSqr().redISub(a).redISub(d),h=(g=(g=(g=g.redIAdd(g)).redAdd(g).redIAdd(g)).redISub(f)).redSqr(),i=d.redIAdd(d);i=(i=(i=i.redIAdd(i)).redIAdd(i)).redIAdd(i);var j=e.redIAdd(g).redSqr().redISub(f).redISub(h).redISub(i),k=b.redMul(j);k=(k=k.redIAdd(k)).redIAdd(k);var l=this.x.redMul(h).redISub(k);l=(l=l.redIAdd(l)).redIAdd(l);var m=this.y.redMul(j.redMul(i.redISub(j)).redISub(g.redMul(h)));m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m);var n=this.z.redAdd(g).redSqr().redISub(c).redISub(h);return this.curve.jpoint(l,m,n)},Q.prototype.mul=function(a,b){return a=new(w())(a,b),this.curve._wnafMul(this,a)},Q.prototype.eq=function(a){if("affine"===a.type)return this.eq(a.toJ());if(this===a)return!0;var b=this.z.redSqr(),c=a.z.redSqr();if(0!==this.x.redMul(c).redISub(a.x.redMul(b)).cmpn(0))return!1;var d=b.redMul(this.z),e=c.redMul(a.z);return 0===this.y.redMul(e).redISub(a.y.redMul(d)).cmpn(0)},Q.prototype.eqXToP=function(a){var b=this.z.redSqr(),c=a.toRed(this.curve.red).redMul(b);if(0===this.x.cmp(c))return!0;for(var d=a.clone(),e=this.curve.redN.redMul(b);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(e),0===this.x.cmp(c))return!0}},Q.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Q.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var R=z(function(a,b){var c=b;c.base=J,c.short=O,c.mont=null,c.edwards=null}),S=z(function(a,b){var c,d=b,e=E.assert;function f(a){"short"===a.type?this.curve=new R.short(a):"edwards"===a.type?this.curve=new R.edwards(a):this.curve=new R.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,e(this.g.validate(),"Invalid curve"),e(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function g(a,b){Object.defineProperty(d,a,{configurable:!0,enumerable:!0,get:function(){var c=new f(b);return Object.defineProperty(d,a,{configurable:!0,enumerable:!0,value:c}),c}})}d.PresetCurve=f,g("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:y().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811",]}),g("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:y().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34",]}),g("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:y().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5",]}),g("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:y().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f",]}),g("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:y().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650",]}),g("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:y().sha256,gRed:!1,g:["9",]}),g("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:y().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658",]});try{c=null.crash()}catch(h){c=void 0}g("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:y().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"},],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c,]})});function T(a){if(!(this instanceof T))return new T(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var b=D.toArray(a.entropy,a.entropyEnc||"hex"),c=D.toArray(a.nonce,a.nonceEnc||"hex"),d=D.toArray(a.pers,a.persEnc||"hex");B(b.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(b,c,d)}var U=T;T.prototype._init=function(a,b,c){var d=a.concat(b).concat(c);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var e=0;e<this.V.length;e++)this.K[e]=0,this.V[e]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},T.prototype._hmac=function(){return new(y()).hmac(this.hash,this.K)},T.prototype._update=function(a){var b=this._hmac().update(this.V).update([0]);a&&(b=b.update(a)),this.K=b.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},T.prototype.reseed=function(a,b,c,d){"string"!=typeof b&&(d=c,c=b,b=null),a=D.toArray(a,b),c=D.toArray(c,d),B(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(c||[])),this._reseed=1},T.prototype.generate=function(a,b,c,d){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof b&&(d=c,c=b,b=null),c&&(c=D.toArray(c,d||"hex"),this._update(c));for(var e=[];e.length<a;)this.V=this._hmac().update(this.V).digest(),e=e.concat(this.V);var f=e.slice(0,a);return this._update(c),this._reseed++,D.encode(f,b)};var V=E.assert;function W(a,b){this.ec=a,this.priv=null,this.pub=null,b.priv&&this._importPrivate(b.priv,b.privEnc),b.pub&&this._importPublic(b.pub,b.pubEnc)}var X=W;W.fromPublic=function(a,b,c){return b instanceof W?b:new W(a,{pub:b,pubEnc:c})},W.fromPrivate=function(a,b,c){return b instanceof W?b:new W(a,{priv:b,privEnc:c})},W.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},W.prototype.getPublic=function(a,b){return("string"==typeof a&&(b=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),b)?this.pub.encode(b,a):this.pub},W.prototype.getPrivate=function(a){return"hex"===a?this.priv.toString(16,2):this.priv},W.prototype._importPrivate=function(a,b){this.priv=new(w())(a,b||16),this.priv=this.priv.umod(this.ec.curve.n)},W.prototype._importPublic=function(a,b){if(a.x||a.y){"mont"===this.ec.curve.type?V(a.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&V(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,b)},W.prototype.derive=function(a){return a.validate()||V(a.validate(),"public point not validated"),a.mul(this.priv).getX()},W.prototype.sign=function(a,b,c){return this.ec.sign(a,this,b,c)},W.prototype.verify=function(a,b){return this.ec.verify(a,b,this)},W.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Y=E.assert;function Z(a,b){if(a instanceof Z)return a;this._importDER(a,b)||(Y(a.r&&a.s,"Signature without r or s"),this.r=new(w())(a.r,16),this.s=new(w())(a.s,16),void 0===a.recoveryParam?this.recoveryParam=null:this.recoveryParam=a.recoveryParam)}var $=Z;function _(){this.place=0}function aa(a,b){var c=a[b.place++];if(!(128&c))return c;var d=15&c;if(0===d||d>4)return!1;for(var e=0,f=0,g=b.place;f<d;f++,g++)e<<=8,e|=a[g],e>>>=0;return!(e<=127)&&(b.place=g,e)}function ab(a){for(var b=0,c=a.length-1;!a[b]&&!(128&a[b+1])&&b<c;)b++;return 0===b?a:a.slice(b)}function ac(a,b){if(b<128){a.push(b);return}var c=1+(Math.log(b)/Math.LN2>>>3);for(a.push(128|c);--c;)a.push(b>>>(c<<3)&255);a.push(b)}Z.prototype._importDER=function(a,b){a=E.toArray(a,b);var c=new _;if(48!==a[c.place++])return!1;var d=aa(a,c);if(!1===d||d+c.place!==a.length||2!==a[c.place++])return!1;var e=aa(a,c);if(!1===e)return!1;var f=a.slice(c.place,e+c.place);if(c.place+=e,2!==a[c.place++])return!1;var g=aa(a,c);if(!1===g||a.length!==g+c.place)return!1;var h=a.slice(c.place,g+c.place);if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new(w())(f),this.s=new(w())(h),this.recoveryParam=null,!0},Z.prototype.toDER=function(a){var b=this.r.toArray(),c=this.s.toArray();for(128&b[0]&&(b=[0].concat(b)),128&c[0]&&(c=[0].concat(c)),b=ab(b),c=ab(c);!c[0]&&!(128&c[1]);)c=c.slice(1);var d=[2];ac(d,b.length),(d=d.concat(b)).push(2),ac(d,c.length);var e=d.concat(c),f=[48];return ac(f,e.length),f=f.concat(e),E.encode(f,a)};var ad=function(){throw Error("unsupported")},ae=E.assert;function af(a){if(!(this instanceof af))return new af(a);"string"==typeof a&&(ae(Object.prototype.hasOwnProperty.call(S,a),"Unknown curve "+a),a=S[a]),a instanceof S.PresetCurve&&(a={curve:a}),this.curve=a.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=a.curve.g,this.g.precompute(a.curve.n.bitLength()+1),this.hash=a.hash||a.curve.hash}var ag=af;af.prototype.keyPair=function(a){return new X(this,a)},af.prototype.keyFromPrivate=function(a,b){return X.fromPrivate(this,a,b)},af.prototype.keyFromPublic=function(a,b){return X.fromPublic(this,a,b)},af.prototype.genKeyPair=function(a){a||(a={});for(var b=new U({hash:this.hash,pers:a.pers,persEnc:a.persEnc||"utf8",entropy:a.entropy||ad(this.hash.hmacStrength),entropyEnc:a.entropy&&a.entropyEnc||"utf8",nonce:this.n.toArray()}),c=this.n.byteLength(),d=this.n.sub(new(w())(2));;){var e=new(w())(b.generate(c));if(!(e.cmp(d)>0))return e.iaddn(1),this.keyFromPrivate(e)}},af.prototype._truncateToN=function(a,b){var c=8*a.byteLength()-this.n.bitLength();return(c>0&&(a=a.ushrn(c)),!b&&a.cmp(this.n)>=0)?a.sub(this.n):a},af.prototype.sign=function(a,b,c,d){"object"==typeof c&&(d=c,c=null),d||(d={}),b=this.keyFromPrivate(b,c),a=this._truncateToN(new(w())(a,16));for(var e=this.n.byteLength(),f=b.getPrivate().toArray("be",e),g=a.toArray("be",e),h=new U({hash:this.hash,entropy:f,nonce:g,pers:d.pers,persEnc:d.persEnc||"utf8"}),i=this.n.sub(new(w())(1)),j=0;;j++){var k=d.k?d.k(j):new(w())(h.generate(this.n.byteLength()));if(!(0>=(k=this._truncateToN(k,!0)).cmpn(1)||k.cmp(i)>=0)){var l=this.g.mul(k);if(!l.isInfinity()){var m=l.getX(),n=m.umod(this.n);if(0!==n.cmpn(0)){var o=k.invm(this.n).mul(n.mul(b.getPrivate()).iadd(a));if(0!==(o=o.umod(this.n)).cmpn(0)){var p=(l.getY().isOdd()?1:0)|(0!==m.cmp(n)?2:0);return d.canonical&&o.cmp(this.nh)>0&&(o=this.n.sub(o),p^=1),new $({r:n,s:o,recoveryParam:p})}}}}}},af.prototype.verify=function(a,b,c,d){a=this._truncateToN(new(w())(a,16)),c=this.keyFromPublic(c,d);var e,f=(b=new $(b,"hex")).r,g=b.s;if(0>f.cmpn(1)||f.cmp(this.n)>=0||0>g.cmpn(1)||g.cmp(this.n)>=0)return!1;var h=g.invm(this.n),i=h.mul(a).umod(this.n),j=h.mul(f).umod(this.n);return this.curve._maxwellTrick?!(e=this.g.jmulAdd(i,c.getPublic(),j)).isInfinity()&&e.eqXToP(f):!(e=this.g.mulAdd(i,c.getPublic(),j)).isInfinity()&&0===e.getX().umod(this.n).cmp(f)},af.prototype.recoverPubKey=function(a,b,c,d){ae((3&c)===c,"The recovery param is more than two bits"),b=new $(b,d);var e=this.n,f=new(w())(a),g=b.r,h=b.s,i=1&c,j=c>>1;if(g.cmp(this.curve.p.umod(this.curve.n))>=0&&j)throw Error("Unable to find sencond key candinate");g=j?this.curve.pointFromX(g.add(this.curve.n),i):this.curve.pointFromX(g,i);var k=b.r.invm(e),l=e.sub(f).mul(k).umod(e),m=h.mul(k).umod(e);return this.g.mulAdd(l,g,m)},af.prototype.getKeyRecoveryParam=function(a,b,c,d){if(null!==(b=new $(b,d)).recoveryParam)return b.recoveryParam;for(var e,f=0;f<4;f++){try{e=this.recoverPubKey(a,b,f)}catch(g){continue}if(e.eq(c))return f}throw Error("Unable to find valid recovery factor")};var ah=z(function(a,b){var c=b;c.version="6.5.4",c.utils=E,c.rand=function(){throw Error("unsupported")},c.curve=R,c.curves=S,c.ec=ag,c.eddsa=null}).ec,ai=c(1581);let aj=new ai.Yd("signing-key/5.6.2"),ak=null;function al(){return ak||(ak=new ah("secp256k1")),ak}class am{constructor(a){(0,r.zG)(this,"curve","secp256k1"),(0,r.zG)(this,"privateKey",(0,q.Dv)(a)),32!==(0,q.E1)(this.privateKey)&&aj.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let b=al().keyFromPrivate((0,q.lE)(this.privateKey));(0,r.zG)(this,"publicKey","0x"+b.getPublic(!1,"hex")),(0,r.zG)(this,"compressedPublicKey","0x"+b.getPublic(!0,"hex")),(0,r.zG)(this,"_isSigningKey",!0)}_addPoint(a){let b=al().keyFromPublic((0,q.lE)(this.publicKey)),c=al().keyFromPublic((0,q.lE)(a));return"0x"+b.pub.add(c.pub).encodeCompressed("hex")}signDigest(a){let b=al().keyFromPrivate((0,q.lE)(this.privateKey)),c=(0,q.lE)(a);32!==c.length&&aj.throwArgumentError("bad digest length","digest",a);let d=b.sign(c,{canonical:!0});return(0,q.N)({recoveryParam:d.recoveryParam,r:(0,q.$m)("0x"+d.r.toString(16),32),s:(0,q.$m)("0x"+d.s.toString(16),32)})}computeSharedSecret(a){let b=al().keyFromPrivate((0,q.lE)(this.privateKey)),c=al().keyFromPublic((0,q.lE)(ao(a)));return(0,q.$m)("0x"+b.derive(c.getPublic()).toString(16),32)}static isSigningKey(a){return!!(a&&a._isSigningKey)}}function an(a,b){let c=(0,q.N)(b),d={r:(0,q.lE)(c.r),s:(0,q.lE)(c.s)};return"0x"+al().recoverPubKey((0,q.lE)(a),d,c.recoveryParam).encode("hex",!1)}function ao(a,b){let c=(0,q.lE)(a);if(32===c.length){let d=new am(c);return b?"0x"+al().keyFromPrivate(c).getPublic(!0,"hex"):d.publicKey}return 33===c.length?b?(0,q.Dv)(c):"0x"+al().keyFromPublic(c).getPublic(!1,"hex"):65===c.length?b?"0x"+al().keyFromPublic(c).getPublic(!0,"hex"):(0,q.Dv)(c):aj.throwArgumentError("invalid public or private key","key","[REDACTED]")}let ap=new ai.Yd("transactions/5.6.2");function aq(a){return"0x"===a?null:(0,o.Kn)(a)}function ar(a){return"0x"===a?s._Y:p.O$.from(a)}(d=e||(e={}))[d.legacy=0]="legacy",d[d.eip2930=1]="eip2930",d[d.eip1559=2]="eip1559";let as=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"},],at={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function au(a){let b=ao(a);return(0,o.Kn)((0,q.p3)((0,t.w)((0,q.p3)(b,1)),12))}function av(a,b){return au(an((0,q.lE)(a),b))}function aw(a,b){let c=(0,q.G1)(p.O$.from(a).toHexString());return c.length>32&&ap.throwArgumentError("invalid length for "+b,"transaction:"+b,a),c}function ax(a,b){return{address:(0,o.Kn)(a),storageKeys:(b||[]).map((b,c)=>(32!==(0,q.E1)(b)&&ap.throwArgumentError("invalid access list storageKey",`accessList[${a}:${c}]`,b),b.toLowerCase()))}}function ay(a){if(Array.isArray(a))return a.map((a,b)=>Array.isArray(a)?(a.length>2&&ap.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${b}]`,a),ax(a[0],a[1])):ax(a.address,a.storageKeys));let b=Object.keys(a).map(b=>{let c=a[b].reduce((a,b)=>(a[b]=!0,a),{});return ax(b,Object.keys(c).sort())});return b.sort((a,b)=>a.address.localeCompare(b.address)),b}function az(a){return ay(a).map(a=>[a.address,a.storageKeys])}function aA(a,b){if(null!=a.gasPrice){let c=p.O$.from(a.gasPrice),d=p.O$.from(a.maxFeePerGas||0);c.eq(d)||ap.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:c,maxFeePerGas:d})}let e=[aw(a.chainId||0,"chainId"),aw(a.nonce||0,"nonce"),aw(a.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),aw(a.maxFeePerGas||0,"maxFeePerGas"),aw(a.gasLimit||0,"gasLimit"),null!=a.to?(0,o.Kn)(a.to):"0x",aw(a.value||0,"value"),a.data||"0x",az(a.accessList||[])];if(b){let f=(0,q.N)(b);e.push(aw(f.recoveryParam,"recoveryParam")),e.push((0,q.G1)(f.r)),e.push((0,q.G1)(f.s))}return(0,q.xs)(["0x02",u.encode(e)])}function aB(a,b){let c=[aw(a.chainId||0,"chainId"),aw(a.nonce||0,"nonce"),aw(a.gasPrice||0,"gasPrice"),aw(a.gasLimit||0,"gasLimit"),null!=a.to?(0,o.Kn)(a.to):"0x",aw(a.value||0,"value"),a.data||"0x",az(a.accessList||[])];if(b){let d=(0,q.N)(b);c.push(aw(d.recoveryParam,"recoveryParam")),c.push((0,q.G1)(d.r)),c.push((0,q.G1)(d.s))}return(0,q.xs)(["0x01",u.encode(c)])}function aC(a,b){if(null==a.type||0===a.type)return null!=a.accessList&&ap.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",a),function(a,b){(0,r.uj)(a,at);let c=[];as.forEach(function(b){let d=a[b.name]||[],e={};b.numeric&&(e.hexPad="left"),d=(0,q.lE)((0,q.Dv)(d,e)),b.length&&d.length!==b.length&&d.length>0&&ap.throwArgumentError("invalid length for "+b.name,"transaction:"+b.name,d),b.maxLength&&(d=(0,q.G1)(d)).length>b.maxLength&&ap.throwArgumentError("invalid length for "+b.name,"transaction:"+b.name,d),c.push((0,q.Dv)(d))});let d=0;if(null!=a.chainId?"number"!=typeof(d=a.chainId)&&ap.throwArgumentError("invalid transaction.chainId","transaction",a):b&&!(0,q.Zq)(b)&&b.v>28&&(d=Math.floor((b.v-35)/2)),0!==d&&(c.push((0,q.Dv)(d)),c.push("0x"),c.push("0x")),!b)return u.encode(c);let e=(0,q.N)(b),f=27+e.recoveryParam;return 0!==d?(c.pop(),c.pop(),c.pop(),f+=2*d+8,e.v>28&&e.v!==f&&ap.throwArgumentError("transaction.chainId/signature.v mismatch","signature",b)):e.v!==f&&ap.throwArgumentError("transaction.chainId/signature.v mismatch","signature",b),c.push((0,q.Dv)(f)),c.push((0,q.G1)((0,q.lE)(e.r))),c.push((0,q.G1)((0,q.lE)(e.s))),u.encode(c)}(a,b);switch(a.type){case 1:return aB(a,b);case 2:return aA(a,b)}return ap.throwError(`unsupported transaction type: ${a.type}`,ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:a.type})}function aD(a,b,c){try{let d=ar(b[0]).toNumber();if(0!==d&&1!==d)throw Error("bad recid");a.v=d}catch(e){ap.throwArgumentError("invalid v for transaction type: 1","v",b[0])}a.r=(0,q.$m)(b[1],32),a.s=(0,q.$m)(b[2],32);try{let f=(0,t.w)(c(a));a.from=av(f,{r:a.r,s:a.s,recoveryParam:a.v})}catch(g){}}function aE(a){let b=(0,q.lE)(a);if(b[0]>127)return function(a){let b=u.decode(a);9!==b.length&&6!==b.length&&ap.throwArgumentError("invalid raw transaction","rawTransaction",a);let c={nonce:ar(b[0]).toNumber(),gasPrice:ar(b[1]),gasLimit:ar(b[2]),to:aq(b[3]),value:ar(b[4]),data:b[5],chainId:0};if(6===b.length)return c;try{c.v=p.O$.from(b[6]).toNumber()}catch(d){return c}if(c.r=(0,q.$m)(b[7],32),c.s=(0,q.$m)(b[8],32),p.O$.from(c.r).isZero()&&p.O$.from(c.s).isZero())c.chainId=c.v,c.v=0;else{c.chainId=Math.floor((c.v-35)/2),c.chainId<0&&(c.chainId=0);let e=c.v-27,f=b.slice(0,6);0!==c.chainId&&(f.push((0,q.Dv)(c.chainId)),f.push("0x"),f.push("0x"),e-=2*c.chainId+8);let g=(0,t.w)(u.encode(f));try{c.from=av(g,{r:(0,q.Dv)(c.r),s:(0,q.Dv)(c.s),recoveryParam:e})}catch(h){}c.hash=(0,t.w)(a)}return c.type=null,c}(b);switch(b[0]){case 1:return function(a){let b=u.decode(a.slice(1));8!==b.length&&11!==b.length&&ap.throwArgumentError("invalid component count for transaction type: 1","payload",(0,q.Dv)(a));let c={type:1,chainId:ar(b[0]).toNumber(),nonce:ar(b[1]).toNumber(),gasPrice:ar(b[2]),gasLimit:ar(b[3]),to:aq(b[4]),value:ar(b[5]),data:b[6],accessList:ay(b[7])};return 8===b.length||(c.hash=(0,t.w)(a),aD(c,b.slice(8),aB)),c}(b);case 2:return function(a){let b=u.decode(a.slice(1));9!==b.length&&12!==b.length&&ap.throwArgumentError("invalid component count for transaction type: 2","payload",(0,q.Dv)(a));let c=ar(b[2]),d=ar(b[3]),e={type:2,chainId:ar(b[0]).toNumber(),nonce:ar(b[1]).toNumber(),maxPriorityFeePerGas:c,maxFeePerGas:d,gasPrice:null,gasLimit:ar(b[4]),to:aq(b[5]),value:ar(b[6]),data:b[7],accessList:ay(b[8])};return 9===b.length||(e.hash=(0,t.w)(a),aD(e,b.slice(9),aA)),e}(b)}return ap.throwError(`unsupported transaction type: ${b[0]}`,ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:b[0]})}var aF=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};let aG=new ai.Yd("contracts/5.6.2"),aH={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function aI(a,b){return aF(this,void 0,void 0,function*(){let c=yield b;"string"!=typeof c&&aG.throwArgumentError("invalid address or ENS name","name",c);try{return(0,o.Kn)(c)}catch(d){}a||aG.throwError("a provider or signer is needed to resolve ENS names",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let e=yield a.resolveName(c);return null==e&&aG.throwArgumentError("resolver or addr is not configured for ENS name","name",c),e})}function aJ(a,b,c){return aF(this,void 0,void 0,function*(){return Array.isArray(c)?yield Promise.all(c.map((c,d)=>aJ(a,Array.isArray(b)?b[d]:b[c.name],c))):"address"===c.type?yield aI(a,b):"tuple"===c.type?yield aJ(a,b,c.components):"array"===c.baseType?Array.isArray(b)?yield Promise.all(b.map(b=>aJ(a,b,c.arrayChildren))):Promise.reject(aG.makeError("invalid value for array",ai.Yd.errors.INVALID_ARGUMENT,{argument:"value",value:b})):b})}function aK(a,b,c){return aF(this,void 0,void 0,function*(){let d={};c.length===b.inputs.length+1&&"object"==typeof c[c.length-1]&&(d=(0,r.DC)(c.pop())),aG.checkArgumentCount(c.length,b.inputs.length,"passed to contract"),a.signer?d.from?d.from=(0,r.mE)({override:aI(a.signer,d.from),signer:a.signer.getAddress()}).then(a=>aF(this,void 0,void 0,function*(){return(0,o.Kn)(a.signer)!==a.override&&aG.throwError("Contract with a Signer cannot override from",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),a.override})):d.from=a.signer.getAddress():d.from&&(d.from=aI(a.provider,d.from));let e=yield(0,r.mE)({args:aJ(a.signer||a.provider,c,b.inputs),address:a.resolvedAddress,overrides:(0,r.mE)(d)||{}}),f=a.interface.encodeFunctionData(b,e.args),g={data:f,to:e.address},h=e.overrides;if(null!=h.nonce&&(g.nonce=p.O$.from(h.nonce).toNumber()),null!=h.gasLimit&&(g.gasLimit=p.O$.from(h.gasLimit)),null!=h.gasPrice&&(g.gasPrice=p.O$.from(h.gasPrice)),null!=h.maxFeePerGas&&(g.maxFeePerGas=p.O$.from(h.maxFeePerGas)),null!=h.maxPriorityFeePerGas&&(g.maxPriorityFeePerGas=p.O$.from(h.maxPriorityFeePerGas)),null!=h.from&&(g.from=h.from),null!=h.type&&(g.type=h.type),null!=h.accessList&&(g.accessList=ay(h.accessList)),null==g.gasLimit&&null!=b.gas){let i=21e3,j=(0,q.lE)(f);for(let k=0;k<j.length;k++)i+=4,j[k]&&(i+=64);g.gasLimit=p.O$.from(b.gas).add(i)}if(h.value){let l=p.O$.from(h.value);l.isZero()||b.payable||aG.throwError("non-payable method cannot override value",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:d.value}),g.value=l}h.customData&&(g.customData=(0,r.DC)(h.customData)),h.ccipReadEnabled&&(g.ccipReadEnabled=!!h.ccipReadEnabled),delete d.nonce,delete d.gasLimit,delete d.gasPrice,delete d.from,delete d.value,delete d.type,delete d.accessList,delete d.maxFeePerGas,delete d.maxPriorityFeePerGas,delete d.customData,delete d.ccipReadEnabled;let m=Object.keys(d).filter(a=>null!=d[a]);return m.length&&aG.throwError(`cannot override ${m.map(a=>JSON.stringify(a)).join(",")}`,ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:m}),g})}function aL(a,b){let c=b.wait.bind(b);b.wait=b=>c(b).then(b=>(b.events=b.logs.map(c=>{let d=(0,r.p$)(c),e=null;try{e=a.interface.parseLog(c)}catch(f){}return e&&(d.args=e.args,d.decode=(b,c)=>a.interface.decodeEventLog(e.eventFragment,b,c),d.event=e.name,d.eventSignature=e.signature),d.removeListener=()=>a.provider,d.getBlock=()=>a.provider.getBlock(b.blockHash),d.getTransaction=()=>a.provider.getTransaction(b.transactionHash),d.getTransactionReceipt=()=>Promise.resolve(b),d}),b))}function aM(a,b,c){let d=a.signer||a.provider;return function(...e){return aF(this,void 0,void 0,function*(){let f;if(e.length===b.inputs.length+1&&"object"==typeof e[e.length-1]){let g=(0,r.DC)(e.pop());null!=g.blockTag&&(f=yield g.blockTag),delete g.blockTag,e.push(g)}null!=a.deployTransaction&&(yield a._deployed(f));let h=yield aK(a,b,e),i=yield d.call(h,f);try{let j=a.interface.decodeFunctionResult(b,i);return c&&1===b.outputs.length&&(j=j[0]),j}catch(k){throw k.code===ai.Yd.errors.CALL_EXCEPTION&&(k.address=a.address,k.args=e,k.transaction=h),k}})}}function aN(a,b,c){var d,e;return b.constant?aM(a,b,c):(d=a,e=b,function(...a){return aF(this,void 0,void 0,function*(){d.signer||aG.throwError("sending a transaction requires a signer",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=d.deployTransaction&&(yield d._deployed());let b=yield aK(d,e,a),c=yield d.signer.sendTransaction(b);return aL(d,c),c})})}function aO(a){return a.address&&(null==a.topics||0===a.topics.length)?"*":(a.address||"*")+"@"+(a.topics?a.topics.map(a=>Array.isArray(a)?a.join("|"):a).join(":"):"")}class aP{constructor(a,b){(0,r.zG)(this,"tag",a),(0,r.zG)(this,"filter",b),this._listeners=[]}addListener(a,b){this._listeners.push({listener:a,once:b})}removeListener(a){let b=!1;this._listeners=this._listeners.filter(c=>!!b||c.listener!==a||(b=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(a=>a.listener)}listenerCount(){return this._listeners.length}run(a){let b=this.listenerCount();return this._listeners=this._listeners.filter(b=>{let c=a.slice();return setTimeout(()=>{b.listener.apply(this,c)},0),!b.once}),b}prepareEvent(a){}getEmit(a){return[a]}}class aQ extends aP{constructor(){super("error",null)}}class aR extends aP{constructor(a,b,c,d){let e={address:a},f=b.getEventTopic(c);d?(f!==d[0]&&aG.throwArgumentError("topic mismatch","topics",d),e.topics=d.slice()):e.topics=[f],super(aO(e),e),(0,r.zG)(this,"address",a),(0,r.zG)(this,"interface",b),(0,r.zG)(this,"fragment",c)}prepareEvent(a){super.prepareEvent(a),a.event=this.fragment.name,a.eventSignature=this.fragment.format(),a.decode=(a,b)=>this.interface.decodeEventLog(this.fragment,a,b);try{a.args=this.interface.decodeEventLog(this.fragment,a.data,a.topics)}catch(b){a.args=null,a.decodeError=b}}getEmit(a){let b=(0,k.BR)(a.args);if(b.length)throw b[0].error;let c=(a.args||[]).slice();return c.push(a),c}}class aS extends aP{constructor(a,b){super("*",{address:a}),(0,r.zG)(this,"address",a),(0,r.zG)(this,"interface",b)}prepareEvent(a){super.prepareEvent(a);try{let b=this.interface.parseLog(a);a.event=b.name,a.eventSignature=b.signature,a.decode=(a,c)=>this.interface.decodeEventLog(b.eventFragment,a,c),a.args=b.args}catch(c){}}}class aT{constructor(a,b,c){(0,r.zG)(this,"interface",(0,r.tu)(new.target,"getInterface")(b)),null==c?((0,r.zG)(this,"provider",null),(0,r.zG)(this,"signer",null)):n.Signer.isSigner(c)?((0,r.zG)(this,"provider",c.provider||null),(0,r.zG)(this,"signer",c)):m.Provider.isProvider(c)?((0,r.zG)(this,"provider",c),(0,r.zG)(this,"signer",null)):aG.throwArgumentError("invalid signer or provider","signerOrProvider",c),(0,r.zG)(this,"callStatic",{}),(0,r.zG)(this,"estimateGas",{}),(0,r.zG)(this,"functions",{}),(0,r.zG)(this,"populateTransaction",{}),(0,r.zG)(this,"filters",{});{let d={};Object.keys(this.interface.events).forEach(a=>{let b=this.interface.events[a];(0,r.zG)(this.filters,a,(...a)=>({address:this.address,topics:this.interface.encodeFilterTopics(b,a)})),d[b.name]||(d[b.name]=[]),d[b.name].push(a)}),Object.keys(d).forEach(a=>{let b=d[a];1===b.length?(0,r.zG)(this.filters,a,this.filters[b[0]]):aG.warn(`Duplicate definition of ${a} (${b.join(", ")})`)})}if((0,r.zG)(this,"_runningEvents",{}),(0,r.zG)(this,"_wrappedEmits",{}),null==a&&aG.throwArgumentError("invalid contract address or ENS name","addressOrName",a),(0,r.zG)(this,"address",a),this.provider)(0,r.zG)(this,"resolvedAddress",aI(this.provider,a));else try{(0,r.zG)(this,"resolvedAddress",Promise.resolve((0,o.Kn)(a)))}catch(e){aG.throwError("provider is required to use ENS name as contract address",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});let f={},g={};Object.keys(this.interface.functions).forEach(a=>{let b=this.interface.functions[a];if(g[a]){aG.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}g[a]=!0;{let c=b.name;f[`%${c}`]||(f[`%${c}`]=[]),f[`%${c}`].push(a)}if(null==this[a]&&(0,r.zG)(this,a,aN(this,b,!0)),null==this.functions[a]&&(0,r.zG)(this.functions,a,aN(this,b,!1)),null==this.callStatic[a]&&(0,r.zG)(this.callStatic,a,aM(this,b,!0)),null==this.populateTransaction[a]){var d,e;(0,r.zG)(this.populateTransaction,a,(d=this,e=b,function(...a){return aK(d,e,a)}))}null==this.estimateGas[a]&&(0,r.zG)(this.estimateGas,a,function(a,b){let c=a.signer||a.provider;return function(...d){return aF(this,void 0,void 0,function*(){c||aG.throwError("estimate require a provider or signer",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let e=yield aK(a,b,d);return yield c.estimateGas(e)})}}(this,b))}),Object.keys(f).forEach(a=>{let b=f[a];if(b.length>1)return;a=a.substring(1);let c=b[0];try{null==this[a]&&(0,r.zG)(this,a,this[c])}catch(d){}null==this.functions[a]&&(0,r.zG)(this.functions,a,this.functions[c]),null==this.callStatic[a]&&(0,r.zG)(this.callStatic,a,this.callStatic[c]),null==this.populateTransaction[a]&&(0,r.zG)(this.populateTransaction,a,this.populateTransaction[c]),null==this.estimateGas[a]&&(0,r.zG)(this.estimateGas,a,this.estimateGas[c])})}static getContractAddress(a){return(0,o.CR)(a)}static getInterface(a){return l.vU.isInterface(a)?a:new l.vU(a)}deployed(){return this._deployed()}_deployed(a){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,a).then(a=>("0x"===a&&aG.throwError("contract not deployed",ai.Yd.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(a){this.signer||aG.throwError("sending a transactions require a signer",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let b=(0,r.DC)(a||{});return["from","to"].forEach(function(a){null!=b[a]&&aG.throwError("cannot override "+a,ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:a})}),b.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(b))}connect(a){"string"==typeof a&&(a=new n.VoidSigner(a,this.provider));let b=new this.constructor(this.address,this.interface,a);return this.deployTransaction&&(0,r.zG)(b,"deployTransaction",this.deployTransaction),b}attach(a){return new this.constructor(a,this.interface,this.signer||this.provider)}static isIndexed(a){return l.Hk.isIndexed(a)}_normalizeRunningEvent(a){return this._runningEvents[a.tag]?this._runningEvents[a.tag]:a}_getRunningEvent(a){if("string"==typeof a){if("error"===a)return this._normalizeRunningEvent(new aQ);if("event"===a)return this._normalizeRunningEvent(new aP("event",null));if("*"===a)return this._normalizeRunningEvent(new aS(this.address,this.interface));let b=this.interface.getEvent(a);return this._normalizeRunningEvent(new aR(this.address,this.interface,b))}if(a.topics&&a.topics.length>0){try{let c=a.topics[0];if("string"!=typeof c)throw Error("invalid topic");let d=this.interface.getEvent(c);return this._normalizeRunningEvent(new aR(this.address,this.interface,d,a.topics))}catch(e){}let f={address:this.address,topics:a.topics};return this._normalizeRunningEvent(new aP(aO(f),f))}return this._normalizeRunningEvent(new aS(this.address,this.interface))}_checkRunningEvents(a){if(0===a.listenerCount()){delete this._runningEvents[a.tag];let b=this._wrappedEmits[a.tag];b&&a.filter&&(this.provider.off(a.filter,b),delete this._wrappedEmits[a.tag])}}_wrapEvent(a,b,c){let d=(0,r.p$)(b);return d.removeListener=()=>{c&&(a.removeListener(c),this._checkRunningEvents(a))},d.getBlock=()=>this.provider.getBlock(b.blockHash),d.getTransaction=()=>this.provider.getTransaction(b.transactionHash),d.getTransactionReceipt=()=>this.provider.getTransactionReceipt(b.transactionHash),a.prepareEvent(d),d}_addEventListener(a,b,c){if(this.provider||aG.throwError("events require a provider or a signer with a provider",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"once"}),a.addListener(b,c),this._runningEvents[a.tag]=a,!this._wrappedEmits[a.tag]){let d=c=>{let d=this._wrapEvent(a,c,b);if(null==d.decodeError)try{let e=a.getEmit(d);this.emit(a.filter,...e)}catch(f){d.decodeError=f.error}null!=a.filter&&this.emit("event",d),null!=d.decodeError&&this.emit("error",d.decodeError,d)};this._wrappedEmits[a.tag]=d,null!=a.filter&&this.provider.on(a.filter,d)}}queryFilter(a,b,c){let d=this._getRunningEvent(a),e=(0,r.DC)(d.filter);return"string"==typeof b&&(0,q.A7)(b,32)?(null!=c&&aG.throwArgumentError("cannot specify toBlock with blockhash","toBlock",c),e.blockHash=b):(e.fromBlock=null!=b?b:0,e.toBlock=null!=c?c:"latest"),this.provider.getLogs(e).then(a=>a.map(a=>this._wrapEvent(d,a,null)))}on(a,b){return this._addEventListener(this._getRunningEvent(a),b,!1),this}once(a,b){return this._addEventListener(this._getRunningEvent(a),b,!0),this}emit(a,...b){if(!this.provider)return!1;let c=this._getRunningEvent(a),d=c.run(b)>0;return this._checkRunningEvents(c),d}listenerCount(a){return this.provider?null==a?Object.keys(this._runningEvents).reduce((a,b)=>a+this._runningEvents[b].listenerCount(),0):this._getRunningEvent(a).listenerCount():0}listeners(a){if(!this.provider)return[];if(null==a){let b=[];for(let c in this._runningEvents)this._runningEvents[c].listeners().forEach(a=>{b.push(a)});return b}return this._getRunningEvent(a).listeners()}removeAllListeners(a){if(!this.provider)return this;if(null==a){for(let b in this._runningEvents){let c=this._runningEvents[b];c.removeAllListeners(),this._checkRunningEvents(c)}return this}let d=this._getRunningEvent(a);return d.removeAllListeners(),this._checkRunningEvents(d),this}off(a,b){if(!this.provider)return this;let c=this._getRunningEvent(a);return c.removeListener(b),this._checkRunningEvents(c),this}removeListener(a,b){return this.off(a,b)}}class aU extends aT{}class aV{constructor(a,b,c){let d=null;"0x"!==(d="string"==typeof b?b:(0,q._t)(b)?(0,q.Dv)(b):b&&"string"==typeof b.object?b.object:"!").substring(0,2)&&(d="0x"+d),(!(0,q.A7)(d)||d.length%2)&&aG.throwArgumentError("invalid bytecode","bytecode",b),c&&!n.Signer.isSigner(c)&&aG.throwArgumentError("invalid signer","signer",c),(0,r.zG)(this,"bytecode",d),(0,r.zG)(this,"interface",(0,r.tu)(new.target,"getInterface")(a)),(0,r.zG)(this,"signer",c||null)}getDeployTransaction(...a){let b={};if(a.length===this.interface.deploy.inputs.length+1&&"object"==typeof a[a.length-1]){for(let c in b=(0,r.DC)(a.pop()))if(!aH[c])throw Error("unknown transaction override "+c)}if(["data","from","to"].forEach(a=>{null!=b[a]&&aG.throwError("cannot override "+a,ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:a})}),b.value){let d=p.O$.from(b.value);d.isZero()||this.interface.deploy.payable||aG.throwError("non-payable constructor cannot override value",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:b.value})}return aG.checkArgumentCount(a.length,this.interface.deploy.inputs.length," in Contract constructor"),b.data=(0,q.Dv)((0,q.zo)([this.bytecode,this.interface.encodeDeploy(a)])),b}deploy(...a){return aF(this,void 0,void 0,function*(){let b={};a.length===this.interface.deploy.inputs.length+1&&(b=a.pop()),aG.checkArgumentCount(a.length,this.interface.deploy.inputs.length," in Contract constructor");let c=yield aJ(this.signer,a,this.interface.deploy.inputs);c.push(b);let d=this.getDeployTransaction(...c),e=yield this.signer.sendTransaction(d),f=(0,r.tu)(this.constructor,"getContractAddress")(e),g=(0,r.tu)(this.constructor,"getContract")(f,this.interface,this.signer);return aL(g,e),(0,r.zG)(g,"deployTransaction",e),g})}attach(a){return this.constructor.getContract(a,this.interface,this.signer)}connect(a){return new this.constructor(this.interface,this.bytecode,a)}static fromSolidity(a,b){null==a&&aG.throwError("missing compiler output",ai.Yd.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof a&&(a=JSON.parse(a));let c=a.abi,d=null;return a.bytecode?d=a.bytecode:a.evm&&a.evm.bytecode&&(d=a.evm.bytecode),new this(c,d,b)}static getInterface(a){return aU.getInterface(a)}static getContractAddress(a){return(0,o.CR)(a)}static getContract(a,b,c){return new aU(a,b,c)}}var aW=c(20335),aX=c(29251);function aY(a){return"string"==typeof a&&(a=(0,aX.Y0)(a)),(0,t.w)((0,q.zo)([(0,aX.Y0)("\x19Ethereum Signed Message:\n"),(0,aX.Y0)(String(a.length)),a]))}let aZ="hash/5.6.1";var a$=c(32046);let a_=new ai.Yd(aZ),a0=new Uint8Array(32);a0.fill(0);let a1=p.O$.from(-1),a2=p.O$.from(0),a3=p.O$.from(1),a4=p.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),a5=(0,q.$m)(a3.toHexString(),32),a6=(0,q.$m)(a2.toHexString(),32),a7={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},a8=["name","version","chainId","verifyingContract","salt"];function a9(a){return function(b){return"string"!=typeof b&&a_.throwArgumentError(`invalid domain value for ${JSON.stringify(a)}`,`domain.${a}`,b),b}}let ba={name:a9("name"),version:a9("version"),chainId:function(a){try{return p.O$.from(a).toString()}catch(b){}return a_.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",a)},verifyingContract:function(a){try{return(0,o.Kn)(a).toLowerCase()}catch(b){}return a_.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",a)},salt:function(a){try{let b=(0,q.lE)(a);if(32!==b.length)throw Error("bad length");return(0,q.Dv)(b)}catch(c){}return a_.throwArgumentError('invalid domain value "salt"',"domain.salt",a)}};function bb(a){{let b=a.match(/^(u?)int(\d*)$/);if(b){let c=""===b[1],d=parseInt(b[2]||"256");(d%8!=0||d>256||b[2]&&b[2]!==String(d))&&a_.throwArgumentError("invalid numeric width","type",a);let e=a4.mask(c?d-1:d),f=c?e.add(a3).mul(a1):a2;return function(b){let c=p.O$.from(b);return(c.lt(f)||c.gt(e))&&a_.throwArgumentError(`value out-of-bounds for ${a}`,"value",b),(0,q.$m)(c.toTwos(256).toHexString(),32)}}}{let g=a.match(/^bytes(\d+)$/);if(g){let h=parseInt(g[1]);return(0===h||h>32||g[1]!==String(h))&&a_.throwArgumentError("invalid bytes width","type",a),function(b){let c=(0,q.lE)(b);return c.length!==h&&a_.throwArgumentError(`invalid length for ${a}`,"value",b),function(a){let b=(0,q.lE)(a),c=b.length%32;return c?(0,q.xs)([b,a0.slice(c)]):(0,q.Dv)(b)}(b)}}}switch(a){case"address":return function(a){return(0,q.$m)((0,o.Kn)(a),32)};case"bool":return function(a){return a?a5:a6};case"bytes":return function(a){return(0,t.w)(a)};case"string":return function(a){return(0,a$.id)(a)}}return null}function bc(a,b){return`${a}(${b.map(({name:a,type:b})=>b+" "+a).join(",")})`}class bd{constructor(a){(0,r.zG)(this,"types",Object.freeze((0,r.p$)(a))),(0,r.zG)(this,"_encoderCache",{}),(0,r.zG)(this,"_types",{});let b={},c={},d={};for(let e in Object.keys(a).forEach(a=>{b[a]={},c[a]=[],d[a]={}}),a){let f={};a[e].forEach(d=>{f[d.name]&&a_.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(e)}`,"types",a),f[d.name]=!0;let g=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];g===e&&a_.throwArgumentError(`circular type reference to ${JSON.stringify(g)}`,"types",a);let h=bb(g);!h&&(c[g]||a_.throwArgumentError(`unknown type ${JSON.stringify(g)}`,"types",a),c[g].push(e),b[e][g]=!0)})}let g=Object.keys(c).filter(a=>0===c[a].length);function h(e,f){f[e]&&a_.throwArgumentError(`circular type reference to ${JSON.stringify(e)}`,"types",a),f[e]=!0,Object.keys(b[e]).forEach(a=>{c[a]&&(h(a,f),Object.keys(f).forEach(b=>{d[b][a]=!0}))}),delete f[e]}for(let i in 0===g.length?a_.throwArgumentError("missing primary type","types",a):g.length>1&&a_.throwArgumentError(`ambiguous primary types or unused types: ${g.map(a=>JSON.stringify(a)).join(", ")}`,"types",a),(0,r.zG)(this,"primaryType",g[0]),h(this.primaryType,{}),d){let j=Object.keys(d[i]);j.sort(),this._types[i]=bc(i,a[i])+j.map(b=>bc(b,a[b])).join("")}}getEncoder(a){let b=this._encoderCache[a];return b||(b=this._encoderCache[a]=this._getEncoder(a)),b}_getEncoder(a){{let b=bb(a);if(b)return b}let c=a.match(/^(.*)(\x5b(\d*)\x5d)$/);if(c){let d=c[1],e=this.getEncoder(d),f=parseInt(c[3]);return a=>{f>=0&&a.length!==f&&a_.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let b=a.map(e);return this._types[d]&&(b=b.map(t.w)),(0,t.w)((0,q.xs)(b))}}let g=this.types[a];if(g){let h=(0,a$.id)(this._types[a]);return a=>{let b=g.map(({name:b,type:c})=>{let d=this.getEncoder(c)(a[b]);return this._types[c]?(0,t.w)(d):d});return b.unshift(h),(0,q.xs)(b)}}return a_.throwArgumentError(`unknown type: ${a}`,"type",a)}encodeType(a){let b=this._types[a];return b||a_.throwArgumentError(`unknown type: ${JSON.stringify(a)}`,"name",a),b}encodeData(a,b){return this.getEncoder(a)(b)}hashStruct(a,b){return(0,t.w)(this.encodeData(a,b))}encode(a){return this.encodeData(this.primaryType,a)}hash(a){return this.hashStruct(this.primaryType,a)}_visit(a,b,c){{let d=bb(a);if(d)return c(a,b)}let e=a.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){let f=e[1],g=parseInt(e[3]);return g>=0&&b.length!==g&&a_.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",b),b.map(a=>this._visit(f,a,c))}let h=this.types[a];return h?h.reduce((a,{name:d,type:e})=>(a[d]=this._visit(e,b[d],c),a),{}):a_.throwArgumentError(`unknown type: ${a}`,"type",a)}visit(a,b){return this._visit(this.primaryType,a,b)}static from(a){return new bd(a)}static getPrimaryType(a){return bd.from(a).primaryType}static hashStruct(a,b,c){return bd.from(b).hashStruct(a,c)}static hashDomain(a){let b=[];for(let c in a){let d=a7[c];d||a_.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(c)}`,"domain",a),b.push({name:c,type:d})}return b.sort((a,b)=>a8.indexOf(a.name)-a8.indexOf(b.name)),bd.hashStruct("EIP712Domain",{EIP712Domain:b},a)}static encode(a,b,c){return(0,q.xs)(["0x1901",bd.hashDomain(a),bd.from(b).hash(c)])}static hash(a,b,c){return(0,t.w)(bd.encode(a,b,c))}static resolveNames(a,b,c,d){return function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}(this,void 0,void 0,function*(){a=(0,r.DC)(a);let e={};a.verifyingContract&&!(0,q.A7)(a.verifyingContract,20)&&(e[a.verifyingContract]="0x");let f=bd.from(b);for(let g in f.visit(c,(a,b)=>("address"!==a||(0,q.A7)(b,20)||(e[b]="0x"),b)),e)e[g]=yield d(g);return a.verifyingContract&&e[a.verifyingContract]&&(a.verifyingContract=e[a.verifyingContract]),c=f.visit(c,(a,b)=>"address"===a&&e[b]?e[b]:b),{domain:a,value:c}})}static getPayload(a,b,c){bd.hashDomain(a);let d={},e=[];a8.forEach(b=>{let c=a[b];null!=c&&(d[b]=ba[b](c),e.push({name:b,type:a7[b]}))});let f=bd.from(b),g=(0,r.DC)(b);return g.EIP712Domain?a_.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",b):g.EIP712Domain=e,f.encode(c),{types:g,domain:d,primaryType:f.primaryType,message:f.visit(c,(a,b)=>{if(a.match(/^bytes(\d*)/))return(0,q.Dv)((0,q.lE)(b));if(a.match(/^u?int/))return p.O$.from(b).toString();switch(a){case"address":return b.toLowerCase();case"bool":return!!b;case"string":return"string"!=typeof b&&a_.throwArgumentError("invalid string","value",b),b}return a_.throwArgumentError("unsupported type","type",a)})}}}class be{constructor(a){(0,r.zG)(this,"alphabet",a),(0,r.zG)(this,"base",a.length),(0,r.zG)(this,"_alphabetMap",{}),(0,r.zG)(this,"_leader",a.charAt(0));for(let b=0;b<a.length;b++)this._alphabetMap[a.charAt(b)]=b}encode(a){let b=(0,q.lE)(a);if(0===b.length)return"";let c=[0];for(let d=0;d<b.length;++d){let e=b[d];for(let f=0;f<c.length;++f)e+=c[f]<<8,c[f]=e%this.base,e=e/this.base|0;for(;e>0;)c.push(e%this.base),e=e/this.base|0}let g="";for(let h=0;0===b[h]&&h<b.length-1;++h)g+=this._leader;for(let i=c.length-1;i>=0;--i)g+=this.alphabet[c[i]];return g}decode(a){if("string"!=typeof a)throw TypeError("Expected String");let b=[];if(0===a.length)return new Uint8Array(b);b.push(0);for(let c=0;c<a.length;c++){let d=this._alphabetMap[a[c]];if(void 0===d)throw Error("Non-base"+this.base+" character");let e=d;for(let f=0;f<b.length;++f)e+=b[f]*this.base,b[f]=255&e,e>>=8;for(;e>0;)b.push(255&e),e>>=8}for(let g=0;a[g]===this._leader&&g<a.length-1;++g)b.push(0);return(0,q.lE)(new Uint8Array(b.reverse()))}}new be("abcdefghijklmnopqrstuvwxyz234567");let bf=new be("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var bg=c(2006);function bh(a,b,c,d,e){a=(0,q.lE)(a),b=(0,q.lE)(b);let f,g=1,h=new Uint8Array(d),i=new Uint8Array(b.length+4);i.set(b);let j,k;for(let l=1;l<=g;l++){i[b.length]=l>>24&255,i[b.length+1]=l>>16&255,i[b.length+2]=l>>8&255,i[b.length+3]=255&l;let m=(0,q.lE)((0,bg.Gy)(e,a,i));f||(f=m.length,k=new Uint8Array(f),g=Math.ceil(d/f),j=d-(g-1)*f),k.set(m);for(let n=1;n<c;n++){m=(0,q.lE)((0,bg.Gy)(e,a,m));for(let o=0;o<f;o++)k[o]^=m[o]}let p=(l-1)*f,r=l===g?j:f;h.set((0,q.lE)(k).slice(0,r),p)}return(0,q.Dv)(h)}var bi=c(21261);let bj=new ai.Yd("wordlists/5.6.1");class bk{constructor(a){bj.checkAbstract(new.target,bk),(0,r.zG)(this,"locale",a)}split(a){return a.toLowerCase().split(/ +/g)}join(a){return a.join(" ")}static check(a){let b=[];for(let c=0;c<2048;c++){let d=a.getWord(c);if(c!==a.getWordIndex(d))return"0x";b.push(d)}return(0,a$.id)(b.join("\n")+"\n")}static register(a,b){b||(b=a.locale)}}let bl=null;function bm(a){if(null==bl&&(bl="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==bk.check(a)))throw bl=null,Error("BIP39 Wordlist for en (English) FAILED")}let bn=new class extends bk{constructor(){super("en")}getWord(a){return bm(this),bl[a]}getWordIndex(a){return bm(this),bl.indexOf(a)}};bk.register(bn);let bo={en:bn},bp=new ai.Yd("hdnode/5.6.2"),bq=p.O$.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),br=(0,aX.Y0)("Bitcoin seed");function bs(a){return(1<<a)-1<<8-a}function bt(a){return(1<<a)-1}function bu(a){return(0,q.$m)((0,q.Dv)(a),32)}function bv(a){return bf.encode((0,q.zo)([a,(0,q.p3)((0,bg.JQ)((0,bg.JQ)(a)),0,4)]))}function bw(a){if(null==a)return bo.en;if("string"==typeof a){let b=bo[a];return null==b&&bp.throwArgumentError("unknown locale","wordlist",a),b}return a}let bx={},by="m/44'/60'/0'/0/0";class bz{constructor(a,b,c,d,e,f,g,h){if(a!==bx)throw Error("HDNode constructor cannot be called directly");if(b){let i=new am(b);(0,r.zG)(this,"privateKey",i.privateKey),(0,r.zG)(this,"publicKey",i.compressedPublicKey)}else(0,r.zG)(this,"privateKey",null),(0,r.zG)(this,"publicKey",(0,q.Dv)(c));(0,r.zG)(this,"parentFingerprint",d),(0,r.zG)(this,"fingerprint",(0,q.p3)((0,bg.bP)((0,bg.JQ)(this.publicKey)),0,4)),(0,r.zG)(this,"address",au(this.publicKey)),(0,r.zG)(this,"chainCode",e),(0,r.zG)(this,"index",f),(0,r.zG)(this,"depth",g),null==h?((0,r.zG)(this,"mnemonic",null),(0,r.zG)(this,"path",null)):"string"==typeof h?((0,r.zG)(this,"mnemonic",null),(0,r.zG)(this,"path",h)):((0,r.zG)(this,"mnemonic",h),(0,r.zG)(this,"path",h.path))}get extendedKey(){if(this.depth>=256)throw Error("Depth too large!");return bv((0,q.zo)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,q.Dv)(this.depth),this.parentFingerprint,(0,q.$m)((0,q.Dv)(this.index),4),this.chainCode,null!=this.privateKey?(0,q.zo)(["0x00",this.privateKey]):this.publicKey,]))}neuter(){return new bz(bx,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(a){if(a>4294967295)throw Error("invalid index - "+String(a));let b=this.path;b&&(b+="/"+(2147483647&a));let c=new Uint8Array(37);if(2147483648&a){if(!this.privateKey)throw Error("cannot derive child of neutered node");c.set((0,q.lE)(this.privateKey),1),b&&(b+="'")}else c.set((0,q.lE)(this.publicKey));for(let d=24;d>=0;d-=8)c[33+(d>>3)]=a>>24-d&255;let e=(0,q.lE)((0,bg.Gy)(bi.p.sha512,this.chainCode,c)),f=e.slice(0,32),g=e.slice(32),h=null,i=null;if(this.privateKey)h=bu(p.O$.from(f).add(this.privateKey).mod(bq));else{let j=new am((0,q.Dv)(f));i=j._addPoint(this.publicKey)}let k=b,l=this.mnemonic;return l&&(k=Object.freeze({phrase:l.phrase,path:b,locale:l.locale||"en"})),new bz(bx,h,i,this.fingerprint,bu(g),a,this.depth+1,k)}derivePath(a){let b=a.split("/");if(0===b.length||"m"===b[0]&&0!==this.depth)throw Error("invalid path - "+a);"m"===b[0]&&b.shift();let c=this;for(let d=0;d<b.length;d++){let e=b[d];if(e.match(/^[0-9]+'$/)){let f=parseInt(e.substring(0,e.length-1));if(f>=2147483648)throw Error("invalid path index - "+e);c=c._derive(2147483648+f)}else if(e.match(/^[0-9]+$/)){let g=parseInt(e);if(g>=2147483648)throw Error("invalid path index - "+e);c=c._derive(g)}else throw Error("invalid path component - "+e)}return c}static _fromSeed(a,b){let c=(0,q.lE)(a);if(c.length<16||c.length>64)throw Error("invalid seed");let d=(0,q.lE)((0,bg.Gy)(bi.p.sha512,br,c));return new bz(bx,bu(d.slice(0,32)),null,"0x00000000",bu(d.slice(32)),0,0,b)}static fromMnemonic(a,b,c){return c=bw(c),a=bC(bB(a,c),c),bz._fromSeed(bA(a,b),{phrase:a,path:"m",locale:c.locale})}static fromSeed(a){return bz._fromSeed(a,null)}static fromExtendedKey(a){let b=bf.decode(a);(82!==b.length||bv(b.slice(0,78))!==a)&&bp.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let c=b[4],d=(0,q.Dv)(b.slice(5,9)),e=parseInt((0,q.Dv)(b.slice(9,13)).substring(2),16),f=(0,q.Dv)(b.slice(13,45)),g=b.slice(45,78);switch((0,q.Dv)(b.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new bz(bx,null,(0,q.Dv)(g),d,f,e,c,null);case"0x0488ade4":case"0x04358394 ":if(0!==g[0])break;return new bz(bx,(0,q.Dv)(g.slice(1)),null,d,f,e,c,null)}return bp.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function bA(a,b){b||(b="");let c=(0,aX.Y0)("mnemonic"+b,aX.Uj.NFKD);return bh((0,aX.Y0)(a,aX.Uj.NFKD),c,2048,64,"sha512")}function bB(a,b){b=bw(b),bp.checkNormalize();let c=b.split(a);if(c.length%3!=0)throw Error("invalid mnemonic");let d=(0,q.lE)(new Uint8Array(Math.ceil(11*c.length/8))),e=0;for(let f=0;f<c.length;f++){let g=b.getWordIndex(c[f].normalize("NFKD"));if(-1===g)throw Error("invalid mnemonic");for(let h=0;h<11;h++)g&1<<10-h&&(d[e>>3]|=1<<7-e%8),e++}let i=32*c.length/3,j=c.length/3,k=bs(j),l=(0,q.lE)((0,bg.JQ)(d.slice(0,i/8)))[0]&k;if(l!==(d[d.length-1]&k))throw Error("invalid checksum");return(0,q.Dv)(d.slice(0,i/8))}function bC(a,b){if(b=bw(b),(a=(0,q.lE)(a)).length%4!=0||a.length<16||a.length>32)throw Error("invalid entropy");let c=[0],d=11;for(let e=0;e<a.length;e++)d>8?(c[c.length-1]<<=8,c[c.length-1]|=a[e],d-=8):(c[c.length-1]<<=d,c[c.length-1]|=a[e]>>8-d,c.push(a[e]&bt(8-d)),d+=3);let f=a.length/4,g=(0,q.lE)((0,bg.JQ)(a))[0]&bs(f);return c[c.length-1]<<=f,c[c.length-1]|=g>>8-f,b.join(c.map(a=>b.getWord(a)))}function bD(a,b){try{return bB(a,b),!0}catch(c){}return!1}function bE(a){return("number"!=typeof a||a<0||a>=2147483648||a%1)&&bp.throwArgumentError("invalid account index","index",a),`m/44'/60'/${a}'/0/0`}let bF=new ai.Yd("random/5.6.1"),bG=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==c.g)return c.g;throw Error("unable to locate global object")}(),bH=bG.crypto||bG.msCrypto;function bI(a){(a<=0||a>1024||a%1||a!=a)&&bF.throwArgumentError("invalid length","length",a);let b=new Uint8Array(a);return bH.getRandomValues(b),(0,q.lE)(b)}bH&&bH.getRandomValues||(bF.warn("WARNING: Missing strong random number source"),bH={getRandomValues:function(a){return bF.throwError("no secure random source avaialble",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var bJ=c(78826),bK=c.n(bJ),bL=c(17635),bM=c.n(bL);function bN(a){return"string"==typeof a&&"0x"!==a.substring(0,2)&&(a="0x"+a),(0,q.lE)(a)}function bO(a,b){for(a=String(a);a.length<b;)a="0"+a;return a}function bP(a){return"string"==typeof a?(0,aX.Y0)(a,aX.Uj.NFKC):(0,q.lE)(a)}function bQ(a,b){let c=a,d=b.toLowerCase().split("/");for(let e=0;e<d.length;e++){let f=null;for(let g in c)if(g.toLowerCase()===d[e]){f=c[g];break}if(null===f)return null;c=f}return c}let bR="json-wallets/5.6.1",bS=new ai.Yd(bR);function bT(a){return null!=a&&a.mnemonic&&a.mnemonic.phrase}class bU extends r.dk{isKeystoreAccount(a){return!!(a&&a._isKeystoreAccount)}}function bV(a,b){let c=bN(bQ(a,"crypto/ciphertext")),d=(0,q.Dv)((0,t.w)((0,q.zo)([b.slice(16,32),c]))).substring(2);if(d!==bQ(a,"crypto/mac").toLowerCase())throw Error("invalid password");let e=function(a,b,c){let d=bQ(a,"crypto/cipher");if("aes-128-ctr"===d){let e=bN(bQ(a,"crypto/cipherparams/iv")),f=new(bK()).Counter(e),g=new(bK()).ModeOfOperation.ctr(b,f);return(0,q.lE)(g.decrypt(c))}return null}(a,b.slice(0,16),c);e||bS.throwError("unsupported cipher",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let f=b.slice(32,64),g=au(e);if(a.address){let h=a.address.toLowerCase();if("0x"!==h.substring(0,2)&&(h="0x"+h),(0,o.Kn)(h)!==g)throw Error("address mismatch")}let i={_isKeystoreAccount:!0,address:g,privateKey:(0,q.Dv)(e)};if("0.1"===bQ(a,"x-ethers/version")){let j=bN(bQ(a,"x-ethers/mnemonicCiphertext")),k=bN(bQ(a,"x-ethers/mnemonicCounter")),l=new(bK()).Counter(k),m=new(bK()).ModeOfOperation.ctr(f,l),n=bQ(a,"x-ethers/path")||by,p=bQ(a,"x-ethers/locale")||"en",r=(0,q.lE)(m.decrypt(j));try{let s=bC(r,p),u=bz.fromMnemonic(s,null,p).derivePath(n);if(u.privateKey!=i.privateKey)throw Error("mnemonic mismatch");i.mnemonic=u.mnemonic}catch(v){if(v.code!==ai.Yd.errors.INVALID_ARGUMENT||"wordlist"!==v.argument)throw v}}return new bU(i)}function bW(a,b,c,d,e){return(0,q.lE)(bh(a,b,c,d,e))}function bX(a,b,c,d,e){return Promise.resolve(bW(a,b,c,d,e))}function bY(a,b,c,d,e){let f=bP(b),g=bQ(a,"crypto/kdf");if(g&&"string"==typeof g){let h=function(a,b){return bS.throwArgumentError("invalid key-derivation function parameters",a,b)};if("scrypt"===g.toLowerCase()){let i=bN(bQ(a,"crypto/kdfparams/salt")),j=parseInt(bQ(a,"crypto/kdfparams/n")),k=parseInt(bQ(a,"crypto/kdfparams/r")),l=parseInt(bQ(a,"crypto/kdfparams/p"));j&&k&&l||h("kdf",g),(j&j-1)!=0&&h("N",j);let m=parseInt(bQ(a,"crypto/kdfparams/dklen"));return 32!==m&&h("dklen",m),d(f,i,j,k,l,64,e)}if("pbkdf2"===g.toLowerCase()){let n=bN(bQ(a,"crypto/kdfparams/salt")),o=null,p=bQ(a,"crypto/kdfparams/prf");"hmac-sha256"===p?o="sha256":"hmac-sha512"===p?o="sha512":h("prf",p);let q=parseInt(bQ(a,"crypto/kdfparams/c")),r=parseInt(bQ(a,"crypto/kdfparams/dklen"));return 32!==r&&h("dklen",r),c(f,n,q,r,o)}}return bS.throwArgumentError("unsupported key-derivation function","kdf",g)}let bZ=new ai.Yd(bR);class b$ extends r.dk{isCrowdsaleAccount(a){return!!(a&&a._isCrowdsaleAccount)}}function b_(a,b){let c=JSON.parse(a);b=bP(b);let d=(0,o.Kn)(bQ(c,"ethaddr")),e=bN(bQ(c,"encseed"));e&&e.length%16==0||bZ.throwArgumentError("invalid encseed","json",a);let f=(0,q.lE)(bh(b,b,2e3,32,"sha256")).slice(0,16),g=e.slice(0,16),h=e.slice(16),i=new(bK()).ModeOfOperation.cbc(f,g),j=bK().padding.pkcs7.strip((0,q.lE)(i.decrypt(h))),k="";for(let l=0;l<j.length;l++)k+=String.fromCharCode(j[l]);let m=(0,aX.Y0)(k),n=(0,t.w)(m);return new b$({_isCrowdsaleAccount:!0,address:d,privateKey:n})}function b0(a){let b=null;try{b=JSON.parse(a)}catch(c){return!1}return b.encseed&&b.ethaddr}function b1(a){let b=null;try{b=JSON.parse(a)}catch(c){return!1}return!!b.version&&parseInt(b.version)===b.version&&3===parseInt(b.version)}function b2(a){if(b0(a))try{return(0,o.Kn)(JSON.parse(a).ethaddr)}catch(b){return null}if(b1(a))try{return(0,o.Kn)(JSON.parse(a).address)}catch(c){}return null}var b3=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};let b4=new ai.Yd("wallet/5.6.2");class b5 extends n.Signer{constructor(a,b){var c;if(super(),null!=(c=a)&&(0,q.A7)(c.privateKey,32)&&null!=c.address){let d=new am(a.privateKey);if((0,r.zG)(this,"_signingKey",()=>d),(0,r.zG)(this,"address",au(this.publicKey)),this.address!==(0,o.Kn)(a.address)&&b4.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(a){let b=a.mnemonic;return b&&b.phrase}(a)){let e=a.mnemonic;(0,r.zG)(this,"_mnemonic",()=>({phrase:e.phrase,path:e.path||by,locale:e.locale||"en"}));let f=this.mnemonic,g=bz.fromMnemonic(f.phrase,null,f.locale).derivePath(f.path);au(g.privateKey)!==this.address&&b4.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,r.zG)(this,"_mnemonic",()=>null)}else{if(am.isSigningKey(a))"secp256k1"!==a.curve&&b4.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,r.zG)(this,"_signingKey",()=>a);else{"string"==typeof a&&a.match(/^[0-9a-f]*$/i)&&64===a.length&&(a="0x"+a);let h=new am(a);(0,r.zG)(this,"_signingKey",()=>h)}(0,r.zG)(this,"_mnemonic",()=>null),(0,r.zG)(this,"address",au(this.publicKey))}b&&!m.Provider.isProvider(b)&&b4.throwArgumentError("invalid provider","provider",b),(0,r.zG)(this,"provider",b||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(a){return new b5(this,a)}signTransaction(a){return(0,r.mE)(a).then(b=>{null!=b.from&&((0,o.Kn)(b.from)!==this.address&&b4.throwArgumentError("transaction from address mismatch","transaction.from",a.from),delete b.from);let c=this._signingKey().signDigest((0,t.w)(aC(b)));return aC(b,c)})}signMessage(a){return b3(this,void 0,void 0,function*(){return(0,q.gV)(this._signingKey().signDigest(aY(a)))})}_signTypedData(a,b,c){return b3(this,void 0,void 0,function*(){let d=yield bd.resolveNames(a,b,c,a=>(null==this.provider&&b4.throwError("cannot resolve ENS names without a provider",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:a}),this.provider.resolveName(a)));return(0,q.gV)(this._signingKey().signDigest(bd.hash(d.domain,b,d.value)))})}encrypt(a,b,c){if("function"!=typeof b||c||(c=b,b={}),c&&"function"!=typeof c)throw Error("invalid callback");return b||(b={}),function(a,b,c,d){try{if((0,o.Kn)(a.address)!==au(a.privateKey))throw Error("address/privateKey mismatch");if(bT(a)){let e=a.mnemonic,f=bz.fromMnemonic(e.phrase,null,e.locale).derivePath(e.path||by);if(f.privateKey!=a.privateKey)throw Error("mnemonic mismatch")}}catch(g){return Promise.reject(g)}"function"!=typeof c||d||(d=c,c={}),c||(c={});let h=(0,q.lE)(a.privateKey),i=bP(b),j=null,k=null,l=null;if(bT(a)){let m=a.mnemonic;j=(0,q.lE)(bB(m.phrase,m.locale||"en")),k=m.path||by,l=m.locale||"en"}let n=c.client;n||(n="ethers.js");let p=null;p=c.salt?(0,q.lE)(c.salt):bI(32);let r=null;if(c.iv){if(16!==(r=(0,q.lE)(c.iv)).length)throw Error("invalid iv")}else r=bI(16);let s=null;if(c.uuid){if(16!==(s=(0,q.lE)(c.uuid)).length)throw Error("invalid uuid")}else s=bI(16);let u=131072,v=8,w=1;return c.scrypt&&(c.scrypt.N&&(u=c.scrypt.N),c.scrypt.r&&(v=c.scrypt.r),c.scrypt.p&&(w=c.scrypt.p)),bM().scrypt(i,p,u,v,w,64,d).then(b=>{b=(0,q.lE)(b);let c=b.slice(0,16),d=b.slice(16,32),e=b.slice(32,64),f=new(bK()).Counter(r),g=new(bK()).ModeOfOperation.ctr(c,f),i=(0,q.lE)(g.encrypt(h)),m=(0,t.w)((0,q.zo)([d,i])),o={address:a.address.substring(2).toLowerCase(),id:function(a){let b=(0,q.lE)(a);b[6]=15&b[6]|64,b[8]=63&b[8]|128;let c=(0,q.Dv)(b);return[c.substring(2,10),c.substring(10,14),c.substring(14,18),c.substring(18,22),c.substring(22,34),].join("-")}(s),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,q.Dv)(r).substring(2)},ciphertext:(0,q.Dv)(i).substring(2),kdf:"scrypt",kdfparams:{salt:(0,q.Dv)(p).substring(2),n:u,dklen:32,p:w,r:v},mac:m.substring(2)}};if(j){let x=bI(16),y=new(bK()).Counter(x),z=new(bK()).ModeOfOperation.ctr(e,y),A=(0,q.lE)(z.encrypt(j)),B=new Date,C=B.getUTCFullYear()+"-"+bO(B.getUTCMonth()+1,2)+"-"+bO(B.getUTCDate(),2)+"T"+bO(B.getUTCHours(),2)+"-"+bO(B.getUTCMinutes(),2)+"-"+bO(B.getUTCSeconds(),2)+".0Z";o["x-ethers"]={client:n,gethFilename:"UTC--"+C+"--"+o.address,mnemonicCounter:(0,q.Dv)(x).substring(2),mnemonicCiphertext:(0,q.Dv)(A).substring(2),path:k,locale:l,version:"0.1"}}return JSON.stringify(o)})}(this,a,b,c)}static createRandom(a){let b=bI(16);a||(a={}),a.extraEntropy&&(b=(0,q.lE)((0,q.p3)((0,t.w)((0,q.zo)([b,a.extraEntropy])),0,16)));let c=bC(b,a.locale);return b5.fromMnemonic(c,a.path,a.locale)}static fromEncryptedJson(a,b,c){return(function(a,b,c){if(b0(a)){c&&c(0);let d=b_(a,b);return c&&c(1),Promise.resolve(d)}return b1(a)?function(a,b,c){return function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}(this,void 0,void 0,function*(){let d=JSON.parse(a),e=yield bY(d,b,bX,bM().scrypt,c);return bV(d,e)})}(a,b,c):Promise.reject(Error("invalid JSON wallet"))})(a,b,c).then(a=>new b5(a))}static fromEncryptedJsonSync(a,b){return new b5(function(a,b){if(b0(a))return b_(a,b);if(b1(a))return function(a,b){let c=JSON.parse(a),d=bY(c,b,bW,bM().syncScrypt);return bV(c,d)}(a,b);throw Error("invalid JSON wallet")}(a,b))}static fromMnemonic(a,b,c){return b||(b=by),new b5(bz.fromMnemonic(a,null,c).derivePath(b))}}function b6(a,b){return av(aY(a),b)}function b7(a,b,c,d){return av(bd.hash(a,b,c),d)}var b8=c(9279),b9=c(57218);let ca="Ξ",cb=new ai.Yd("networks/5.6.4");function cc(a){let b=function(b,c){null==c&&(c={});let d=[];if(b.InfuraProvider&&"-"!==c.infura)try{d.push(new b.InfuraProvider(a,c.infura))}catch(e){}if(b.EtherscanProvider&&"-"!==c.etherscan)try{d.push(new b.EtherscanProvider(a,c.etherscan))}catch(f){}if(b.AlchemyProvider&&"-"!==c.alchemy)try{d.push(new b.AlchemyProvider(a,c.alchemy))}catch(g){}if(b.PocketProvider&&"-"!==c.pocket){let h=["goerli","ropsten","rinkeby"];try{let i=new b.PocketProvider(a,c.pocket);i.network&& -1===h.indexOf(i.network.name)&&d.push(i)}catch(j){}}if(b.CloudflareProvider&&"-"!==c.cloudflare)try{d.push(new b.CloudflareProvider(a))}catch(k){}if(b.AnkrProvider&&"-"!==c.ankr)try{let l=["ropsten"],m=new b.AnkrProvider(a,c.ankr);m.network&& -1===l.indexOf(m.network.name)&&d.push(m)}catch(n){}if(0===d.length)return null;if(b.FallbackProvider){let o=1;return null!=c.quorum?o=c.quorum:"homestead"===a&&(o=2),new b.FallbackProvider(d,o)}return d[0]};return b.renetwork=function(a){return cc(a)},b}function cd(a,b){let c=function(c,d){return c.JsonRpcProvider?new c.JsonRpcProvider(a,b):null};return c.renetwork=function(b){return cd(a,b)},c}let ce={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:cc("homestead")},cf={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:cc("ropsten")},cg={chainId:63,name:"classicMordor",_defaultProvider:cd("https://www.ethercluster.com/mordor","classicMordor")},ch={unspecified:{chainId:0,name:"unspecified"},homestead:ce,mainnet:ce,morden:{chainId:2,name:"morden"},ropsten:cf,testnet:cf,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:cc("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:cc("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:cc("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:cd("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:cg,classicTestnet:cg,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:cd("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:cc("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:cc("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function ci(a){if(null==a)return null;if("number"==typeof a){for(let b in ch){let c=ch[b];if(c.chainId===a)return{name:c.name,chainId:c.chainId,ensAddress:c.ensAddress||null,_defaultProvider:c._defaultProvider||null}}return{chainId:a,name:"unknown"}}if("string"==typeof a){let d=ch[a];return null==d?null:{name:d.name,chainId:d.chainId,ensAddress:d.ensAddress,_defaultProvider:d._defaultProvider||null}}let e=ch[a.name];if(!e)return"number"!=typeof a.chainId&&cb.throwArgumentError("invalid network chainId","network",a),a;0!==a.chainId&&a.chainId!==e.chainId&&cb.throwArgumentError("network chainId mismatch","network",a);let f=a._defaultProvider||null;if(null==f&&e._defaultProvider){var g;f=(g=e._defaultProvider)&&"function"==typeof g.renetwork?e._defaultProvider.renetwork(a):e._defaultProvider}return{name:a.name,chainId:e.chainId,ensAddress:a.ensAddress||e.ensAddress||null,_defaultProvider:f}}function cj(a){a=atob(a);let b=[];for(let c=0;c<a.length;c++)b.push(a.charCodeAt(c));return(0,q.lE)(b)}function ck(a){a=(0,q.lE)(a);let b="";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return btoa(b)}function cl(a,b){b||(b=function(a){return[parseInt(a,16)]});let c=0,d={};return a.split(",").forEach(a=>{let e=a.split(":");d[c+=parseInt(e[0],16)]=b(e[1])}),d}function cm(a){let b=0;return a.split(",").map(a=>{let c=a.split("-");1===c.length?c[1]="0":""===c[1]&&(c[1]="1");let d=b+parseInt(c[0],16);return b=parseInt(c[1],16),{l:d,h:b}})}function cn(a,b){let c=0;for(let d=0;d<b.length;d++){let e=b[d];if(a>=(c+=e.l)&&a<=c+e.h&&(a-c)%(e.d||1)==0){if(e.e&& -1!==e.e.indexOf(a-c))continue;return e}}return null}let co=cm("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),cp="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(a=>parseInt(a,16)),cq=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],cr=cl("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),cs=cl("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),ct=cl("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",function(a){if(a.length%4!=0)throw Error("bad data");let b=[];for(let c=0;c<a.length;c+=4)b.push(parseInt(a.substring(c,c+4),16));return b}),cu=cm("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function cv(a){var b;if(a.match(/^[a-z0-9-]*$/i)&&a.length<=59)return a.toLowerCase();let c=(0,aX.XL)(a);c=(b=c.map(a=>{if(cp.indexOf(a)>=0||a>=65024&&a<=65039)return[];let b=function(a){let b=cn(a,cq);if(b)return[a+b.s];let c=cr[a];if(c)return c;let d=cs[a];if(d)return[a+d[0]];let e=ct[a];return e||null}(a);return b||[a]})).reduce((a,b)=>(b.forEach(b=>{a.push(b)}),a),[]),(c=(0,aX.XL)((0,aX.uu)(c),aX.Uj.NFKC)).forEach(a=>{var b;if(cn(b=a,cu))throw Error("STRINGPREP_CONTAINS_PROHIBITED")}),c.forEach(a=>{var b;if(cn(b=a,co))throw Error("STRINGPREP_CONTAINS_UNASSIGNED")});let d=(0,aX.uu)(c);if("-"===d.substring(0,1)||"--"===d.substring(2,4)||"-"===d.substring(d.length-1))throw Error("invalid hyphen");if(d.length>63)throw Error("too long");return d}let cw=new ai.Yd(aZ),cx=new Uint8Array(32);cx.fill(0);let cy=RegExp("^((.*)\\.)?([^.]+)$");function cz(a){try{let b=a.split(".");for(let c=0;c<b.length;c++)if(0===cv(b[c]).length)throw Error("empty");return!0}catch(d){}return!1}function cA(a){"string"!=typeof a&&cw.throwArgumentError("invalid ENS name; not a string","name",a);let b=a,c=cx;for(;b.length;){let d=b.match(cy);(null==d||""===d[2])&&cw.throwArgumentError("invalid ENS address; missing component","name",a);let e=(0,aX.Y0)(cv(d[3]));c=(0,t.w)((0,q.zo)([c,(0,t.w)(e)])),b=d[2]||""}return(0,q.Dv)(c)}function cB(a){return(0,q.Dv)((0,q.zo)(a.split(".").map(a=>{let b=(0,aX.Y0)("_"+cv(a));return b[0]=b.length-1,b})))+"00"}function cC(a,b){return function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}(this,void 0,void 0,function*(){null==b&&(b={});let c={method:b.method||"GET",headers:b.headers||{},body:b.body||void 0};!0!==b.skipFetchSetup&&(c.mode="cors",c.cache="no-cache",c.credentials="same-origin",c.redirect="follow",c.referrer="client");let d=yield fetch(a,c),e=yield d.arrayBuffer(),f={};return d.headers.forEach?d.headers.forEach((a,b)=>{f[b.toLowerCase()]=a}):d.headers.keys().forEach(a=>{f[a.toLowerCase()]=d.headers.get(a)}),{headers:f,statusCode:d.status,statusMessage:d.statusText,body:(0,q.lE)(new Uint8Array(e))}})}let cD=new ai.Yd("web/5.6.1");function cE(a){return new Promise(b=>{setTimeout(b,a)})}function cF(a,b){if(null==a)return null;if("string"==typeof a)return a;if((0,q.Zq)(a)){if(b&&("text"===b.split("/")[0]||"application/json"===b.split(";")[0].trim()))try{return(0,aX.ZN)(a)}catch(c){}return(0,q.Dv)(a)}return a}function cG(a,b,c){let d="object"==typeof a&&null!=a.throttleLimit?a.throttleLimit:12;cD.assertArgument(d>0&&d%1==0,"invalid connection throttle limit","connection.throttleLimit",d);let e="object"==typeof a?a.throttleCallback:null,f="object"==typeof a&&"number"==typeof a.throttleSlotInterval?a.throttleSlotInterval:100;cD.assertArgument(f>0&&f%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",f);let g="object"==typeof a&&!!a.errorPassThrough,h={},i=null,j={method:"GET"},k=!1,l=12e4;if("string"==typeof a)i=a;else if("object"==typeof a){if((null==a||null==a.url)&&cD.throwArgumentError("missing URL","connection.url",a),i=a.url,"number"==typeof a.timeout&&a.timeout>0&&(l=a.timeout),a.headers)for(let m in a.headers)h[m.toLowerCase()]={key:m,value:String(a.headers[m])},["if-none-match","if-modified-since"].indexOf(m.toLowerCase())>=0&&(k=!0);if(j.allowGzip=!!a.allowGzip,null!=a.user&&null!=a.password){"https:"!==i.substring(0,6)&& !0!==a.allowInsecureAuthentication&&cD.throwError("basic authentication requires a secure https url",ai.Yd.errors.INVALID_ARGUMENT,{argument:"url",url:i,user:a.user,password:"[REDACTED]"});let n=a.user+":"+a.password;h.authorization={key:"Authorization",value:"Basic "+ck((0,aX.Y0)(n))}}null!=a.skipFetchSetup&&(j.skipFetchSetup=!!a.skipFetchSetup)}let o=RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),p=i?i.match(o):null;if(p)try{let q={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]},body:cj(p[2])},r=q.body;return c&&(r=c(q.body,q)),Promise.resolve(r)}catch(s){cD.throwError("processing response error",ai.Yd.errors.SERVER_ERROR,{body:cF(p[1],p[2]),error:s,requestBody:null,requestMethod:"GET",url:i})}b&&(j.method="POST",j.body=b,null==h["content-type"]&&(h["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==h["content-length"]&&(h["content-length"]={key:"Content-Length",value:String(b.length)}));let t={};Object.keys(h).forEach(a=>{let b=h[a];t[b.key]=b.value}),j.headers=t;let u=function(){let a=null,b=new Promise(function(b,c){l&&(a=setTimeout(()=>{null!=a&&(a=null,c(cD.makeError("timeout",ai.Yd.errors.TIMEOUT,{requestBody:cF(j.body,t["content-type"]),requestMethod:j.method,timeout:l,url:i})))},l))}),c=function(){null!=a&&(clearTimeout(a),a=null)};return{promise:b,cancel:c}}(),v=function(){return function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}(this,void 0,void 0,function*(){for(let a=0;a<d;a++){let b=null;try{if(b=yield cC(i,j),a<d){if(301===b.statusCode||302===b.statusCode){let h=b.headers.location||"";if("GET"===j.method&&h.match(/^https:/)){i=b.headers.location;continue}}else if(429===b.statusCode){let l=!0;if(e&&(l=yield e(a,i)),l){let m=0,n=b.headers["retry-after"];yield cE("string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):f*parseInt(String(Math.random()*Math.pow(2,a))));continue}}}}catch(o){null==(b=o.response)&&(u.cancel(),cD.throwError("missing response",ai.Yd.errors.SERVER_ERROR,{requestBody:cF(j.body,t["content-type"]),requestMethod:j.method,serverError:o,url:i}))}let p=b.body;if(k&&304===b.statusCode?p=null:!g&&(b.statusCode<200||b.statusCode>=300)&&(u.cancel(),cD.throwError("bad response",ai.Yd.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:cF(p,b.headers?b.headers["content-type"]:null),requestBody:cF(j.body,t["content-type"]),requestMethod:j.method,url:i})),c)try{let q=yield c(p,b);return u.cancel(),q}catch(r){if(r.throttleRetry&&a<d){let s=!0;if(e&&(s=yield e(a,i)),s){let v=f*parseInt(String(Math.random()*Math.pow(2,a)));yield cE(v);continue}}u.cancel(),cD.throwError("processing response error",ai.Yd.errors.SERVER_ERROR,{body:cF(p,b.headers?b.headers["content-type"]:null),error:r,requestBody:cF(j.body,t["content-type"]),requestMethod:j.method,url:i})}return u.cancel(),p}return cD.throwError("failed response",ai.Yd.errors.SERVER_ERROR,{requestBody:cF(j.body,t["content-type"]),requestMethod:j.method,url:i})})}();return Promise.race([u.promise,v])}function cH(a,b,c){let d=(a,b)=>{let d=null;if(null!=a)try{d=JSON.parse((0,aX.ZN)(a))}catch(e){cD.throwError("invalid JSON",ai.Yd.errors.SERVER_ERROR,{body:a,error:e})}return c&&(d=c(d,b)),d},e=null;if(null!=b){e=(0,aX.Y0)(b);let f="string"==typeof a?{url:a}:(0,r.DC)(a);if(f.headers){let g=0!==Object.keys(f.headers).filter(a=>"content-type"===a.toLowerCase()).length;g||(f.headers=(0,r.DC)(f.headers),f.headers["content-type"]="application/json")}else f.headers={"content-type":"application/json"};a=f}return cG(a,e,d)}function cI(a,b){return b||(b={}),null==(b=(0,r.DC)(b)).floor&&(b.floor=0),null==b.ceiling&&(b.ceiling=1e4),null==b.interval&&(b.interval=250),new Promise(function(c,d){let e=null,f=!1,g=()=>!f&&(f=!0,e&&clearTimeout(e),!0);b.timeout&&(e=setTimeout(()=>{g()&&d(Error("timeout"))},b.timeout));let h=b.retryLimit,i=0;function j(){return a().then(function(a){if(void 0!==a)g()&&c(a);else if(b.oncePoll)b.oncePoll.once("poll",j);else if(b.onceBlock)b.onceBlock.once("block",j);else if(!f){if(++i>h){g()&&d(Error("retry limit reached"));return}let e=b.interval*parseInt(String(Math.random()*Math.pow(2,i)));e<b.floor&&(e=b.floor),e>b.ceiling&&(e=b.ceiling),setTimeout(j,e)}return null},function(a){g()&&d(a)})}j()})}var cJ=c(92882),cK=c.n(cJ);let cL="providers/5.6.8",cM=new ai.Yd(cL);class cN{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let a={},b=this.address.bind(this),c=this.bigNumber.bind(this),d=this.blockTag.bind(this),e=this.data.bind(this),f=this.hash.bind(this),g=this.hex.bind(this),h=this.number.bind(this),i=this.type.bind(this),j=a=>this.data(a,!0);return a.transaction={hash:f,type:i,accessList:cN.allowNull(this.accessList.bind(this),null),blockHash:cN.allowNull(f,null),blockNumber:cN.allowNull(h,null),transactionIndex:cN.allowNull(h,null),confirmations:cN.allowNull(h,null),from:b,gasPrice:cN.allowNull(c),maxPriorityFeePerGas:cN.allowNull(c),maxFeePerGas:cN.allowNull(c),gasLimit:c,to:cN.allowNull(b,null),value:c,nonce:h,data:e,r:cN.allowNull(this.uint256),s:cN.allowNull(this.uint256),v:cN.allowNull(h),creates:cN.allowNull(b,null),raw:cN.allowNull(e)},a.transactionRequest={from:cN.allowNull(b),nonce:cN.allowNull(h),gasLimit:cN.allowNull(c),gasPrice:cN.allowNull(c),maxPriorityFeePerGas:cN.allowNull(c),maxFeePerGas:cN.allowNull(c),to:cN.allowNull(b),value:cN.allowNull(c),data:cN.allowNull(j),type:cN.allowNull(h),accessList:cN.allowNull(this.accessList.bind(this),null)},a.receiptLog={transactionIndex:h,blockNumber:h,transactionHash:f,address:b,topics:cN.arrayOf(f),data:e,logIndex:h,blockHash:f},a.receipt={to:cN.allowNull(this.address,null),from:cN.allowNull(this.address,null),contractAddress:cN.allowNull(b,null),transactionIndex:h,root:cN.allowNull(g),gasUsed:c,logsBloom:cN.allowNull(e),blockHash:f,transactionHash:f,logs:cN.arrayOf(this.receiptLog.bind(this)),blockNumber:h,confirmations:cN.allowNull(h,null),cumulativeGasUsed:c,effectiveGasPrice:cN.allowNull(c),status:cN.allowNull(h),type:i},a.block={hash:cN.allowNull(f),parentHash:f,number:h,timestamp:h,nonce:cN.allowNull(g),difficulty:this.difficulty.bind(this),gasLimit:c,gasUsed:c,miner:cN.allowNull(b),extraData:e,transactions:cN.allowNull(cN.arrayOf(f)),baseFeePerGas:cN.allowNull(c)},a.blockWithTransactions=(0,r.DC)(a.block),a.blockWithTransactions.transactions=cN.allowNull(cN.arrayOf(this.transactionResponse.bind(this))),a.filter={fromBlock:cN.allowNull(d,void 0),toBlock:cN.allowNull(d,void 0),blockHash:cN.allowNull(f,void 0),address:cN.allowNull(b,void 0),topics:cN.allowNull(this.topics.bind(this),void 0)},a.filterLog={blockNumber:cN.allowNull(h),blockHash:cN.allowNull(f),transactionIndex:h,removed:cN.allowNull(this.boolean.bind(this)),address:b,data:cN.allowFalsish(e,"0x"),topics:cN.arrayOf(f),transactionHash:f,logIndex:h},a}accessList(a){return ay(a||[])}number(a){return"0x"===a?0:p.O$.from(a).toNumber()}type(a){return"0x"===a||null==a?0:p.O$.from(a).toNumber()}bigNumber(a){return p.O$.from(a)}boolean(a){if("boolean"==typeof a)return a;if("string"==typeof a){if("true"===(a=a.toLowerCase()))return!0;if("false"===a)return!1}throw Error("invalid boolean - "+a)}hex(a,b){return"string"==typeof a&&(b||"0x"===a.substring(0,2)||(a="0x"+a),(0,q.A7)(a))?a.toLowerCase():cM.throwArgumentError("invalid hash","value",a)}data(a,b){let c=this.hex(a,b);if(c.length%2!=0)throw Error("invalid data; odd-length - "+a);return c}address(a){return(0,o.Kn)(a)}callAddress(a){if(!(0,q.A7)(a,32))return null;let b=(0,o.Kn)((0,q.p3)(a,12));return b===b8.d?null:b}contractAddress(a){return(0,o.CR)(a)}blockTag(a){if(null==a)return"latest";if("earliest"===a)return"0x0";if("latest"===a||"pending"===a)return a;if("number"==typeof a||(0,q.A7)(a))return(0,q.$P)(a);throw Error("invalid blockTag")}hash(a,b){let c=this.hex(a,b);return 32!==(0,q.E1)(c)?cM.throwArgumentError("invalid hash","value",a):c}difficulty(a){if(null==a)return null;let b=p.O$.from(a);try{return b.toNumber()}catch(c){}return null}uint256(a){if(!(0,q.A7)(a))throw Error("invalid uint256");return(0,q.$m)(a,32)}_block(a,b){null!=a.author&&null==a.miner&&(a.miner=a.author);let c=null!=a._difficulty?a._difficulty:a.difficulty,d=cN.check(b,a);return d._difficulty=null==c?null:p.O$.from(c),d}block(a){return this._block(a,this.formats.block)}blockWithTransactions(a){return this._block(a,this.formats.blockWithTransactions)}transactionRequest(a){return cN.check(this.formats.transactionRequest,a)}transactionResponse(a){null!=a.gas&&null==a.gasLimit&&(a.gasLimit=a.gas),a.to&&p.O$.from(a.to).isZero()&&(a.to="0x0000000000000000000000000000000000000000"),null!=a.input&&null==a.data&&(a.data=a.input),null==a.to&&null==a.creates&&(a.creates=this.contractAddress(a)),(1===a.type||2===a.type)&&null==a.accessList&&(a.accessList=[]);let b=cN.check(this.formats.transaction,a);if(null!=a.chainId){let c=a.chainId;(0,q.A7)(c)&&(c=p.O$.from(c).toNumber()),b.chainId=c}else{let d=a.networkId;null==d&&null==b.v&&(d=a.chainId),(0,q.A7)(d)&&(d=p.O$.from(d).toNumber()),"number"!=typeof d&&null!=b.v&&((d=(b.v-35)/2)<0&&(d=0),d=parseInt(d)),"number"!=typeof d&&(d=0),b.chainId=d}return b.blockHash&&"x"===b.blockHash.replace(/0/g,"")&&(b.blockHash=null),b}transaction(a){return aE(a)}receiptLog(a){return cN.check(this.formats.receiptLog,a)}receipt(a){let b=cN.check(this.formats.receipt,a);if(null!=b.root){if(b.root.length<=4){let c=p.O$.from(b.root).toNumber();0===c||1===c?(null!=b.status&&b.status!==c&&cM.throwArgumentError("alt-root-status/status mismatch","value",{root:b.root,status:b.status}),b.status=c,delete b.root):cM.throwArgumentError("invalid alt-root-status","value.root",b.root)}else 66!==b.root.length&&cM.throwArgumentError("invalid root hash","value.root",b.root)}return null!=b.status&&(b.byzantium=!0),b}topics(a){return Array.isArray(a)?a.map(a=>this.topics(a)):null!=a?this.hash(a,!0):null}filter(a){return cN.check(this.formats.filter,a)}filterLog(a){return cN.check(this.formats.filterLog,a)}static check(a,b){let c={};for(let d in a)try{let e=a[d](b[d]);void 0!==e&&(c[d]=e)}catch(f){throw f.checkKey=d,f.checkValue=b[d],f}return c}static allowNull(a,b){return function(c){return null==c?b:a(c)}}static allowFalsish(a,b){return function(c){return c?a(c):b}}static arrayOf(a){return function(b){if(!Array.isArray(b))throw Error("not an array");let c=[];return b.forEach(function(b){c.push(a(b))}),c}}}function cO(a){return a&&"function"==typeof a.isCommunityResource}function cP(a){return cO(a)&&a.isCommunityResource()}let cQ=!1;function cR(){!cQ&&(cQ=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var cS=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};let cT=new ai.Yd(cL);function cU(a){return null==a?"null":(32!==(0,q.E1)(a)&&cT.throwArgumentError("invalid topic","topic",a),a.toLowerCase())}function cV(a){for(a=a.slice();a.length>0&&null==a[a.length-1];)a.pop();return a.map(a=>{if(!Array.isArray(a))return cU(a);{let b={};a.forEach(a=>{b[cU(a)]=!0});let c=Object.keys(b);return c.sort(),c.join("|")}}).join("&")}function cW(a){if("string"==typeof a){if(a=a.toLowerCase(),32===(0,q.E1)(a))return"tx:"+a;if(-1===a.indexOf(":"))return a}else if(Array.isArray(a))return"filter:*:"+cV(a);else if(m.ForkEvent.isForkEvent(a))throw cT.warn("not implemented"),Error("not implemented");else if(a&&"object"==typeof a)return"filter:"+(a.address||"*")+":"+cV(a.topics||[]);throw Error("invalid event - "+a)}function cX(){return new Date().getTime()}function cY(a){return new Promise(b=>{setTimeout(b,a)})}let cZ=["block","network","pending","poll"];class c${constructor(a,b,c){(0,r.zG)(this,"tag",a),(0,r.zG)(this,"listener",b),(0,r.zG)(this,"once",c),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let a=this.tag.split(":");return"tx"!==a[0]?null:a[1]}get filter(){var a;let b=this.tag.split(":");if("filter"!==b[0])return null;let c=b[1],d=""===(a=b[2])?[]:a.split(/&/g).map(a=>{if(""===a)return[];let b=a.split("|").map(a=>"null"===a?null:a);return 1===b.length?b[0]:b}),e={};return d.length>0&&(e.topics=d),c&&"*"!==c&&(e.address=c),e}pollable(){return this.tag.indexOf(":")>=0||cZ.indexOf(this.tag)>=0}}let c_={"0":{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},"2":{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},"3":{symbol:"doge",p2pkh:30,p2sh:22},"60":{symbol:"eth",ilk:"eth"},"61":{symbol:"etc",ilk:"eth"},"700":{symbol:"xdai",ilk:"eth"}};function c0(a){return(0,q.$m)(p.O$.from(a).toHexString(),32)}function c1(a){return bf.encode((0,q.zo)([a,(0,q.p3)((0,bg.JQ)((0,bg.JQ)(a)),0,4)]))}let c2=RegExp("^(ipfs)://(.*)$","i"),c3=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),c2,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i"),];function c4(a,b){try{return(0,aX.ZN)(c5(a,b))}catch(c){}return null}function c5(a,b){if("0x"===a)return null;let c=p.O$.from((0,q.p3)(a,b,b+32)).toNumber(),d=p.O$.from((0,q.p3)(a,c,c+32)).toNumber();return(0,q.p3)(a,c+32,c+32+d)}function c6(a){return a.match(/^ipfs:\/\/ipfs\//i)?a=a.substring(12):a.match(/^ipfs:\/\//i)?a=a.substring(7):cT.throwArgumentError("unsupported IPFS format","link",a),`https://gateway.ipfs.io/ipfs/${a}`}function c7(a){let b=(0,q.lE)(a);if(b.length>32)throw Error("internal; should not happen");let c=new Uint8Array(32);return c.set(b,32-b.length),c}function c8(a){if(a.length%32==0)return a;let b=new Uint8Array(32*Math.ceil(a.length/32));return b.set(a),b}function c9(a){let b=[],c=0;for(let d=0;d<a.length;d++)b.push(null),c+=32;for(let e=0;e<a.length;e++){let f=(0,q.lE)(a[e]);b[e]=c7(c),b.push(c7(f.length)),b.push(c8(f)),c+=32+32*Math.ceil(f.length/32)}return(0,q.xs)(b)}class da{constructor(a,b,c,d){(0,r.zG)(this,"provider",a),(0,r.zG)(this,"name",c),(0,r.zG)(this,"address",a.formatter.address(b)),(0,r.zG)(this,"_resolvedAddress",d)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(a=>p.O$.from(a).eq(1)).catch(a=>{if(a.code===ai.Yd.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,a})),this._supportsEip2544}_fetch(a,b){return cS(this,void 0,void 0,function*(){let c={to:this.address,ccipReadEnabled:!0,data:(0,q.xs)([a,cA(this.name),b||"0x"])},d=!1;(yield this.supportsWildcard())&&(d=!0,c.data=(0,q.xs)(["0x9061b923",c9([cB(this.name),c.data])]));try{let e=yield this.provider.call(c);return(0,q.lE)(e).length%32==4&&cT.throwError("resolver threw error",ai.Yd.errors.CALL_EXCEPTION,{transaction:c,data:e}),d&&(e=c5(e,0)),e}catch(f){if(f.code===ai.Yd.errors.CALL_EXCEPTION)return null;throw f}})}_fetchBytes(a,b){return cS(this,void 0,void 0,function*(){let c=yield this._fetch(a,b);return null!=c?c5(c,0):null})}_getAddress(a,b){let c=c_[String(a)];if(null==c&&cT.throwError(`unsupported coin type: ${a}`,ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${a})`}),"eth"===c.ilk)return this.provider.formatter.address(b);let d=(0,q.lE)(b);if(null!=c.p2pkh){let e=b.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){let f=parseInt(e[1],16);if(e[2].length===2*f&&f>=1&&f<=75)return c1((0,q.zo)([[c.p2pkh],"0x"+e[2]]))}}if(null!=c.p2sh){let g=b.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(g){let h=parseInt(g[1],16);if(g[2].length===2*h&&h>=1&&h<=75)return c1((0,q.zo)([[c.p2sh],"0x"+g[2]]))}}if(null!=c.prefix){let i=d[1],j=d[0];if(0===j?20!==i&&32!==i&&(j=-1):j=-1,j>=0&&d.length===2+i&&i>=1&&i<=75){let k=cK().toWords(d.slice(2));return k.unshift(j),cK().encode(c.prefix,k)}}return null}getAddress(a){return cS(this,void 0,void 0,function*(){if(null==a&&(a=60),60===a)try{let b=yield this._fetch("0x3b3b57de");if("0x"===b||b===b9.R)return null;return this.provider.formatter.callAddress(b)}catch(c){if(c.code===ai.Yd.errors.CALL_EXCEPTION)return null;throw c}let d=yield this._fetchBytes("0xf1cb7e06",c0(a));if(null==d||"0x"===d)return null;let e=this._getAddress(a,d);return null==e&&cT.throwError("invalid or unsupported coin data",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${a})`,coinType:a,data:d}),e})}getAvatar(){return cS(this,void 0,void 0,function*(){let a=[{type:"name",content:this.name}];try{let b=yield this.getText("avatar");if(null==b)return null;for(let c=0;c<c3.length;c++){let d=b.match(c3[c]);if(null==d)continue;let e=d[1].toLowerCase();switch(e){case"https":return a.push({type:"url",content:b}),{linkage:a,url:b};case"data":return a.push({type:"data",content:b}),{linkage:a,url:b};case"ipfs":return a.push({type:"ipfs",content:b}),{linkage:a,url:c6(b)};case"erc721":case"erc1155":{let f="erc721"===e?"0xc87b56dd":"0x0e89341c";a.push({type:e,content:b});let g=this._resolvedAddress||(yield this.getAddress()),h=(d[2]||"").split("/");if(2!==h.length)return null;let i=yield this.provider.formatter.address(h[0]),j=(0,q.$m)(p.O$.from(h[1]).toHexString(),32);if("erc721"===e){let k=this.provider.formatter.callAddress((yield this.provider.call({to:i,data:(0,q.xs)(["0x6352211e",j])})));if(g!==k)return null;a.push({type:"owner",content:k})}else if("erc1155"===e){let l=p.O$.from((yield this.provider.call({to:i,data:(0,q.xs)(["0x00fdd58e",(0,q.$m)(g,32),j])})));if(l.isZero())return null;a.push({type:"balance",content:l.toString()})}let m={to:this.provider.formatter.address(h[0]),data:(0,q.xs)([f,j])},n=c4((yield this.provider.call(m)),0);if(null==n)return null;a.push({type:"metadata-url-base",content:n}),"erc1155"===e&&(n=n.replace("{id}",j.substring(2)),a.push({type:"metadata-url-expanded",content:n})),n.match(/^ipfs:/i)&&(n=c6(n)),a.push({type:"metadata-url",content:n});let o=yield cH(n);if(!o)return null;a.push({type:"metadata",content:JSON.stringify(o)});let r=o.image;if("string"!=typeof r)return null;if(r.match(/^(https:\/\/|data:)/i));else{let s=r.match(c2);if(null==s)return null;a.push({type:"url-ipfs",content:r}),r=c6(r)}return a.push({type:"url",content:r}),{linkage:a,url:r}}}}}catch(t){}return null})}getContentHash(){return cS(this,void 0,void 0,function*(){let a=yield this._fetchBytes("0xbc1c58d1");if(null==a||"0x"===a)return null;let b=a.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(b){let c=parseInt(b[3],16);if(b[4].length===2*c)return"ipfs://"+bf.encode("0x"+b[1])}let d=a.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(d){let e=parseInt(d[3],16);if(d[4].length===2*e)return"ipns://"+bf.encode("0x"+d[1])}let f=a.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(f&&64===f[1].length)return"bzz://"+f[1];let g=a.match(/^0x90b2c605([0-9a-f]*)$/);if(g&&68===g[1].length){let h={"=":"","+":"-","/":"_"},i=ck("0x"+g[1]).replace(/[=+\/]/g,a=>h[a]);return"sia://"+i}return cT.throwError("invalid or unsupported content hash data",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:a})})}getText(a){return cS(this,void 0,void 0,function*(){let b=(0,aX.Y0)(a);(b=(0,q.zo)([c0(64),c0(b.length),b])).length%32!=0&&(b=(0,q.zo)([b,(0,q.$m)("0x",32-a.length%32)]));let c=yield this._fetchBytes("0x59d1d43c",(0,q.Dv)(b));return null==c||"0x"===c?null:(0,aX.ZN)(c)})}}let db=null,dc=1;class dd extends m.Provider{constructor(a){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,r.zG)(this,"anyNetwork","any"===a),this.anyNetwork&&(a=this.detectNetwork()),a instanceof Promise)this._networkPromise=a,a.catch(a=>{}),this._ready().catch(a=>{});else{let b=(0,r.tu)(new.target,"getNetwork")(a);b?((0,r.zG)(this,"_network",b),this.emit("network",b,null)):cT.throwArgumentError("invalid network","network",a)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return cS(this,void 0,void 0,function*(){if(null==this._network){let a=null;if(this._networkPromise)try{a=yield this._networkPromise}catch(b){}null==a&&(a=yield this.detectNetwork()),a||cT.throwError("no network detected",ai.Yd.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=a:(0,r.zG)(this,"_network",a),this.emit("network",a,null))}return this._network})}get ready(){return cI(()=>this._ready().then(a=>a,a=>{if(a.code!==ai.Yd.errors.NETWORK_ERROR||"noNetwork"!==a.event)throw a}))}static getFormatter(){return null==db&&(db=new cN),db}static getNetwork(a){return ci(null==a?"homestead":a)}ccipReadFetch(a,b,c){return cS(this,void 0,void 0,function*(){if(this.disableCcipRead||0===c.length)return null;let d=a.to.toLowerCase(),e=b.toLowerCase(),f=[];for(let g=0;g<c.length;g++){let h=c[g],i=h.replace("{sender}",d).replace("{data}",e),j=h.indexOf("{data}")>=0?null:JSON.stringify({data:e,sender:d}),k=yield cH({url:i,errorPassThrough:!0},j,(a,b)=>(a.status=b.statusCode,a));if(k.data)return k.data;let l=k.message||"unknown error";if(k.status>=400&&k.status<500)return cT.throwError(`response not found during CCIP fetch: ${l}`,ai.Yd.errors.SERVER_ERROR,{url:h,errorMessage:l});f.push(l)}return cT.throwError(`error encountered during CCIP fetch: ${f.map(a=>JSON.stringify(a)).join(", ")}`,ai.Yd.errors.SERVER_ERROR,{urls:c,errorMessages:f})})}_getInternalBlockNumber(a){return cS(this,void 0,void 0,function*(){if(yield this._ready(),a>0)for(;this._internalBlockNumber;){let b=this._internalBlockNumber;try{let c=yield b;if(cX()-c.respTime<=a)return c.blockNumber;break}catch(d){if(this._internalBlockNumber===b)break}}let e=cX(),f=(0,r.mE)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(a=>null,a=>a)}).then(({blockNumber:a,networkError:b})=>{if(b)throw this._internalBlockNumber===f&&(this._internalBlockNumber=null),b;let c=cX();return(a=p.O$.from(a).toNumber())<this._maxInternalBlockNumber&&(a=this._maxInternalBlockNumber),this._maxInternalBlockNumber=a,this._setFastBlockNumber(a),{blockNumber:a,reqTime:e,respTime:c}});return this._internalBlockNumber=f,f.catch(a=>{this._internalBlockNumber===f&&(this._internalBlockNumber=null)}),(yield f).blockNumber})}poll(){return cS(this,void 0,void 0,function*(){let a=dc++,b=[],c=null;try{c=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(d){this.emit("error",d);return}if(this._setFastBlockNumber(c),this.emit("poll",a,c),c===this._lastBlockNumber){this.emit("didPoll",a);return}if(-2===this._emitted.block&&(this._emitted.block=c-1),Math.abs(this._emitted.block-c)>1e3)cT.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${c})`),this.emit("error",cT.makeError("network block skew detected",ai.Yd.errors.NETWORK_ERROR,{blockNumber:c,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",c);else for(let e=this._emitted.block+1;e<=c;e++)this.emit("block",e);this._emitted.block!==c&&(this._emitted.block=c,Object.keys(this._emitted).forEach(a=>{if("block"===a)return;let b=this._emitted[a];"pending"!==b&&c-b>12&&delete this._emitted[a]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=c-1),this._events.forEach(a=>{switch(a.type){case"tx":{let d=a.hash,e=this.getTransactionReceipt(d).then(a=>(a&&null!=a.blockNumber&&(this._emitted["t:"+d]=a.blockNumber,this.emit(d,a)),null)).catch(a=>{this.emit("error",a)});b.push(e);break}case"filter":if(!a._inflight){a._inflight=!0;let f=a.filter;f.fromBlock=a._lastBlockNumber+1,f.toBlock=c,f.toBlock-this._maxFilterBlockRange>f.fromBlock&&(f.fromBlock=f.toBlock-this._maxFilterBlockRange);let g=this.getLogs(f).then(b=>{a._inflight=!1,0!==b.length&&b.forEach(b=>{b.blockNumber>a._lastBlockNumber&&(a._lastBlockNumber=b.blockNumber),this._emitted["b:"+b.blockHash]=b.blockNumber,this._emitted["t:"+b.transactionHash]=b.blockNumber,this.emit(f,b)})}).catch(b=>{this.emit("error",b),a._inflight=!1});b.push(g)}}}),this._lastBlockNumber=c,Promise.all(b).then(()=>{this.emit("didPoll",a)}).catch(a=>{this.emit("error",a)})})}resetEventsBlock(a){this._lastBlockNumber=a-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return cS(this,void 0,void 0,function*(){return cT.throwError("provider does not support network detection",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return cS(this,void 0,void 0,function*(){let a=yield this._ready(),b=yield this.detectNetwork();if(a.chainId!==b.chainId){if(this.anyNetwork)return this._network=b,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",b,a),yield cY(0),this._network;let c=cT.makeError("underlying network changed",ai.Yd.errors.NETWORK_ERROR,{event:"changed",network:a,detectedNetwork:b});throw this.emit("error",c),c}return a})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(a=>{this._setFastBlockNumber(a)},a=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(a){a&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!a&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(a){if("number"!=typeof a||a<=0||parseInt(String(a))!=a)throw Error("invalid polling interval");this._pollingInterval=a,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let a=cX();return a-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=a,this._fastBlockNumberPromise=this.getBlockNumber().then(a=>((null==this._fastBlockNumber||a>this._fastBlockNumber)&&(this._fastBlockNumber=a),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(a){(null==this._fastBlockNumber||!(a<this._fastBlockNumber))&&(this._fastQueryDate=cX(),(null==this._fastBlockNumber||a>this._fastBlockNumber)&&(this._fastBlockNumber=a,this._fastBlockNumberPromise=Promise.resolve(a)))}waitForTransaction(a,b,c){return cS(this,void 0,void 0,function*(){return this._waitForTransaction(a,null==b?1:b,c||0,null)})}_waitForTransaction(a,b,c,d){return cS(this,void 0,void 0,function*(){let e=yield this.getTransactionReceipt(a);return(e?e.confirmations:0)>=b?e:new Promise((e,f)=>{let g=[],h=!1,i=function(){return!!h||(h=!0,g.forEach(a=>{a()}),!1)},j=a=>{!(a.confirmations<b||i())&&e(a)};if(this.on(a,j),g.push(()=>{this.removeListener(a,j)}),d){let k=d.startBlock,l=null,m=c=>cS(this,void 0,void 0,function*(){!h&&(yield cY(1e3),this.getTransactionCount(d.from).then(e=>cS(this,void 0,void 0,function*(){if(!h){if(e<=d.nonce)k=c;else{{let g=yield this.getTransaction(a);if(g&&null!=g.blockNumber)return}for(null==l&&(l=k-3)<d.startBlock&&(l=d.startBlock);l<=c;){if(h)return;let j=yield this.getBlockWithTransactions(l);for(let n=0;n<j.transactions.length;n++){let o=j.transactions[n];if(o.hash===a)return;if(o.from===d.from&&o.nonce===d.nonce){if(h)return;let p=yield this.waitForTransaction(o.hash,b);if(i())return;let q="replaced";o.data===d.data&&o.to===d.to&&o.value.eq(d.value)?q="repriced":"0x"===o.data&&o.from===o.to&&o.value.isZero()&&(q="cancelled"),f(cT.makeError("transaction was replaced",ai.Yd.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===q||"cancelled"===q,reason:q,replacement:this._wrapTransaction(o),hash:a,receipt:p}));return}}l++}}!h&&this.once("block",m)}}),a=>{!h&&this.once("block",m)}))});if(h)return;this.once("block",m),g.push(()=>{this.removeListener("block",m)})}if("number"==typeof c&&c>0){let n=setTimeout(()=>{!i()&&f(cT.makeError("timeout exceeded",ai.Yd.errors.TIMEOUT,{timeout:c}))},c);n.unref&&n.unref(),g.push(()=>{clearTimeout(n)})}})})}getBlockNumber(){return cS(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return cS(this,void 0,void 0,function*(){yield this.getNetwork();let a=yield this.perform("getGasPrice",{});try{return p.O$.from(a)}catch(b){return cT.throwError("bad result from backend",ai.Yd.errors.SERVER_ERROR,{method:"getGasPrice",result:a,error:b})}})}getBalance(a,b){return cS(this,void 0,void 0,function*(){yield this.getNetwork();let c=yield(0,r.mE)({address:this._getAddress(a),blockTag:this._getBlockTag(b)}),d=yield this.perform("getBalance",c);try{return p.O$.from(d)}catch(e){return cT.throwError("bad result from backend",ai.Yd.errors.SERVER_ERROR,{method:"getBalance",params:c,result:d,error:e})}})}getTransactionCount(a,b){return cS(this,void 0,void 0,function*(){yield this.getNetwork();let c=yield(0,r.mE)({address:this._getAddress(a),blockTag:this._getBlockTag(b)}),d=yield this.perform("getTransactionCount",c);try{return p.O$.from(d).toNumber()}catch(e){return cT.throwError("bad result from backend",ai.Yd.errors.SERVER_ERROR,{method:"getTransactionCount",params:c,result:d,error:e})}})}getCode(a,b){return cS(this,void 0,void 0,function*(){yield this.getNetwork();let c=yield(0,r.mE)({address:this._getAddress(a),blockTag:this._getBlockTag(b)}),d=yield this.perform("getCode",c);try{return(0,q.Dv)(d)}catch(e){return cT.throwError("bad result from backend",ai.Yd.errors.SERVER_ERROR,{method:"getCode",params:c,result:d,error:e})}})}getStorageAt(a,b,c){return cS(this,void 0,void 0,function*(){yield this.getNetwork();let d=yield(0,r.mE)({address:this._getAddress(a),blockTag:this._getBlockTag(c),position:Promise.resolve(b).then(a=>(0,q.$P)(a))}),e=yield this.perform("getStorageAt",d);try{return(0,q.Dv)(e)}catch(f){return cT.throwError("bad result from backend",ai.Yd.errors.SERVER_ERROR,{method:"getStorageAt",params:d,result:e,error:f})}})}_wrapTransaction(a,b,c){if(null!=b&&32!==(0,q.E1)(b))throw Error("invalid response - sendTransaction");let d=a;return null!=b&&a.hash!==b&&cT.throwError("Transaction hash mismatch from Provider.sendTransaction.",ai.Yd.errors.UNKNOWN_ERROR,{expectedHash:a.hash,returnedHash:b}),d.wait=(b,d)=>cS(this,void 0,void 0,function*(){null==b&&(b=1),null==d&&(d=0);let e;0!==b&&null!=c&&(e={data:a.data,from:a.from,nonce:a.nonce,to:a.to,value:a.value,startBlock:c});let f=yield this._waitForTransaction(a.hash,b,d,e);return null==f&&0===b?null:(this._emitted["t:"+a.hash]=f.blockNumber,0===f.status&&cT.throwError("transaction failed",ai.Yd.errors.CALL_EXCEPTION,{transactionHash:a.hash,transaction:a,receipt:f}),f)}),d}sendTransaction(a){return cS(this,void 0,void 0,function*(){yield this.getNetwork();let b=yield Promise.resolve(a).then(a=>(0,q.Dv)(a)),c=this.formatter.transaction(a);null==c.confirmations&&(c.confirmations=0);let d=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let e=yield this.perform("sendTransaction",{signedTransaction:b});return this._wrapTransaction(c,e,d)}catch(f){throw f.transaction=c,f.transactionHash=c.hash,f}})}_getTransactionRequest(a){return cS(this,void 0,void 0,function*(){let b=yield a,c={};return["from","to"].forEach(a=>{null!=b[a]&&(c[a]=Promise.resolve(b[a]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(a=>{null!=b[a]&&(c[a]=Promise.resolve(b[a]).then(a=>a?p.O$.from(a):null))}),["type"].forEach(a=>{null!=b[a]&&(c[a]=Promise.resolve(b[a]).then(a=>null!=a?a:null))}),b.accessList&&(c.accessList=this.formatter.accessList(b.accessList)),["data"].forEach(a=>{null!=b[a]&&(c[a]=Promise.resolve(b[a]).then(a=>a?(0,q.Dv)(a):null))}),this.formatter.transactionRequest((yield(0,r.mE)(c)))})}_getFilter(a){return cS(this,void 0,void 0,function*(){a=yield a;let b={};return null!=a.address&&(b.address=this._getAddress(a.address)),["blockHash","topics"].forEach(c=>{null!=a[c]&&(b[c]=a[c])}),["fromBlock","toBlock"].forEach(c=>{null!=a[c]&&(b[c]=this._getBlockTag(a[c]))}),this.formatter.filter((yield(0,r.mE)(b)))})}_call(a,b,c){return cS(this,void 0,void 0,function*(){c>=10&&cT.throwError("CCIP read exceeded maximum redirections",ai.Yd.errors.SERVER_ERROR,{redirects:c,transaction:a});let d=a.to,e=yield this.perform("call",{transaction:a,blockTag:b});if(c>=0&&"latest"===b&&null!=d&&"0x556f1830"===e.substring(0,10)&&(0,q.E1)(e)%32==4)try{let f=(0,q.p3)(e,4),g=(0,q.p3)(f,0,32);p.O$.from(g).eq(d)||cT.throwError("CCIP Read sender did not match",ai.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:a,data:e});let h=[],i=p.O$.from((0,q.p3)(f,32,64)).toNumber(),j=p.O$.from((0,q.p3)(f,i,i+32)).toNumber(),k=(0,q.p3)(f,i+32);for(let l=0;l<j;l++){let m=c4(k,32*l);null==m&&cT.throwError("CCIP Read contained corrupt URL string",ai.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:a,data:e}),h.push(m)}let n=c5(f,64);p.O$.from((0,q.p3)(f,100,128)).isZero()||cT.throwError("CCIP Read callback selector included junk",ai.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:a,data:e});let o=(0,q.p3)(f,96,100),r=c5(f,128),s=yield this.ccipReadFetch(a,n,h);null==s&&cT.throwError("CCIP Read disabled or provided no URLs",ai.Yd.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:a,data:e});let t={to:d,data:(0,q.xs)([o,c9([s,r])])};return this._call(t,b,c+1)}catch(u){if(u.code===ai.Yd.errors.SERVER_ERROR)throw u}try{return(0,q.Dv)(e)}catch(v){return cT.throwError("bad result from backend",ai.Yd.errors.SERVER_ERROR,{method:"call",params:{transaction:a,blockTag:b},result:e,error:v})}})}call(a,b){return cS(this,void 0,void 0,function*(){yield this.getNetwork();let c=yield(0,r.mE)({transaction:this._getTransactionRequest(a),blockTag:this._getBlockTag(b),ccipReadEnabled:Promise.resolve(a.ccipReadEnabled)});return this._call(c.transaction,c.blockTag,c.ccipReadEnabled?0:-1)})}estimateGas(a){return cS(this,void 0,void 0,function*(){yield this.getNetwork();let b=yield(0,r.mE)({transaction:this._getTransactionRequest(a)}),c=yield this.perform("estimateGas",b);try{return p.O$.from(c)}catch(d){return cT.throwError("bad result from backend",ai.Yd.errors.SERVER_ERROR,{method:"estimateGas",params:b,result:c,error:d})}})}_getAddress(a){return cS(this,void 0,void 0,function*(){"string"!=typeof(a=yield a)&&cT.throwArgumentError("invalid address or ENS name","name",a);let b=yield this.resolveName(a);return null==b&&cT.throwError("ENS name not configured",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(a)})`}),b})}_getBlock(a,b){return cS(this,void 0,void 0,function*(){yield this.getNetwork(),a=yield a;let c=-128,d={includeTransactions:!!b};if((0,q.A7)(a,32))d.blockHash=a;else try{d.blockTag=yield this._getBlockTag(a),(0,q.A7)(d.blockTag)&&(c=parseInt(d.blockTag.substring(2),16))}catch(e){cT.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",a)}return cI(()=>cS(this,void 0,void 0,function*(){let a=yield this.perform("getBlock",d);if(null==a)return null!=d.blockHash&&null==this._emitted["b:"+d.blockHash]||null!=d.blockTag&&c>this._emitted.block?null:void 0;if(b){let e=null;for(let f=0;f<a.transactions.length;f++){let g=a.transactions[f];if(null==g.blockNumber)g.confirmations=0;else if(null==g.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let h=e-g.blockNumber+1;h<=0&&(h=1),g.confirmations=h}}let i=this.formatter.blockWithTransactions(a);return i.transactions=i.transactions.map(a=>this._wrapTransaction(a)),i}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(a){return this._getBlock(a,!1)}getBlockWithTransactions(a){return this._getBlock(a,!0)}getTransaction(a){return cS(this,void 0,void 0,function*(){yield this.getNetwork(),a=yield a;let b={transactionHash:this.formatter.hash(a,!0)};return cI(()=>cS(this,void 0,void 0,function*(){let c=yield this.perform("getTransaction",b);if(null==c)return null==this._emitted["t:"+a]?null:void 0;let d=this.formatter.transactionResponse(c);if(null==d.blockNumber)d.confirmations=0;else if(null==d.confirmations){let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval),f=e-d.blockNumber+1;f<=0&&(f=1),d.confirmations=f}return this._wrapTransaction(d)}),{oncePoll:this})})}getTransactionReceipt(a){return cS(this,void 0,void 0,function*(){yield this.getNetwork(),a=yield a;let b={transactionHash:this.formatter.hash(a,!0)};return cI(()=>cS(this,void 0,void 0,function*(){let c=yield this.perform("getTransactionReceipt",b);if(null==c)return null==this._emitted["t:"+a]?null:void 0;if(null==c.blockHash)return;let d=this.formatter.receipt(c);if(null==d.blockNumber)d.confirmations=0;else if(null==d.confirmations){let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval),f=e-d.blockNumber+1;f<=0&&(f=1),d.confirmations=f}return d}),{oncePoll:this})})}getLogs(a){return cS(this,void 0,void 0,function*(){yield this.getNetwork();let b=yield(0,r.mE)({filter:this._getFilter(a)}),c=yield this.perform("getLogs",b);return c.forEach(a=>{null==a.removed&&(a.removed=!1)}),cN.arrayOf(this.formatter.filterLog.bind(this.formatter))(c)})}getEtherPrice(){return cS(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(a){return cS(this,void 0,void 0,function*(){if("number"==typeof(a=yield a)&&a<0){a%1&&cT.throwArgumentError("invalid BlockTag","blockTag",a);let b=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(b+=a)<0&&(b=0),this.formatter.blockTag(b)}return this.formatter.blockTag(a)})}getResolver(a){return cS(this,void 0,void 0,function*(){let b=a;for(;;){if(""===b||"."===b||"eth"!==a&&"eth"===b)return null;let c=yield this._getResolver(b,"getResolver");if(null!=c){let d=new da(this,c,a);if(b!==a&&!(yield d.supportsWildcard()))return null;return d}b=b.split(".").slice(1).join(".")}})}_getResolver(a,b){return cS(this,void 0,void 0,function*(){null==b&&(b="ENS");let c=yield this.getNetwork();c.ensAddress||cT.throwError("network does not support ENS",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:b,network:c.name});try{let d=yield this.call({to:c.ensAddress,data:"0x0178b8bf"+cA(a).substring(2)});return this.formatter.callAddress(d)}catch(e){}return null})}resolveName(a){return cS(this,void 0,void 0,function*(){a=yield a;try{return Promise.resolve(this.formatter.address(a))}catch(b){if((0,q.A7)(a))throw b}"string"!=typeof a&&cT.throwArgumentError("invalid ENS name","name",a);let c=yield this.getResolver(a);return c?yield c.getAddress():null})}lookupAddress(a){return cS(this,void 0,void 0,function*(){a=yield a,a=this.formatter.address(a);let b=a.substring(2).toLowerCase()+".addr.reverse",c=yield this._getResolver(b,"lookupAddress");if(null==c)return null;let d=c4((yield this.call({to:c,data:"0x691f3431"+cA(b).substring(2)})),0),e=yield this.resolveName(d);return e!=a?null:d})}getAvatar(a){return cS(this,void 0,void 0,function*(){let b=null;if((0,q.A7)(a)){let c=this.formatter.address(a),d=c.substring(2).toLowerCase()+".addr.reverse",e=yield this._getResolver(d,"getAvatar");if(!e)return null;b=new da(this,e,d);try{let f=yield b.getAvatar();if(f)return f.url}catch(g){if(g.code!==ai.Yd.errors.CALL_EXCEPTION)throw g}try{let h=c4((yield this.call({to:e,data:"0x691f3431"+cA(d).substring(2)})),0);b=yield this.getResolver(h)}catch(i){if(i.code!==ai.Yd.errors.CALL_EXCEPTION)throw i;return null}}else if(!(b=yield this.getResolver(a)))return null;let j=yield b.getAvatar();return null==j?null:j.url})}perform(a,b){return cT.throwError(a+" not implemented",ai.Yd.errors.NOT_IMPLEMENTED,{operation:a})}_startEvent(a){this.polling=this._events.filter(a=>a.pollable()).length>0}_stopEvent(a){this.polling=this._events.filter(a=>a.pollable()).length>0}_addEventListener(a,b,c){let d=new c$(cW(a),b,c);return this._events.push(d),this._startEvent(d),this}on(a,b){return this._addEventListener(a,b,!1)}once(a,b){return this._addEventListener(a,b,!0)}emit(a,...b){let c=!1,d=[],e=cW(a);return this._events=this._events.filter(a=>a.tag!==e||(setTimeout(()=>{a.listener.apply(this,b)},0),c=!0,!a.once||(d.push(a),!1))),d.forEach(a=>{this._stopEvent(a)}),c}listenerCount(a){if(!a)return this._events.length;let b=cW(a);return this._events.filter(a=>a.tag===b).length}listeners(a){if(null==a)return this._events.map(a=>a.listener);let b=cW(a);return this._events.filter(a=>a.tag===b).map(a=>a.listener)}off(a,b){if(null==b)return this.removeAllListeners(a);let c=[],d=!1,e=cW(a);return this._events=this._events.filter(a=>a.tag!==e||a.listener!=b||!!d||(d=!0,c.push(a),!1)),c.forEach(a=>{this._stopEvent(a)}),this}removeAllListeners(a){let b=[];if(null==a)b=this._events,this._events=[];else{let c=cW(a);this._events=this._events.filter(a=>a.tag!==c||(b.push(a),!1))}return b.forEach(a=>{this._stopEvent(a)}),this}}var de=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};let df=new ai.Yd(cL),dg=["call","estimateGas"];function dh(a,b){if(null==a)return null;if("string"==typeof a.message&&a.message.match("reverted")){let c=(0,q.A7)(a.data)?a.data:null;if(!b||c)return{message:a.message,data:c}}if("object"==typeof a){for(let d in a){let e=dh(a[d],b);if(e)return e}return null}if("string"==typeof a)try{return dh(JSON.parse(a),b)}catch(f){}return null}function di(a,b,c){let d=c.transaction||c.signedTransaction;if("call"===a){let e=dh(b,!0);if(e)return e.data;df.throwError("missing revert data in call exception; Transaction reverted without a reason string",ai.Yd.errors.CALL_EXCEPTION,{data:"0x",transaction:d,error:b})}if("estimateGas"===a){let f=dh(b.body,!1);null==f&&(f=dh(b,!1)),f&&df.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ai.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{reason:f.message,method:a,transaction:d,error:b})}let g=b.message;throw b.code===ai.Yd.errors.SERVER_ERROR&&b.error&&"string"==typeof b.error.message?g=b.error.message:"string"==typeof b.body?g=b.body:"string"==typeof b.responseText&&(g=b.responseText),(g=(g||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit/i)&&df.throwError("insufficient funds for intrinsic transaction cost",ai.Yd.errors.INSUFFICIENT_FUNDS,{error:b,method:a,transaction:d}),g.match(/nonce (is )?too low/i)&&df.throwError("nonce has already been used",ai.Yd.errors.NONCE_EXPIRED,{error:b,method:a,transaction:d}),g.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&df.throwError("replacement fee too low",ai.Yd.errors.REPLACEMENT_UNDERPRICED,{error:b,method:a,transaction:d}),g.match(/only replay-protected/i)&&df.throwError("legacy pre-eip-155 transactions not supported",ai.Yd.errors.UNSUPPORTED_OPERATION,{error:b,method:a,transaction:d}),dg.indexOf(a)>=0&&g.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&df.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ai.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:b,method:a,transaction:d}),b}function dj(a){return new Promise(function(b){setTimeout(b,a)})}function dk(a){if(a.error){let b=Error(a.error.message);throw b.code=a.error.code,b.data=a.error.data,b}return a.result}function dl(a){return a?a.toLowerCase():a}let dm={};class dn extends n.Signer{constructor(a,b,c){if(super(),a!==dm)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,r.zG)(this,"provider",b),null==c&&(c=0),"string"==typeof c?((0,r.zG)(this,"_address",this.provider.formatter.address(c)),(0,r.zG)(this,"_index",null)):"number"==typeof c?((0,r.zG)(this,"_index",c),(0,r.zG)(this,"_address",null)):df.throwArgumentError("invalid address or index","addressOrIndex",c)}connect(a){return df.throwError("cannot alter JSON-RPC Signer connection",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new dp(dm,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(a=>(a.length<=this._index&&df.throwError("unknown account #"+this._index,ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(a[this._index])))}sendUncheckedTransaction(a){a=(0,r.DC)(a);let b=this.getAddress().then(a=>(a&&(a=a.toLowerCase()),a));if(null==a.gasLimit){let c=(0,r.DC)(a);c.from=b,a.gasLimit=this.provider.estimateGas(c)}return null!=a.to&&(a.to=Promise.resolve(a.to).then(a=>de(this,void 0,void 0,function*(){if(null==a)return null;let b=yield this.provider.resolveName(a);return null==b&&df.throwArgumentError("provided ENS name resolves to null","tx.to",a),b}))),(0,r.mE)({tx:(0,r.mE)(a),sender:b}).then(({tx:b,sender:c})=>{null!=b.from?b.from.toLowerCase()!==c&&df.throwArgumentError("from address mismatch","transaction",a):b.from=c;let d=this.provider.constructor.hexlifyTransaction(b,{from:!0});return this.provider.send("eth_sendTransaction",[d]).then(a=>a,a=>di("sendTransaction",a,d))})}signTransaction(a){return df.throwError("signing transactions is unsupported",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(a){return de(this,void 0,void 0,function*(){let b=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),c=yield this.sendUncheckedTransaction(a);try{return yield cI(()=>de(this,void 0,void 0,function*(){let a=yield this.provider.getTransaction(c);if(null!==a)return this.provider._wrapTransaction(a,c,b)}),{oncePoll:this.provider})}catch(d){throw d.transactionHash=c,d}})}signMessage(a){return de(this,void 0,void 0,function*(){let b="string"==typeof a?(0,aX.Y0)(a):a,c=yield this.getAddress();return yield this.provider.send("personal_sign",[(0,q.Dv)(b),c.toLowerCase()])})}_legacySignMessage(a){return de(this,void 0,void 0,function*(){let b="string"==typeof a?(0,aX.Y0)(a):a,c=yield this.getAddress();return yield this.provider.send("eth_sign",[c.toLowerCase(),(0,q.Dv)(b)])})}_signTypedData(a,b,c){return de(this,void 0,void 0,function*(){let d=yield bd.resolveNames(a,b,c,a=>this.provider.resolveName(a)),e=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[e.toLowerCase(),JSON.stringify(bd.getPayload(d.domain,b,d.value))])})}unlock(a){return de(this,void 0,void 0,function*(){let b=this.provider,c=yield this.getAddress();return b.send("personal_unlockAccount",[c.toLowerCase(),a,null])})}}class dp extends dn{sendTransaction(a){return this.sendUncheckedTransaction(a).then(a=>({hash:a,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:b=>this.provider.waitForTransaction(a,b)}))}}let dq={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class dr extends dd{constructor(a,b){let c=b;null==c&&(c=new Promise((a,b)=>{setTimeout(()=>{this.detectNetwork().then(b=>{a(b)},a=>{b(a)})},0)})),super(c),a||(a=(0,r.tu)(this.constructor,"defaultUrl")()),"string"==typeof a?(0,r.zG)(this,"connection",Object.freeze({url:a})):(0,r.zG)(this,"connection",Object.freeze((0,r.DC)(a))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return de(this,void 0,void 0,function*(){yield dj(0);let a=null;try{a=yield this.send("eth_chainId",[])}catch(b){try{a=yield this.send("net_version",[])}catch(c){}}if(null!=a){let d=(0,r.tu)(this.constructor,"getNetwork");try{return d(p.O$.from(a).toNumber())}catch(e){return df.throwError("could not detect network",ai.Yd.errors.NETWORK_ERROR,{chainId:a,event:"invalidNetwork",serverError:e})}}return df.throwError("could not detect network",ai.Yd.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(a){return new dn(dm,this,a)}getUncheckedSigner(a){return this.getSigner(a).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(a=>a.map(a=>this.formatter.address(a)))}send(a,b){let c={method:a,params:b,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,r.p$)(c),provider:this});let d=["eth_chainId","eth_blockNumber"].indexOf(a)>=0;if(d&&this._cache[a])return this._cache[a];let e=cH(this.connection,JSON.stringify(c),dk).then(a=>(this.emit("debug",{action:"response",request:c,response:a,provider:this}),a),a=>{throw this.emit("debug",{action:"response",error:a,request:c,provider:this}),a});return d&&(this._cache[a]=e,setTimeout(()=>{this._cache[a]=null},0)),e}prepareRequest(a,b){switch(a){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[dl(b.address),b.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[dl(b.address),b.blockTag]];case"getCode":return["eth_getCode",[dl(b.address),b.blockTag]];case"getStorageAt":return["eth_getStorageAt",[dl(b.address),(0,q.$m)(b.position,32),b.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[b.signedTransaction]];case"getBlock":if(b.blockTag)return["eth_getBlockByNumber",[b.blockTag,!!b.includeTransactions]];if(b.blockHash)return["eth_getBlockByHash",[b.blockHash,!!b.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[b.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[b.transactionHash]];case"call":{let c=(0,r.tu)(this.constructor,"hexlifyTransaction");return["eth_call",[c(b.transaction,{from:!0}),b.blockTag]]}case"estimateGas":{let d=(0,r.tu)(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[d(b.transaction,{from:!0})]]}case"getLogs":return b.filter&&null!=b.filter.address&&(b.filter.address=dl(b.filter.address)),["eth_getLogs",[b.filter]]}return null}perform(a,b){return de(this,void 0,void 0,function*(){if("call"===a||"estimateGas"===a){let c=b.transaction;if(c&&null!=c.type&&p.O$.from(c.type).isZero()&&null==c.maxFeePerGas&&null==c.maxPriorityFeePerGas){let d=yield this.getFeeData();null==d.maxFeePerGas&&null==d.maxPriorityFeePerGas&&((b=(0,r.DC)(b)).transaction=(0,r.DC)(c),delete b.transaction.type)}}let e=this.prepareRequest(a,b);null==e&&df.throwError(a+" not implemented",ai.Yd.errors.NOT_IMPLEMENTED,{operation:a});try{return yield this.send(e[0],e[1])}catch(f){return di(a,f,b)}})}_startEvent(a){"pending"===a.tag&&this._startPending(),super._startEvent(a)}_startPending(){if(null!=this._pendingFilter)return;let a=this,b=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=b,b.then(function(c){function d(){a.send("eth_getFilterChanges",[c]).then(function(c){if(a._pendingFilter!=b)return null;let d=Promise.resolve();return c.forEach(function(b){a._emitted["t:"+b.toLowerCase()]="pending",d=d.then(function(){return a.getTransaction(b).then(function(b){return a.emit("pending",b),null})})}),d.then(function(){return dj(1e3)})}).then(function(){if(a._pendingFilter!=b){a.send("eth_uninstallFilter",[c]);return}return setTimeout(function(){d()},0),null}).catch(a=>{})}return d(),c}).catch(a=>{})}_stopEvent(a){"pending"===a.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(a)}static hexlifyTransaction(a,b){let c=(0,r.DC)(dq);if(b)for(let d in b)b[d]&&(c[d]=!0);(0,r.uj)(a,c);let e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(b){if(null==a[b])return;let c=(0,q.$P)(p.O$.from(a[b]));"gasLimit"===b&&(b="gas"),e[b]=c}),["from","to","data"].forEach(function(b){null!=a[b]&&(e[b]=(0,q.Dv)(a[b]))}),a.accessList&&(e.accessList=ay(a.accessList)),e}}let ds=null;try{if(ds=WebSocket,null==ds)throw Error("inject please")}catch(dt){let du=new ai.Yd(cL);ds=function(){du.throwError("WebSockets not supported in this environment",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var dv=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};let dw=new ai.Yd(cL),dx=1;class dy extends dr{constructor(a,b){"any"===b&&dw.throwError("WebSocketProvider does not support 'any' network yet",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),"string"==typeof a?super(a,b):super("_websocket",b),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof a?(0,r.zG)(this,"_websocket",new ds(this.connection.url)):(0,r.zG)(this,"_websocket",a),(0,r.zG)(this,"_requests",{}),(0,r.zG)(this,"_subs",{}),(0,r.zG)(this,"_subIds",{}),(0,r.zG)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(a=>{this.websocket.send(this._requests[a].payload)})},this.websocket.onmessage=a=>{let b=a.data,c=JSON.parse(b);if(null!=c.id){let d=String(c.id),e=this._requests[d];if(delete this._requests[d],void 0!==c.result)e.callback(null,c.result),this.emit("debug",{action:"response",request:JSON.parse(e.payload),response:c.result,provider:this});else{let f=null;c.error?(f=Error(c.error.message||"unknown error"),(0,r.zG)(f,"code",c.error.code||null),(0,r.zG)(f,"response",b)):f=Error("unknown error"),e.callback(f,void 0),this.emit("debug",{action:"response",error:f,request:JSON.parse(e.payload),provider:this})}}else if("eth_subscription"===c.method){let g=this._subs[c.params.subscription];g&&g.processFunc(c.params.result)}else console.warn("this should not happen")};let c=setInterval(()=>{this.emit("poll")},1e3);c.unref&&c.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(a){dw.throwError("cannot reset events block on WebSocketProvider",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(a){dw.throwError("cannot set polling interval on WebSocketProvider",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return dv(this,void 0,void 0,function*(){return null})}set polling(a){a&&dw.throwError("cannot set polling on WebSocketProvider",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(a,b){let c=dx++;return new Promise((d,e)=>{let f=JSON.stringify({method:a,params:b,id:c,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(f),provider:this}),this._requests[String(c)]={callback:function(a,b){return a?e(a):d(b)},payload:f},this._wsReady&&this.websocket.send(f)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(a,b,c){return dv(this,void 0,void 0,function*(){let d=this._subIds[a];null==d&&(d=Promise.all(b).then(a=>this.send("eth_subscribe",a)),this._subIds[a]=d);let e=yield d;this._subs[e]={tag:a,processFunc:c}})}_startEvent(a){switch(a.type){case"block":this._subscribe("block",["newHeads"],a=>{let b=p.O$.from(a.number).toNumber();this._emitted.block=b,this.emit("block",b)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],a=>{this.emit("pending",a)});break;case"filter":this._subscribe(a.tag,["logs",this._getFilter(a.filter)],b=>{null==b.removed&&(b.removed=!1),this.emit(a.filter,this.formatter.filterLog(b))});break;case"tx":{let b=a=>{let b=a.hash;this.getTransactionReceipt(b).then(a=>{a&&this.emit(b,a)})};b(a),this._subscribe("tx",["newHeads"],a=>{this._events.filter(a=>"tx"===a.type).forEach(b)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",a)}}_stopEvent(a){let b=a.tag;if("tx"===a.type){if(this._events.filter(a=>"tx"===a.type).length)return;b="tx"}else if(this.listenerCount(a.event))return;let c=this._subIds[b];c&&(delete this._subIds[b],c.then(a=>{this._subs[a]&&(delete this._subs[a],this.send("eth_unsubscribe",[a]))}))}destroy(){return dv(this,void 0,void 0,function*(){this.websocket.readyState===ds.CONNECTING&&(yield new Promise(a=>{this.websocket.onopen=function(){a(!0)},this.websocket.onerror=function(){a(!1)}})),this.websocket.close(1e3)})}}let dz=new ai.Yd(cL);class dA extends dr{detectNetwork(){let a=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}(this,void 0,void 0,function*(){let b=this.network;return null==b&&((b=yield a.detectNetwork.call(this))||dz.throwError("no network detected",ai.Yd.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,r.zG)(this,"_network",b),this.emit("network",b,null))),b})}}class dB extends dA{constructor(a,b){dz.checkAbstract(new.target,dB),a=(0,r.tu)(new.target,"getNetwork")(a),b=(0,r.tu)(new.target,"getApiKey")(b);let c=(0,r.tu)(new.target,"getUrl")(a,b);super(c,a),"string"==typeof b?(0,r.zG)(this,"apiKey",b):null!=b&&Object.keys(b).forEach(a=>{(0,r.zG)(this,a,b[a])})}_startPending(){dz.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(a){return dz.throwError("API provider does not support signing",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(a){return a}static getUrl(a,b){return dz.throwError("not implemented; sub-classes must override getUrl",ai.Yd.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}let dC=new ai.Yd(cL),dD="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class dE extends dy{constructor(a,b){let c=new dF(a,b),d=c.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(d,c.network),(0,r.zG)(this,"apiKey",c.apiKey)}isCommunityResource(){return this.apiKey===dD}}class dF extends dB{static getWebSocketProvider(a,b){return new dE(a,b)}static getApiKey(a){return null==a?dD:(a&&"string"!=typeof a&&dC.throwArgumentError("invalid apiKey","apiKey",a),a)}static getUrl(a,b){let c=null;switch(a.name){case"homestead":c="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":c="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":c="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":c="eth-goerli.alchemyapi.io/v2/";break;case"kovan":c="eth-kovan.alchemyapi.io/v2/";break;case"matic":c="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":c="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":c="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":c="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":c="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":c="opt-kovan.g.alchemy.com/v2/";break;default:dC.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+c+b,throttleCallback:(a,c)=>(b===dD&&cR(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===dD}}let dG=new ai.Yd(cL),dH="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class dI extends dB{isCommunityResource(){return this.apiKey===dH}static getApiKey(a){return null==a?dH:a}static getUrl(a,b){null==b&&(b=dH);let c={allowGzip:!0,url:"https://"+function(a){switch(a){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return dG.throwArgumentError("unsupported network","name",a)}(a.name)+b,throttleCallback:(a,c)=>(b.apiKey===dH&&cR(),Promise.resolve(!0))};return null!=b.projectSecret&&(c.user="",c.password=b.projectSecret),c}}let dJ=new ai.Yd(cL);class dK extends dB{static getApiKey(a){return null!=a&&dJ.throwArgumentError("apiKey not supported for cloudflare","apiKey",a),null}static getUrl(a,b){let c=null;return"homestead"===a.name?c="https://cloudflare-eth.com/":dJ.throwArgumentError("unsupported network","network",arguments[0]),c}perform(a,b){let c=Object.create(null,{perform:{get:()=>super.perform}});return function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}(this,void 0,void 0,function*(){if("getBlockNumber"===a){let d=yield c.perform.call(this,"getBlock",{blockTag:"latest"});return d.number}return c.perform.call(this,a,b)})}}var dL=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};let dM=new ai.Yd(cL);function dN(a){let b={};for(let c in a){if(null==a[c])continue;let d=a[c];("type"!==c||0!==d)&&(d=({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0})[c]?(0,q.$P)((0,q.Dv)(d)):"accessList"===c?"["+ay(d).map(a=>`{address:"${a.address}",storageKeys:["${a.storageKeys.join('","')}"]}`).join(",")+"]":(0,q.Dv)(d),b[c]=d)}return b}function dO(a){if(0==a.status&&("No records found"===a.message||"No transactions found"===a.message))return a.result;if(1!=a.status||"OK"!=a.message){let b=Error("invalid response");throw b.result=JSON.stringify(a),(a.result||"").toLowerCase().indexOf("rate limit")>=0&&(b.throttleRetry=!0),b}return a.result}function dP(a){if(a&&0==a.status&&"NOTOK"==a.message&&(a.result||"").toLowerCase().indexOf("rate limit")>=0){let b=Error("throttled response");throw b.result=JSON.stringify(a),b.throttleRetry=!0,b}if("2.0"!=a.jsonrpc){let c=Error("invalid response");throw c.result=JSON.stringify(a),c}if(a.error){let d=Error(a.error.message||"unknown error");throw a.error.code&&(d.code=a.error.code),a.error.data&&(d.data=a.error.data),d}return a.result}function dQ(a){if("pending"===a)throw Error("pending not supported");return"latest"===a?a:parseInt(a.substring(2),16)}let dR="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function dS(a,b,c){if("call"===a&&b.code===ai.Yd.errors.SERVER_ERROR){let d=b.error;if(d&&(d.message.match(/reverted/i)||d.message.match(/VM execution error/i))){let e=d.data;if(e&&(e="0x"+e.replace(/^.*0x/i,"")),(0,q.A7)(e))return e;dM.throwError("missing revert data in call exception",ai.Yd.errors.CALL_EXCEPTION,{error:b,data:"0x"})}}let f=b.message;throw b.code===ai.Yd.errors.SERVER_ERROR&&(b.error&&"string"==typeof b.error.message?f=b.error.message:"string"==typeof b.body?f=b.body:"string"==typeof b.responseText&&(f=b.responseText)),(f=(f||"").toLowerCase()).match(/insufficient funds/)&&dM.throwError("insufficient funds for intrinsic transaction cost",ai.Yd.errors.INSUFFICIENT_FUNDS,{error:b,method:a,transaction:c}),f.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&dM.throwError("nonce has already been used",ai.Yd.errors.NONCE_EXPIRED,{error:b,method:a,transaction:c}),f.match(/another transaction with same nonce/)&&dM.throwError("replacement fee too low",ai.Yd.errors.REPLACEMENT_UNDERPRICED,{error:b,method:a,transaction:c}),f.match(/execution failed due to an exception|execution reverted/)&&dM.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ai.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:b,method:a,transaction:c}),b}class dT extends dd{constructor(a,b){super(a),(0,r.zG)(this,"baseUrl",this.getBaseUrl()),(0,r.zG)(this,"apiKey",b||dR)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io"}return dM.throwArgumentError("unsupported network","network",this.network.name)}getUrl(a,b){let c=Object.keys(b).reduce((a,c)=>{let d=b[c];return null!=d&&(a+=`&${c}=${d}`),a},""),d=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${a}${c}${d}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(a,b){return b.module=a,b.apikey=this.apiKey,b}fetch(a,b,c){return dL(this,void 0,void 0,function*(){let d=c?this.getPostUrl():this.getUrl(a,b),e=c?this.getPostData(a,b):null;this.emit("debug",{action:"request",request:d,provider:this});let f={url:d,throttleSlotInterval:1e3,throttleCallback:(a,b)=>(this.isCommunityResource()&&cR(),Promise.resolve(!0))},g=null;e&&(f.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},g=Object.keys(e).map(a=>`${a}=${e[a]}`).join("&"));let h=yield cH(f,g,("proxy"===a?dP:dO)||dP);return this.emit("debug",{action:"response",request:d,response:(0,r.p$)(h),provider:this}),h})}detectNetwork(){return dL(this,void 0,void 0,function*(){return this.network})}perform(a,b){let c=Object.create(null,{perform:{get:()=>super.perform}});return dL(this,void 0,void 0,function*(){switch(a){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:b.address,tag:b.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:b.address,tag:b.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:b.address,tag:b.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:b.address,position:b.position,tag:b.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:b.signedTransaction},!0).catch(a=>dS("sendTransaction",a,b.signedTransaction));case"getBlock":if(b.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:b.blockTag,boolean:b.includeTransactions?"true":"false"});throw Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:b.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:b.transactionHash});case"call":{if("latest"!==b.blockTag)throw Error("EtherscanProvider does not support blockTag for call");let d=dN(b.transaction);d.module="proxy",d.action="eth_call";try{return yield this.fetch("proxy",d,!0)}catch(e){return dS("call",e,b.transaction)}}case"estimateGas":{let f=dN(b.transaction);f.module="proxy",f.action="eth_estimateGas";try{return yield this.fetch("proxy",f,!0)}catch(g){return dS("estimateGas",g,b.transaction)}}case"getLogs":{let h={action:"getLogs"};if(b.filter.fromBlock&&(h.fromBlock=dQ(b.filter.fromBlock)),b.filter.toBlock&&(h.toBlock=dQ(b.filter.toBlock)),b.filter.address&&(h.address=b.filter.address),b.filter.topics&&b.filter.topics.length>0&&(b.filter.topics.length>1&&dM.throwError("unsupported topic count",ai.Yd.errors.UNSUPPORTED_OPERATION,{topics:b.filter.topics}),1===b.filter.topics.length)){let i=b.filter.topics[0];("string"!=typeof i||66!==i.length)&&dM.throwError("unsupported topic format",ai.Yd.errors.UNSUPPORTED_OPERATION,{topic0:i}),h.topic0=i}let j=yield this.fetch("logs",h),k={};for(let l=0;l<j.length;l++){let m=j[l];if(null==m.blockHash){if(null==k[m.blockNumber]){let n=yield this.getBlock(m.blockNumber);n&&(k[m.blockNumber]=n.hash)}m.blockHash=k[m.blockNumber]}}return j}case"getEtherPrice":if("homestead"!==this.network.name)return 0;return parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return c.perform.call(this,a,b)})}getHistory(a,b,c){return dL(this,void 0,void 0,function*(){let d={action:"txlist",address:yield this.resolveName(a),startblock:null==b?0:b,endblock:null==c?99999999:c,sort:"asc"},e=yield this.fetch("account",d);return e.map(a=>{["contractAddress","to"].forEach(function(b){""==a[b]&&delete a[b]}),null==a.creates&&null!=a.contractAddress&&(a.creates=a.contractAddress);let b=this.formatter.transactionResponse(a);return a.timeStamp&&(b.timestamp=parseInt(a.timeStamp)),b})})}isCommunityResource(){return this.apiKey===dR}}function dU(a){a=a.slice();for(let b=a.length-1;b>0;b--){let c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c],a[c]=d}return a}var dV=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};let dW=new ai.Yd(cL);function dX(){return new Date().getTime()}function dY(a){let b=null;for(let c=0;c<a.length;c++){let d=a[c];if(null==d)return null;b?b.name===d.name&&b.chainId===d.chainId&&(b.ensAddress===d.ensAddress||null==b.ensAddress&&null==d.ensAddress)||dW.throwArgumentError("provider mismatch","networks",a):b=d}return b}function dZ(a,b){a=a.slice().sort();let c=Math.floor(a.length/2);if(a.length%2)return a[c];let d=a[c-1],e=a[c];return null!=b&&Math.abs(d-e)>b?null:(d+e)/2}function d$(a){if(null===a)return"null";if("number"==typeof a||"boolean"==typeof a)return JSON.stringify(a);if("string"==typeof a)return a;if(p.O$.isBigNumber(a))return a.toString();if(Array.isArray(a))return JSON.stringify(a.map(a=>d$(a)));else if("object"==typeof a){let b=Object.keys(a);return b.sort(),"{"+b.map(b=>{let c=a[b];return c="function"==typeof c?"[function]":d$(c),JSON.stringify(b)+":"+c}).join(",")+"}"}throw Error("unknown value type: "+typeof a)}let d_=1;function d0(a){let b=null,c=null,d=new Promise(d=>{b=function(){c&&(clearTimeout(c),c=null),d()},c=setTimeout(b,a)}),e=a=>d=d.then(a);function f(){return d}return{cancel:b,getPromise:f,wait:e}}let d1=[ai.Yd.errors.CALL_EXCEPTION,ai.Yd.errors.INSUFFICIENT_FUNDS,ai.Yd.errors.NONCE_EXPIRED,ai.Yd.errors.REPLACEMENT_UNDERPRICED,ai.Yd.errors.UNPREDICTABLE_GAS_LIMIT],d2=["address","args","errorArgs","errorSignature","method","transaction",];function d3(a,b){let c={weight:a.weight};return Object.defineProperty(c,"provider",{get:()=>a.provider}),a.start&&(c.start=a.start),b&&(c.duration=b-a.start),a.done&&(a.error?c.error=a.error:c.result=a.result||null),c}function d4(a,b){return dV(this,void 0,void 0,function*(){let c=a.provider;return null!=c.blockNumber&&c.blockNumber>=b|| -1===b?c:cI(()=>new Promise((d,e)=>{setTimeout(function(){return c.blockNumber>=b?d(c):a.cancelled?d(null):d(void 0)},0)}),{oncePoll:c})})}function d5(a,b,c,d){return dV(this,void 0,void 0,function*(){let e=a.provider;switch(c){case"getBlockNumber":case"getGasPrice":return e[c]();case"getEtherPrice":if(e.getEtherPrice)return e.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return d.blockTag&&(0,q.A7)(d.blockTag)&&(e=yield d4(a,b)),e[c](d.address,d.blockTag||"latest");case"getStorageAt":return d.blockTag&&(0,q.A7)(d.blockTag)&&(e=yield d4(a,b)),e.getStorageAt(d.address,d.position,d.blockTag||"latest");case"getBlock":return d.blockTag&&(0,q.A7)(d.blockTag)&&(e=yield d4(a,b)),e[d.includeTransactions?"getBlockWithTransactions":"getBlock"](d.blockTag||d.blockHash);case"call":case"estimateGas":return d.blockTag&&(0,q.A7)(d.blockTag)&&(e=yield d4(a,b)),e[c](d.transaction);case"getTransaction":case"getTransactionReceipt":return e[c](d.transactionHash);case"getLogs":{let f=d.filter;return(f.fromBlock&&(0,q.A7)(f.fromBlock)||f.toBlock&&(0,q.A7)(f.toBlock))&&(e=yield d4(a,b)),e.getLogs(f)}}return dW.throwError("unknown method error",ai.Yd.errors.UNKNOWN_ERROR,{method:c,params:d})})}class d6 extends dd{constructor(a,b){0===a.length&&dW.throwArgumentError("missing providers","providers",a);let c=a.map((a,b)=>{if(m.Provider.isProvider(a)){let c=cP(a)?2e3:750,d=1;return Object.freeze({provider:a,weight:1,stallTimeout:c,priority:d})}let e=(0,r.DC)(a);null==e.priority&&(e.priority=1),null==e.stallTimeout&&(e.stallTimeout=cP(a)?2e3:750),null==e.weight&&(e.weight=1);let f=e.weight;return(f%1||f>512||f<1)&&dW.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${b}].weight`,f),Object.freeze(e)}),d=c.reduce((a,b)=>a+b.weight,0);null==b?b=d/2:b>d&&dW.throwArgumentError("quorum will always fail; larger than total weight","quorum",b);let e=dY(c.map(a=>a.provider.network));null==e&&(e=new Promise((a,b)=>{setTimeout(()=>{this.detectNetwork().then(a,b)},0)})),super(e),(0,r.zG)(this,"providerConfigs",Object.freeze(c)),(0,r.zG)(this,"quorum",b),this._highestBlockNumber=-1}detectNetwork(){return dV(this,void 0,void 0,function*(){let a=yield Promise.all(this.providerConfigs.map(a=>a.provider.getNetwork()));return dY(a)})}perform(a,b){return dV(this,void 0,void 0,function*(){if("sendTransaction"===a){let c=yield Promise.all(this.providerConfigs.map(a=>a.provider.sendTransaction(b.signedTransaction).then(a=>a.hash,a=>a)));for(let d=0;d<c.length;d++){let e=c[d];if("string"==typeof e)return e}throw c[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==a&&(yield this.getBlockNumber());let f=function(a,b,c){var d,e;let f=d$;switch(b){case"getBlockNumber":return function(b){let c=b.map(a=>a.result),d=dZ(b.map(a=>a.result),2);if(null!=d)return d=Math.ceil(d),c.indexOf(d+1)>=0&&d++,d>=a._highestBlockNumber&&(a._highestBlockNumber=d),a._highestBlockNumber};case"getGasPrice":return function(a){let b=a.map(a=>a.result);return b.sort(),b[Math.floor(b.length/2)]};case"getEtherPrice":return function(a){return dZ(a.map(a=>a.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":f=function(a){return null==a?null:((a=(0,r.DC)(a)).confirmations=-1,d$(a))};break;case"getBlock":f=c.includeTransactions?function(a){return null==a?null:((a=(0,r.DC)(a)).transactions=a.transactions.map(a=>((a=(0,r.DC)(a)).confirmations=-1,a)),d$(a))}:function(a){return null==a?null:d$(a)};break;default:throw Error("unknown method: "+b)}return d=f,e=a.quorum,function(a){let b={};a.forEach(a=>{let c=d(a.result);b[c]||(b[c]={count:0,result:a.result}),b[c].count++});let c=Object.keys(b);for(let f=0;f<c.length;f++){let g=b[c[f]];if(g.count>=e)return g.result}}}(this,a,b),g=dU(this.providerConfigs.map(r.DC));g.sort((a,b)=>a.priority-b.priority);let h=this._highestBlockNumber,i=0,j=!0;for(;;){let k=dX(),l=g.filter(a=>a.runner&&k-a.start<a.stallTimeout).reduce((a,b)=>a+b.weight,0);for(;l<this.quorum&&i<g.length;){let m=g[i++],n=d_++;m.start=dX(),m.staller=d0(m.stallTimeout),m.staller.wait(()=>{m.staller=null}),m.runner=d5(m,h,a,b).then(c=>{m.done=!0,m.result=c,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:n,backend:d3(m,dX()),request:{method:a,params:(0,r.p$)(b)},provider:this})},c=>{m.done=!0,m.error=c,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:n,backend:d3(m,dX()),request:{method:a,params:(0,r.p$)(b)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:n,backend:d3(m,null),request:{method:a,params:(0,r.p$)(b)},provider:this}),l+=m.weight}let o=[];g.forEach(a=>{!a.done&&a.runner&&(o.push(a.runner),a.staller&&o.push(a.staller.getPromise()))}),o.length&&(yield Promise.race(o));let p=g.filter(a=>a.done&&null==a.error);if(p.length>=this.quorum){let q=f(p);if(void 0!==q)return g.forEach(a=>{a.staller&&a.staller.cancel(),a.cancelled=!0}),q;j||(yield d0(100).getPromise()),j=!1}let s=g.reduce((a,b)=>{if(!b.done||null==b.error)return a;let c=b.error.code;return d1.indexOf(c)>=0&&(a[c]||(a[c]={error:b.error,weight:0}),a[c].weight+=b.weight),a},{});if(Object.keys(s).forEach(a=>{let b=s[a];if(b.weight<this.quorum)return;g.forEach(a=>{a.staller&&a.staller.cancel(),a.cancelled=!0});let c=b.error,d={};d2.forEach(a=>{null!=c[a]&&(d[a]=c[a])}),dW.throwError(c.reason||c.message,a,d)}),0===g.filter(a=>!a.done).length)break}return g.forEach(a=>{a.staller&&a.staller.cancel(),a.cancelled=!0}),dW.throwError("failed to meet quorum",ai.Yd.errors.SERVER_ERROR,{method:a,params:b,results:g.map(a=>d3(a)),provider:this})})}}let d7=null,d8=new ai.Yd(cL),d9="84842078b09946638c03157f83405213";class ea extends dy{constructor(a,b){let c=new eb(a,b),d=c.connection;d.password&&d8.throwError("INFURA WebSocket project secrets unsupported",ai.Yd.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});let e=d.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(e,a),(0,r.zG)(this,"apiKey",c.projectId),(0,r.zG)(this,"projectId",c.projectId),(0,r.zG)(this,"projectSecret",c.projectSecret)}isCommunityResource(){return this.projectId===d9}}class eb extends dB{static getWebSocketProvider(a,b){return new ea(a,b)}static getApiKey(a){let b={apiKey:d9,projectId:d9,projectSecret:null};return null==a||("string"==typeof a?b.projectId=a:null!=a.projectSecret?(d8.assertArgument("string"==typeof a.projectId,"projectSecret requires a projectId","projectId",a.projectId),d8.assertArgument("string"==typeof a.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),b.projectId=a.projectId,b.projectSecret=a.projectSecret):a.projectId&&(b.projectId=a.projectId),b.apiKey=b.projectId),b}static getUrl(a,b){let c=null;switch(a?a.name:"unknown"){case"homestead":c="mainnet.infura.io";break;case"ropsten":c="ropsten.infura.io";break;case"rinkeby":c="rinkeby.infura.io";break;case"kovan":c="kovan.infura.io";break;case"goerli":c="goerli.infura.io";break;case"matic":c="polygon-mainnet.infura.io";break;case"maticmum":c="polygon-mumbai.infura.io";break;case"optimism":c="optimism-mainnet.infura.io";break;case"optimism-kovan":c="optimism-kovan.infura.io";break;case"arbitrum":c="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":c="arbitrum-rinkeby.infura.io";break;default:d8.throwError("unsupported network",ai.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:a})}let d={allowGzip:!0,url:"https://"+c+"/v3/"+b.projectId,throttleCallback:(a,c)=>(b.projectId===d9&&cR(),Promise.resolve(!0))};return null!=b.projectSecret&&(d.user="",d.password=b.projectSecret),d}isCommunityResource(){return this.projectId===d9}}class ec extends dr{send(a,b){let c={method:a,params:b,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);let d={request:c,resolve:null,reject:null},e=new Promise((a,b)=>{d.resolve=a,d.reject=b});return this._pendingBatch.push(d),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{let a=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;let b=a.map(a=>a.request);return this.emit("debug",{action:"requestBatch",request:(0,r.p$)(b),provider:this}),cH(this.connection,JSON.stringify(b)).then(c=>{this.emit("debug",{action:"response",request:b,response:c,provider:this}),a.forEach((a,b)=>{let d=c[b];if(d.error){let e=Error(d.error.message);e.code=d.error.code,e.data=d.error.data,a.reject(e)}else a.resolve(d.result)})},c=>{this.emit("debug",{action:"response",error:c,request:b,provider:this}),a.forEach(a=>{a.reject(c)})})},10)),e}}let ed=new ai.Yd(cL);class ee extends dB{static getApiKey(a){return a&&"string"!=typeof a&&ed.throwArgumentError("invalid apiKey","apiKey",a),a||"ETHERS_JS_SHARED"}static getUrl(a,b){ed.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let c=null;switch(a.name){case"homestead":c="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":c="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":c="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":c="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":c="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:ed.throwArgumentError("unsupported network","network",arguments[0])}return c+"?apiKey="+b}}let ef=new ai.Yd(cL),eg={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class eh extends dB{constructor(a,b){if(null==b){let c=(0,r.tu)(new.target,"getNetwork")(a);if(c){let d=eg[c.name];d&&(b={applicationId:d,loadBalancer:!0})}null==b&&ef.throwError("unsupported network",ai.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:a})}super(a,b)}static getApiKey(a){null==a&&ef.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",a);let b={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"==typeof a?b.applicationId=a:null!=a.applicationSecretKey?(ef.assertArgument("string"==typeof a.applicationId,"applicationSecretKey requires an applicationId","applicationId",a.applicationId),ef.assertArgument("string"==typeof a.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),b.applicationId=a.applicationId,b.applicationSecretKey=a.applicationSecretKey,b.loadBalancer=!!a.loadBalancer):a.applicationId?(ef.assertArgument("string"==typeof a.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",a.applicationId),b.applicationId=a.applicationId,b.loadBalancer=!!a.loadBalancer):ef.throwArgumentError("unsupported PocketProvider apiKey","apiKey",a),b}static getUrl(a,b){let c=null;switch(a?a.name:"unknown"){case"homestead":c="eth-mainnet.gateway.pokt.network";break;case"ropsten":c="eth-ropsten.gateway.pokt.network";break;case"rinkeby":c="eth-rinkeby.gateway.pokt.network";break;case"goerli":c="eth-goerli.gateway.pokt.network";break;default:ef.throwError("unsupported network",ai.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:a})}let d=null;d=b.loadBalancer?`https://${c}/v1/lb/${b.applicationId}`:`https://${c}/v1/${b.applicationId}`;let e={url:d};return e.headers={},null!=b.applicationSecretKey&&(e.user="",e.password=b.applicationSecretKey),e}isCommunityResource(){return this.applicationId===eg[this.network.name]}}let ei=new ai.Yd(cL),ej=1;function ek(a,b){let c="Web3LegacyFetcher";return function(a,d){let e={method:a,params:d,id:ej++,jsonrpc:"2.0"};return new Promise((a,d)=>{this.emit("debug",{action:"request",fetcher:c,request:(0,r.p$)(e),provider:this}),b(e,(b,f)=>{if(b)return this.emit("debug",{action:"response",fetcher:c,error:b,request:e,provider:this}),d(b);if(this.emit("debug",{action:"response",fetcher:c,request:e,response:f,provider:this}),f.error){let g=Error(f.error.message);return g.code=f.error.code,g.data=f.error.data,d(g)}a(f.result)})})}}class el extends dr{constructor(a,b){null==a&&ei.throwArgumentError("missing provider","provider",a);let c=null,d=null,e=null;if("function"==typeof a)c="unknown:",d=a;else{if((c=a.host||a.path||"")||!a.isMetaMask||(c="metamask"),e=a,a.request){var f;""===c&&(c="eip-1193:"),d=(f=a,function(a,b){null==b&&(b=[]);let c={method:a,params:b};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,r.p$)(c),provider:this}),f.request(c).then(a=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:c,response:a,provider:this}),a),a=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:c,error:a,provider:this}),a})})}else a.sendAsync?d=ek(a,a.sendAsync.bind(a)):a.send?d=ek(a,a.send.bind(a)):ei.throwArgumentError("unsupported provider","provider",a);c||(c="unknown:")}super(c,b),(0,r.zG)(this,"jsonRpcFetchFunc",d),(0,r.zG)(this,"provider",e)}send(a,b){return this.jsonRpcFetchFunc(a,b)}}let em=new ai.Yd(cL);function en(a,b){if(null==a&&(a="homestead"),"string"==typeof a){let c=a.match(/^(ws|http)s?:/i);if(c)switch(c[1].toLowerCase()){case"http":case"https":return new dr(a);case"ws":case"wss":return new dy(a);default:em.throwArgumentError("unsupported URL scheme","network",a)}}let d=ci(a);return d&&d._defaultProvider||em.throwError("unsupported getDefaultProvider network",ai.Yd.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:a}),d._defaultProvider({FallbackProvider:d6,AlchemyProvider:dF,AnkrProvider:dI,CloudflareProvider:dK,EtherscanProvider:dT,InfuraProvider:eb,JsonRpcProvider:dr,NodesmithProvider:ee,PocketProvider:eh,Web3Provider:el,IpcProvider:d7},b)}var eo=c(84243),ep=c(11388),eq=c(31886),er=c(86237);let es=new ai.Yd("units/5.6.1"),et=["wei","kwei","mwei","gwei","szabo","finney","ether",];function eu(a){let b=String(a).split(".");(b.length>2||!b[0].match(/^-?[0-9]*$/)||b[1]&&!b[1].match(/^[0-9]*$/)||"."===a||"-."===a)&&es.throwArgumentError("invalid value","value",a);let c=b[0],d="";for("-"===c.substring(0,1)&&(d="-",c=c.substring(1));"0"===c.substring(0,1);)c=c.substring(1);""===c&&(c="0");let e="";for(2===b.length&&(e="."+(b[1]||"0"));e.length>2&&"0"===e[e.length-1];)e=e.substring(0,e.length-1);let f=[];for(;c.length;){if(c.length<=3){f.unshift(c);break}{let g=c.length-3;f.unshift(c.substring(g)),c=c.substring(0,g)}}return d+f.join(",")+e}function ev(a,b){if("string"==typeof b){let c=et.indexOf(b);-1!==c&&(b=3*c)}return(0,aW.S5)(a,null!=b?b:18)}function ew(a,b){if("string"!=typeof a&&es.throwArgumentError("value must be a string","value",a),"string"==typeof b){let c=et.indexOf(b);-1!==c&&(b=3*c)}return(0,aW.Ox)(a,null!=b?b:18)}function ex(a){return ev(a,18)}function ey(a){return ew(a,18)}let ez="ethers/5.6.9",eA=new ai.Yd(ez);try{let eB=window;null==eB._ethers&&(eB._ethers=j)}catch(eC){}},29152:function(a,b,c){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var e=c(34823),f=d(c(6230)),g=function(a){return e.isExtractableFile(a)||null!==a&&"object"==typeof a&&"function"==typeof a.pipe};b.default=function(a,b,c){var d=e.extractFiles({query:a,variables:b,operationName:c},"",g),h=d.clone,i=d.files;if(0===i.size){if(!Array.isArray(a))return JSON.stringify(h);if(void 0!==b&&!Array.isArray(b))throw Error("Cannot create request body with given variable type, array expected");return JSON.stringify(a.reduce(function(a,c,d){return a.push({query:c,variables:b?b[d]:void 0}),a},[]))}var j=new("undefined"==typeof FormData?f.default:FormData);j.append("operations",JSON.stringify(h));var k={},l=0;return i.forEach(function(a){k[++l]=a}),j.append("map",JSON.stringify(k)),l=0,i.forEach(function(a,b){j.append(""+ ++l,b)}),j}},66729:function(a,b,c){var d=this&&this.__assign||function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},e=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),f=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),g=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&e(b,a,c);return f(b,a),b},h=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},i=this&&this.__generator||function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(h){f=[6,h],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},j=this&&this.__rest||function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},k=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.gql=b.batchRequests=b.request=b.rawRequest=b.GraphQLClient=b.ClientError=void 0;var l=g(c(54098)),m=l,n=c(91625),o=k(c(29152)),p=c(66321);Object.defineProperty(b,"ClientError",{enumerable:!0,get:function(){return p.ClientError}});var q=function(a){var b={};return a&&("undefined"!=typeof Headers&&a instanceof Headers||a instanceof m.Headers?b=A(a):Array.isArray(a)?a.forEach(function(a){var c=a[0],d=a[1];b[c]=d}):b=a),b},r=function(a){return a.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},s=function(a){var b=a.query,c=a.variables,d=a.operationName;if(!Array.isArray(b)){var e=["query="+encodeURIComponent(r(b))];return c&&e.push("variables="+encodeURIComponent(JSON.stringify(c))),d&&e.push("operationName="+encodeURIComponent(d)),e.join("&")}if(void 0!==c&&!Array.isArray(c))throw Error("Cannot create query with given variable type, array expected");var f=b.reduce(function(a,b,d){return a.push({query:r(b),variables:c?JSON.stringify(c[d]):void 0}),a},[]);return"query="+encodeURIComponent(JSON.stringify(f))},t=function(a){var b=a.url,c=a.query,e=a.variables,f=a.operationName,g=a.headers,j=a.fetch,k=a.fetchOptions;return h(void 0,void 0,void 0,function(){var a;return i(this,function(h){switch(h.label){case 0:return a=o.default(c,e,f),[4,j(b,d({method:"POST",headers:d(d({},"string"==typeof a?{"Content-Type":"application/json"}:{}),g),body:a},k))];case 1:return[2,h.sent()]}})})},u=function(a){var b=a.url,c=a.query,e=a.variables,f=a.operationName,g=a.headers,j=a.fetch,k=a.fetchOptions;return h(void 0,void 0,void 0,function(){var a;return i(this,function(h){switch(h.label){case 0:return a=s({query:c,variables:e,operationName:f}),[4,j(b+"?"+a,d({method:"GET",headers:g},k))];case 1:return[2,h.sent()]}})})},v=function(){function a(a,b){this.url=a,this.options=b||{}}return a.prototype.rawRequest=function(a,b,c){var e=this.options,f=e.headers,g=e.fetch,h=void 0===g?l.default:g,i=e.method,k=j(e,["headers","fetch","method"]),m=this.url;return w({url:m,query:a,variables:b,headers:d(d({},q(f)),q(c)),operationName:void 0,fetch:h,method:void 0===i?"POST":i,fetchOptions:k})},a.prototype.request=function(a,b,c){return h(this,void 0,void 0,function(){var e,f,g,h,k,m,n,o,p,r,s,t;return i(this,function(i){switch(i.label){case 0:return f=(e=this.options).headers,g=e.fetch,h=void 0===g?l.default:g,k=e.method,m=void 0===k?"POST":k,n=j(e,["headers","fetch","method"]),o=this.url,r=(p=z(a)).query,s=p.operationName,[4,w({url:o,query:r,variables:b,headers:d(d({},q(f)),q(c)),operationName:s,fetch:h,method:m,fetchOptions:n})];case 1:return[2,t=i.sent().data]}})})},a.prototype.batchRequests=function(a,b){return h(this,void 0,void 0,function(){var c,e,f,g,h,k,m,n,o,p,r;return i(this,function(i){switch(i.label){case 0:return e=(c=this.options).headers,f=c.fetch,g=void 0===f?l.default:f,h=c.method,k=void 0===h?"POST":h,m=j(c,["headers","fetch","method"]),n=this.url,o=a.map(function(a){return z(a.document).query}),p=a.map(function(a){return a.variables}),[4,w({url:n,query:o,variables:p,headers:d(d({},q(e)),q(b)),operationName:void 0,fetch:g,method:k,fetchOptions:m})];case 1:return[2,r=i.sent().data]}})})},a.prototype.setHeaders=function(a){return this.options.headers=a,this},a.prototype.setHeader=function(a,b){var c,d=this.options.headers;return d?d[a]=b:this.options.headers=((c={})[a]=b,c),this},a.prototype.setEndpoint=function(a){return this.url=a,this},a}();function w(a){var b=a.url,c=a.query,e=a.variables,f=a.headers,g=a.operationName,j=a.fetch,k=a.method,l=void 0===k?"POST":k,m=a.fetchOptions;return h(this,void 0,void 0,function(){var a,h,k,n,o,q,r,s;return i(this,function(i){switch(i.label){case 0:return a="POST"===l.toUpperCase()?t:u,h=Array.isArray(c),[4,a({url:b,query:c,variables:e,operationName:g,headers:f,fetch:j,fetchOptions:m})];case 1:return[4,y(k=i.sent())];case 2:if(n=i.sent(),o=h&&Array.isArray(n)?!n.some(function(a){return!a.data}):!!n.data,k.ok&&!n.errors&&o)return q=k.headers,r=k.status,[2,d(d({},h?{data:n}:n),{headers:q,status:r})];throw s="string"==typeof n?{error:n}:n,new p.ClientError(d(d({},s),{status:k.status,headers:k.headers}),{query:c,variables:e})}})})}function x(a,b,c,d){return h(this,void 0,void 0,function(){var e;return i(this,function(f){return[2,(e=new v(a)).request(b,c,d)]})})}function y(a){var b=a.headers.get("Content-Type");return b&&b.startsWith("application/json")?a.json():a.text()}function z(a){if("string"==typeof a)return{query:a};var b,c=void 0,d=a.definitions.filter(function(a){return"OperationDefinition"===a.kind});return 1===d.length&&(c=null===(b=d[0].name)|| void 0===b?void 0:b.value),{query:n.print(a),operationName:c}}function A(a){var b={};return a.forEach(function(a,c){b[c]=a}),b}b.GraphQLClient=v,b.rawRequest=function(a,b,c,d){return h(this,void 0,void 0,function(){var e;return i(this,function(f){return[2,(e=new v(a)).rawRequest(b,c,d)]})})},b.request=x,b.batchRequests=function(a,b,c){return h(this,void 0,void 0,function(){var d;return i(this,function(e){return[2,(d=new v(a)).batchRequests(b,c)]})})},b.default=x,b.gql=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return a.reduce(function(a,c,d){return""+a+c+(d in b?b[d]:"")},"")}},66321:function(a,b){var c,d=this&&this.__extends||(c=function(a,b){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function d(){this.constructor=a}c(a,b),a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)});Object.defineProperty(b,"__esModule",{value:!0}),b.ClientError=void 0;var e=function(a){function b(c,d){var e=this,f=b.extractMessage(c)+": "+JSON.stringify({response:c,request:d});return Object.setPrototypeOf(e=a.call(this,f)||this,b.prototype),e.response=c,e.request=d,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(e,b),e}return d(b,a),b.extractMessage=function(a){try{return a.errors[0].message}catch(b){return"GraphQL Error (Code: "+a.status+")"}},b}(Error);b.ClientError=e},91625:function(a,b,c){c.r(b),c.d(b,{print:function(){return r}});var d="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a){return g(a,[])}function g(a,b){switch(e(a)){case"string":return JSON.stringify(a);case"function":return a.name?"[function ".concat(a.name,"]"):"[function]";case"object":if(null===a)return"null";return h(a,b);default:return String(a)}}function h(a,b){if(-1!==b.indexOf(a))return"[Circular]";var c=[].concat(b,[a]),d=k(a);if(void 0!==d){var e=d.call(a);if(e!==a)return"string"==typeof e?e:g(e,c)}else if(Array.isArray(a))return j(a,c);return i(a,c)}function i(a,b){var c=Object.keys(a);return 0===c.length?"{}":b.length>2?"["+l(a)+"]":"{ "+c.map(function(c){var d=g(a[c],b);return c+": "+d}).join(", ")+" }"}function j(a,b){if(0===a.length)return"[]";if(b.length>2)return"[Array]";for(var c=Math.min(10,a.length),d=a.length-c,e=[],f=0;f<c;++f)e.push(g(a[f],b));return 1===d?e.push("... 1 more item"):d>1&&e.push("... ".concat(d," more items")),"["+e.join(", ")+"]"}function k(a){var b=a[String(d)];return"function"==typeof b?b:"function"==typeof a.inspect?a.inspect:void 0}function l(a){var b=Object.prototype.toString.call(a).replace(/^\[object /,"").replace(/]$/,"");if("Object"===b&&"function"==typeof a.constructor){var c=a.constructor.name;if("string"==typeof c&&""!==c)return c}return b}function m(a){var b=a.prototype.toJSON;"function"==typeof b||function(a,b){if(!Boolean(0))throw Error(null!=b?b:"Unexpected invariant triggered.")}(0),a.prototype.inspect=b,d&&(a.prototype[d]=b)}function n(a){return null!=a&&"string"==typeof a.kind}m(function(){function a(a,b,c){this.start=a.start,this.end=b.end,this.startToken=a,this.endToken=b,this.source=c}return a.prototype.toJSON=function(){return{start:this.start,end:this.end}},a}()),m(function(){function a(a,b,c,d,e,f,g){this.kind=a,this.start=b,this.end=c,this.line=d,this.column=e,this.value=g,this.prev=f,this.next=null}return a.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},a}());var o={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},p=Object.freeze({});function q(a,b,c){var d=a[b];if(d){if(!c&&"function"==typeof d)return d;var e=c?d.leave:d.enter;if("function"==typeof e)return e}else{var f=c?a.leave:a.enter;if(f){if("function"==typeof f)return f;var g=f[b];if("function"==typeof g)return g}}}function r(a){return function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:o,d=void 0,e=Array.isArray(a),g=[a],h=-1,i=[],j=void 0,k=void 0,l=void 0,m=[],r=[],s=a;do{var t,u=++h===g.length,v=u&&0!==i.length;if(u){if(k=0===r.length?void 0:m[m.length-1],j=l,l=r.pop(),v){if(e)j=j.slice();else{for(var w={},x=0,y=Object.keys(j);x<y.length;x++){var z=y[x];w[z]=j[z]}j=w}for(var A=0,B=0;B<i.length;B++){var C=i[B][0],D=i[B][1];e&&(C-=A),e&&null===D?(j.splice(C,1),A++):j[C]=D}}h=d.index,g=d.keys,i=d.edits,e=d.inArray,d=d.prev}else{if(k=l?e?h:g[h]:void 0,j=l?l[k]:s,null==j)continue;l&&m.push(k)}var E=void 0;if(!Array.isArray(j)){if(!n(j))throw Error("Invalid AST Node: ".concat(f(j),"."));var F=q(b,j.kind,u);if(F){if((E=F.call(b,j,k,l,m,r))===p)break;if(!1===E){if(!u){m.pop();continue}}else if(void 0!==E&&(i.push([k,E]),!u)){if(n(E))j=E;else{m.pop();continue}}}}void 0===E&&v&&i.push([k,j]),u?m.pop():(d={inArray:e,index:h,keys:g,edits:i,prev:d},g=(e=Array.isArray(j))?j:null!==(t=c[j.kind])&& void 0!==t?t:[],h=-1,i=[],l&&r.push(l),l=j)}while(void 0!==d);return 0!==i.length&&(s=i[i.length-1][1]),s}(a,{leave:s})}var s={Name:function(a){return a.value},Variable:function(a){return"$"+a.name},Document:function(a){return u(a.definitions,"\n\n")+"\n"},OperationDefinition:function(a){var b=a.operation,c=a.name,d=w("(",u(a.variableDefinitions,", "),")"),e=u(a.directives," "),f=a.selectionSet;return c||e||d||"query"!==b?u([b,u([c,d]),e,f]," "):f},VariableDefinition:function(a){var b=a.variable,c=a.type,d=a.defaultValue,e=a.directives;return b+": "+c+w(" = ",d)+w(" ",u(e," "))},SelectionSet:function(a){return v(a.selections)},Field:function(a){var b=a.alias,c=a.name,d=a.arguments,e=a.directives,f=a.selectionSet,g=w("",b,": ")+c,h=g+w("(",u(d,", "),")");return h.length>80&&(h=g+w("(\n",x(u(d,"\n")),"\n)")),u([h,u(e," "),f]," ")},Argument:function(a){var b=a.name,c=a.value;return b+": "+c},FragmentSpread:function(a){var b=a.name,c=a.directives;return"..."+b+w(" ",u(c," "))},InlineFragment:function(a){var b=a.typeCondition,c=a.directives,d=a.selectionSet;return u(["...",w("on ",b),u(c," "),d]," ")},FragmentDefinition:function(a){var b=a.name,c=a.typeCondition,d=a.variableDefinitions,e=a.directives,f=a.selectionSet;return"fragment ".concat(b).concat(w("(",u(d,", "),")")," ")+"on ".concat(c," ").concat(w("",u(e," ")," "))+f},IntValue:function(a){return a.value},FloatValue:function(a){return a.value},StringValue:function(a,b){var c=a.value;return a.block?function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=-1===a.indexOf("\n"),e=" "===a[0]||"	"===a[0],f='"'===a[a.length-1],g="\\"===a[a.length-1],h=!d||f||g||c,i="";return h&&!(d&&e)&&(i+="\n"+b),i+=b?a.replace(/\n/g,"\n"+b):a,h&&(i+="\n"),'"""'+i.replace(/"""/g,'\\"""')+'"""'}(c,"description"===b?"":"  "):JSON.stringify(c)},BooleanValue:function(a){return a.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(a){return a.value},ListValue:function(a){return"["+u(a.values,", ")+"]"},ObjectValue:function(a){return"{"+u(a.fields,", ")+"}"},ObjectField:function(a){var b=a.name,c=a.value;return b+": "+c},Directive:function(a){var b=a.name,c=a.arguments;return"@"+b+w("(",u(c,", "),")")},NamedType:function(a){return a.name},ListType:function(a){return"["+a.type+"]"},NonNullType:function(a){return a.type+"!"},SchemaDefinition:t(function(a){var b=a.directives,c=a.operationTypes;return u(["schema",u(b," "),v(c)]," ")}),OperationTypeDefinition:function(a){var b=a.operation,c=a.type;return b+": "+c},ScalarTypeDefinition:t(function(a){var b=a.name,c=a.directives;return u(["scalar",b,u(c," ")]," ")}),ObjectTypeDefinition:t(function(a){var b=a.name,c=a.interfaces,d=a.directives,e=a.fields;return u(["type",b,w("implements ",u(c," & ")),u(d," "),v(e)]," ")}),FieldDefinition:t(function(a){var b=a.name,c=a.arguments,d=a.type,e=a.directives;return b+(z(c)?w("(\n",x(u(c,"\n")),"\n)"):w("(",u(c,", "),")"))+": "+d+w(" ",u(e," "))}),InputValueDefinition:t(function(a){var b=a.name,c=a.type,d=a.defaultValue,e=a.directives;return u([b+": "+c,w("= ",d),u(e," ")]," ")}),InterfaceTypeDefinition:t(function(a){var b=a.name,c=a.interfaces,d=a.directives,e=a.fields;return u(["interface",b,w("implements ",u(c," & ")),u(d," "),v(e)]," ")}),UnionTypeDefinition:t(function(a){var b=a.name,c=a.directives,d=a.types;return u(["union",b,u(c," "),d&&0!==d.length?"= "+u(d," | "):""]," ")}),EnumTypeDefinition:t(function(a){var b=a.name,c=a.directives,d=a.values;return u(["enum",b,u(c," "),v(d)]," ")}),EnumValueDefinition:t(function(a){var b=a.name,c=a.directives;return u([b,u(c," ")]," ")}),InputObjectTypeDefinition:t(function(a){var b=a.name,c=a.directives,d=a.fields;return u(["input",b,u(c," "),v(d)]," ")}),DirectiveDefinition:t(function(a){var b=a.name,c=a.arguments,d=a.repeatable,e=a.locations;return"directive @"+b+(z(c)?w("(\n",x(u(c,"\n")),"\n)"):w("(",u(c,", "),")"))+(d?" repeatable":"")+" on "+u(e," | ")}),SchemaExtension:function(a){var b=a.directives,c=a.operationTypes;return u(["extend schema",u(b," "),v(c)]," ")},ScalarTypeExtension:function(a){var b=a.name,c=a.directives;return u(["extend scalar",b,u(c," ")]," ")},ObjectTypeExtension:function(a){var b=a.name,c=a.interfaces,d=a.directives,e=a.fields;return u(["extend type",b,w("implements ",u(c," & ")),u(d," "),v(e)]," ")},InterfaceTypeExtension:function(a){var b=a.name,c=a.interfaces,d=a.directives,e=a.fields;return u(["extend interface",b,w("implements ",u(c," & ")),u(d," "),v(e)]," ")},UnionTypeExtension:function(a){var b=a.name,c=a.directives,d=a.types;return u(["extend union",b,u(c," "),d&&0!==d.length?"= "+u(d," | "):""]," ")},EnumTypeExtension:function(a){var b=a.name,c=a.directives,d=a.values;return u(["extend enum",b,u(c," "),v(d)]," ")},InputObjectTypeExtension:function(a){var b=a.name,c=a.directives,d=a.fields;return u(["extend input",b,u(c," "),v(d)]," ")}};function t(a){return function(b){return u([b.description,a(b)],"\n")}}function u(a){var b,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"";return null!==(b=null==a?void 0:a.filter(function(a){return a}).join(c))&& void 0!==b?b:""}function v(a){return w("{\n",x(u(a,"\n")),"\n}")}function w(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"";return null!=b&&""!==b?a+b+c:""}function x(a){return w("  ",a.replace(/\n/g,"\n  "))}function y(a){return -1!==a.indexOf("\n")}function z(a){return null!=a&&a.some(y)}}}])