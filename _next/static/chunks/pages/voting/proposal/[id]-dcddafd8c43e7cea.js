(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9700],{47889:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/voting/proposal/[id]",function(){return c(24608)}])},79207:function(a,b,c){"use strict";c.d(b,{Z:function(){return m}});var d=c(85893);c(67294);var e=c(6531),f=c(7297),g=c(87379);function h(){var a=(0,f.Z)(["\n  display: flex;\n  z-index: 2;\n  top: -65%;\n  position: absolute;\n  transform: translate(-50%, -50%);\n  transition: left 200ms ease-out;\n"]);return h=function(){return a},a}var i=g.ZP.div.withConfig({componentId:"sc-a698ef92-0"}).withConfig({componentId:"sc-d864b77e-0"})(h()),j=c(62968),k=c(94065),l=function(a){return a<0?0:a>100?100:a},m=function(a){var b=a.variant,c=void 0===b?k.o.ROUND:b,f=a.scale,g=void 0===f?k.Q.MD:f,h=a.primaryStep,m=void 0===h?0:h,n=a.secondaryStep,o=void 0===n?null:n,p=a.showProgressBunny,q=a.useDark,r=void 0===q||q,s=a.children;return(0,d.jsx)(e.Z,{$useDark:r,variant:c,scale:g,children:s||(0,d.jsxs)(d.Fragment,{children:[void 0!==p&&p&&(0,d.jsx)(i,{style:{left:"".concat(l(m),"%")},children:(0,d.jsx)(j.Z,{})}),(0,d.jsx)(e.$,{$useDark:r,primary:!0,style:{width:"".concat(l(m),"%")}}),o?(0,d.jsx)(e.$,{$useDark:r,style:{width:"".concat(l(o),"%")}}):null]})})}},6531:function(a,b,c){"use strict";c.d(b,{"$":function(){return p},Z:function(){return q}});var d,e,f=c(7297),g=c(87379),h=c(57247),i=c(16557),j=c(14924),k=c(94065),l=(d={},(0,j.Z)(d,k.o.ROUND,{borderRadius:"32px"}),(0,j.Z)(d,k.o.FLAT,{borderRadius:0}),d),m=(e={},(0,j.Z)(e,k.Q.MD,{height:"16px"}),(0,j.Z)(e,k.Q.SM,{height:"8px"}),e);function n(){var a=(0,f.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: ",";\n  height: 100%;\n  transition: width 200ms ease;\n"]);return n=function(){return a},a}function o(){var a=(0,f.Z)(["\n  position: relative;\n  background-color: ",";\n  box-shadow: ",";\n  overflow: hidden;\n\n  "," {\n    border-top-left-radius: ",";\n    border-bottom-left-radius: ",";\n  }\n\n  ","\n  ","\n  ","\n"]);return o=function(){return a},a}var p=g.ZP.div.withConfig({componentId:"sc-347a4242-0"}).withConfig({componentId:"sc-ffa90952-0"})(n(),function(a){var b=a.theme,c=a.$useDark,d=a.primary,e=a.$background;return e||(c?d?b.colors.secondary:"".concat(b.colors.secondary80):d?i.C.secondary:"".concat(i.C.secondary80))});p.defaultProps={primary:!1};var q=g.ZP.div.withConfig({componentId:"sc-347a4242-1"}).withConfig({componentId:"sc-ffa90952-1"})(o(),function(a){var b=a.theme,c=a.$useDark;return c?b.colors.input:i.C.input},function(a){return a.theme.shadows.inset},p,function(a){return a.variant===k.o.FLAT?"0":"32px"},function(a){return a.variant===k.o.FLAT?"0":"32px"},(0,h.bU)({variants:l}),(0,h.bU)({prop:"scale",variants:m}),h.Dh)},94065:function(a,b,c){"use strict";c.d(b,{Q:function(){return e},o:function(){return d}});var d={ROUND:"round",FLAT:"flat"},e={MD:"md",SM:"sm"}},1274:function(a,b,c){"use strict";var d=c(26042),e=c(69396),f=c(85893);c(67294);var g=c(44976),h=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 24 24"},a),{children:(0,f.jsx)("path",{d:"M8.11997 14.7101L12 10.8301L15.88 14.7101C16.27 15.1001 16.9 15.1001 17.29 14.7101C17.68 14.3201 17.68 13.6901 17.29 13.3001L12.7 8.7101C12.31 8.3201 11.68 8.3201 11.29 8.7101L6.69997 13.3001C6.30997 13.6901 6.30997 14.3201 6.69997 14.7101C7.08997 15.0901 7.72997 15.1001 8.11997 14.7101Z"})}))};b.Z=h},62968:function(a,b,c){"use strict";var d=c(26042),e=c(69396),f=c(85893);c(67294);var g=c(44976),h=function(a){return(0,f.jsxs)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 34 38"},a),{children:[(0,f.jsx)("rect",{x:"8.83594",width:"5.30132",height:"17.3191",rx:"2.65066",fill:"#D1884F"}),(0,f.jsx)("rect",{x:"19.4385",width:"5.30132",height:"17.3191",rx:"2.65066",fill:"#D1884F"}),(0,f.jsx)("path",{d:"M8.5 13.0084C13.1944 8.40751 20.8056 8.40751 25.5 13.0084C30.1944 17.6093 30.1944 25.0689 25.5 29.6698L17.6538 37.3597C17.2927 37.7136 16.7073 37.7136 16.3462 37.3597L8.5 29.6698C3.80558 25.0689 3.80558 17.6093 8.5 13.0084Z",fill:"#D1884F"}),(0,f.jsx)("ellipse",{cx:"12.3696",cy:"19.9172",rx:"1.76711",ry:"2.59786",fill:"white"}),(0,f.jsx)("ellipse",{cx:"21.2056",cy:"19.9172",rx:"1.76711",ry:"2.59786",fill:"white"})]}))};b.Z=h},71476:function(a,b,c){"use strict";var d=c(7297),e=c(85893),f=c(87379),g=c(69136),h=c(27553);function i(){var a=(0,d.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return i=function(){return a},a}var j=(0,f.ZP)(h.Z).withConfig({componentId:"sc-5ad34a86-0"})(i()),k=function(){return(0,e.jsx)(j,{children:(0,e.jsx)(g.Z,{})})};b.Z=k},24608:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSG":function(){return a2},default:function(){return a3}});var d,e=c(85893),f=c(8100),g=c(47568),h=c(34051),i=c.n(h),j=c(44147),k=c(98553),l=c(87844),m=c(75943),n=c(69589),o=c(27553),p=c(58412),q=c(29315),r=c(49770),s=c(96470),t=c(41664),u=c.n(t),v=c(11163),w=c(52775),x=c(44305),y=c(44035),z=c(28415),A=c(71476),B=c(75759),C=c(80197),D=c(85520),E=c(49804),F=c(7297),G=c(20353),H=c(55209),I=c(70257),J=c(62077),K=c(40735),L=c(87379),M=c(42298),N=c(97119),O=c(15260),P=c(81896);function Q(){var a=(0,F.Z)(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 10px;\n"]);return Q=function(){return a},a}var R=(0,L.ZP)(j.Z).withConfig({componentId:"sc-81ea603d-0"})(Q(),function(a){return a.theme.colors.background},function(a){return a.theme.colors.cardBorder}),S=function(a){var b=a.proposal,c=(0,w.$G)().t,d=new Date(1e3*b.start),f=new Date(1e3*b.end);return(0,e.jsxs)(G.Z,{mb:"16px",children:[(0,e.jsx)(H.Z,{children:(0,e.jsx)(n.Z,{as:"h3",scale:"md",children:c("Details")})}),(0,e.jsxs)(I.Z,{children:[(0,e.jsxs)(m.Z,{alignItems:"center",mb:"8px",children:[(0,e.jsx)(J.Z,{color:"textSubtle",children:c("Identifier")}),(0,e.jsx)(K.Z,{href:"".concat(P.Gs,"/").concat(b.id),ml:"8px",children:b.id.slice(0,8)})]}),(0,e.jsxs)(m.Z,{alignItems:"center",mb:"8px",children:[(0,e.jsx)(J.Z,{color:"textSubtle",children:c("Creator")}),(0,e.jsx)(K.Z,{href:(0,N.C)(b.author,"address"),ml:"8px",children:(0,O.Z)(b.author)})]}),(0,e.jsxs)(m.Z,{alignItems:"center",mb:"16px",children:[(0,e.jsx)(J.Z,{color:"textSubtle",children:c("Snapshot")}),(0,e.jsx)(K.Z,{href:(0,N.C)(b.snapshot,"block"),ml:"8px",children:b.snapshot})]}),(0,e.jsxs)(R,{p:"16px",children:[(0,e.jsx)(D.U,{proposalState:b.state,mb:"8px"}),(0,e.jsxs)(m.Z,{alignItems:"center",children:[(0,e.jsx)(J.Z,{color:"textSubtle",fontSize:"14px",children:c("Start Date")}),(0,e.jsx)(J.Z,{ml:"8px",children:(0,M.default)(d,"yyyy-MM-dd HH:mm")})]}),(0,e.jsxs)(m.Z,{alignItems:"center",children:[(0,e.jsx)(J.Z,{color:"textSubtle",fontSize:"14px",children:c("End Date")}),(0,e.jsx)(J.Z,{ml:"8px",children:(0,M.default)(f,"yyyy-MM-dd HH:mm")})]})]})]})]})},T=c(22769),U=c(39398),V=c(79207),W=c(62685),X=c(59123);function Y(){var a=(0,F.Z)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return Y=function(){return a},a}var Z,$=(0,L.ZP)(J.Z).withConfig({componentId:"sc-aef14575-0"})(Y()),_=function(a){var b=a.choices,c=a.votes,d=a.votesLoadingStatus,f=(0,w.$G)().t,g=(0,C.zn)(c),h=(0,q.Ge)().account,i=(0,C.Z$)(c);return(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(H.Z,{children:(0,e.jsx)(n.Z,{as:"h3",scale:"md",children:f("Current Results")})}),(0,e.jsxs)(I.Z,{children:[d===B.iF.Fetched&&b.map(function(a,b){var c=g[a]||[],d=(0,C.Z$)(c),k=0===i?0:d/i*100,l=c.some(function(a){return h&&a.voter.toLowerCase()===h.toLowerCase()});return(0,e.jsxs)(j.Z,{mt:b>0?"24px":"0px",children:[(0,e.jsxs)(m.Z,{alignItems:"center",mb:"8px",children:[(0,e.jsx)($,{mb:"4px",title:a,children:a}),l&&(0,e.jsxs)(T.Z,{variant:"success",outline:!0,ml:"8px",children:[(0,e.jsx)(U.Z,{mr:"4px"})," ",f("Voted")]})]}),(0,e.jsx)(j.Z,{mb:"4px",children:(0,e.jsx)(V.Z,{primaryStep:k,scale:"sm"})}),(0,e.jsxs)(m.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,e.jsx)(J.Z,{color:"textSubtle",children:f("%total% Votes",{total:(0,X.uf)(d,0,2)})}),(0,e.jsxs)(J.Z,{children:[k.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),"%"]})]})]},a)}),d===B.iF.Fetching&&b.map(function(a,b){return(0,e.jsxs)(j.Z,{mt:b>0?"24px":"0px",children:[(0,e.jsx)(m.Z,{alignItems:"center",mb:"8px",children:(0,e.jsx)($,{mb:"4px",title:a,children:a})}),(0,e.jsx)(j.Z,{mb:"4px",children:(0,e.jsx)(W.Z,{height:"36px",mb:"4px"})})]},a)})]})]})},aa=c(26042),ab=c(69396),ac=c(99534),ad=c(10253),ae=c(67294),af=c(19237),ag=c(21812),ah=c(42289),ai=c(7447),aj=c(14924),ak=c(85937),al=c(63850);(Z=d||(d={})).MAIN="main",Z.DETAILS="details";var am=c(44431),an=c.n(am),ao=c(27208),ap=c(68479),aq=c(89663),ar=c(37303),as=c(63771),at=c(34532),au=c(2803),av=function(a){var b=a.vote,c=a.total,d=a.isPending,f=a.isLoading,g=a.isError,h=a.onConfirm,i=a.onViewDetails,j=a.onDismiss,l=a.disabled,n=a.lockedCakeBalance,o=a.lockedEndTime,p=(0,w.$G)().t,q=(0,at.Z)(),r=n>0,s=(0,ae.useMemo)(function(){return 0!==o&&new(an())(null==q?void 0:q.toString()).gte(o)},[q,o]),t=r&&!s;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(au.IM,{children:[(0,e.jsx)(J.Z,{color:"secondary",mb:"8px",textTransform:"uppercase",fontSize:"12px",bold:!0,children:p("Voting For")}),(0,e.jsx)($,{bold:!0,fontSize:"20px",mb:"8px",title:b.label,children:b.label}),(0,e.jsx)(J.Z,{color:"secondary",mb:"8px",textTransform:"uppercase",fontSize:"12px",bold:!0,children:p("Your Voting Power")}),f&&!g?(0,e.jsx)(W.Z,{height:"64px",mb:"12px"}):g?(0,e.jsx)(ao.Z,{variant:"danger",mb:"12px",children:(0,e.jsx)(J.Z,{color:"text",children:p("Error occurred, please try again later")})}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(au.jb,{hasBoosted:t,onClick:i,style:{cursor:"pointer"},children:(0,e.jsxs)(au.K7,{hasBoosted:t,children:[(0,e.jsxs)(m.Z,{flexDirection:"column",children:[(0,e.jsx)(J.Z,{bold:!0,fontSize:"20px",color:0===c?"failure":"text",children:(0,X.uf)(c,0,3)}),r&&(0,e.jsxs)(m.Z,{children:[(0,e.jsx)(ap.Z,{color:s?"warning":"secondary",width:"15px",height:"15px"}),(0,e.jsx)(J.Z,{ml:"4px",bold:!0,color:s?"warning":"secondary",fontSize:"14px",children:p(s?"Boosting Expired":"Boosted by vCAKE")})]})]}),(0,e.jsx)(aq.Z,{scale:"sm",variant:"text",children:(0,e.jsx)(ar.Z,{width:"24px"})})]})}),0===c?(0,e.jsx)(ao.Z,{variant:"danger",mb:"12px",children:(0,e.jsx)(J.Z,{color:"danger",children:p("Hold some CAKE in your wallet or on PancakeSwap at the snapshot block to get voting power for future proposals.")})}):(0,e.jsx)(J.Z,{as:"p",color:"textSubtle",fontSize:"14px",children:p("Are you sure you want to vote for the above choice? This action cannot be undone.")})]})]}),(0,e.jsx)(k.Z,{isLoading:d,endIcon:d?(0,e.jsx)(as.Z,{spin:!0,color:"currentColor"}):null,disabled:l||f||0===c,width:"100%",mb:"8px",onClick:h,children:p("Confirm Vote")}),(0,e.jsx)(k.Z,{variant:"secondary",width:"100%",onClick:j,children:p("Cancel")})]})},aw=av,ax=c(86540),ay=c(58433),az=function(a){var b,c,f=a.onSuccess,h=a.proposalId,k=a.vote,l=a.block,m=a.onDismiss,n=(0,ae.useState)(d.MAIN),o=n[0],p=n[1],r=(0,ae.useState)(!0),t=r[0],u=r[1],v=(0,ae.useState)(!1),x=v[0],y=v[1],z=(0,q.Ge)().account,A=(0,w.$G)().t,B=(0,q.QW)().signMessageAsync,D=(0,af.p)().toastError,E=(0,al.ZP)().theme,F=(0,ay.Z)(l,t),G=F.isLoading,H=F.isError,I=F.total,J=F.cakeBalance,K=F.cakeVaultBalance,L=F.cakePoolBalance,M=F.poolsBalance,N=F.cakeBnbLpBalance,O=F.ifoPoolBalance,P=F.lockedCakeBalance,Q=F.lockedEndTime,R=o===d.MAIN,S=R?null:function(){return p(d.MAIN)},T=function(){return p(d.DETAILS)},U=(b={},(0,aj.Z)(b,d.MAIN,A("Confirm Vote")),(0,aj.Z)(b,d.DETAILS,A("Voting Power")),b),V=function(){u(!1),m()},W=(c=(0,g.Z)(i().mark(function a(){var b,c,d,e,g;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,y(!0),b=JSON.stringify((0,ab.Z)((0,aa.Z)({},(0,C.GB)()),{type:s.Nl.VOTE,payload:{proposal:h,choice:k.value}})),a.next=5,B({message:b});case 5:return d={address:z,msg:b,sig:c=a.sent},a.next=9,(0,C.Jl)(d);case 9:return a.next=11,f();case 11:V(),a.next=20;break;case 14:a.prev=14,a.t0=a.catch(0),D(A("Error"),null!==(g=null===(e=a.t0)|| void 0===e?void 0:e.message)&& void 0!==g?g:A("Error occurred, please try again")),console.error(a.t0);case 20:return a.prev=20,y(!1),a.finish(20);case 23:case"end":return a.stop()}},a,null,[[0,14,20,23]])})),function(){return c.apply(this,arguments)});return(0,e.jsx)(ak.Z,{title:U[o],onBack:S,onDismiss:m,hideCloseButton:!R,headerBackground:E.colors.gradientCardHeader,children:(0,e.jsxs)(j.Z,{mb:"24px",children:[o===d.MAIN&&(0,e.jsx)(aw,{vote:k,isError:H,isLoading:G,isPending:x,total:I,lockedCakeBalance:P,lockedEndTime:Q,onConfirm:W,onViewDetails:T,onDismiss:V}),o===d.DETAILS&&(0,e.jsx)(ax.Z,{total:I,cakeBalance:J,ifoPoolBalance:O,cakeVaultBalance:K,cakePoolBalance:L,poolsBalance:M,cakeBnbLpBalance:N,block:l,lockedCakeBalance:P,lockedEndTime:Q})]})})},aA=az;function aB(){var a=(0,F.Z)(["\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: 10px\n  cursor: ",";\n  display: flex;\n  margin-bottom: 16px;\n  padding: 16px;\n"]);return aB=function(){return a},a}function aC(){var a=(0,F.Z)(["\n  flex: 1;\n  padding-left: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 0;\n"]);return aC=function(){return a},a}var aD=L.ZP.label.withConfig({componentId:"sc-e0a4543e-0"})(aB(),function(a){var b=a.theme,c=a.isChecked;return b.colors[c?"success":"cardBorder"]},function(a){return a.isDisabled?"not-allowed":"pointer"}),aE=L.ZP.div.withConfig({componentId:"sc-e0a4543e-1"})(aC()),aF=function(a){var b,c=a.proposal,d=a.onSuccess,f=(0,ac.Z)(a,["proposal","onSuccess"]),h=(0,ae.useState)(null),j=h[0],l=h[1],m=(0,w.$G)().t,o=(0,af.p)().toastSuccess,p=(0,q.Ge)().account,r=(b=(0,g.Z)(i().mark(function a(){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o(m("Vote cast!")),null==d||d();case 2:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)}),s=(0,ad.Z)((0,ag.Z)((0,e.jsx)(aA,{onSuccess:r,proposalId:c.id,vote:j,block:Number(c.snapshot)})),1)[0];return(0,e.jsxs)(G.Z,(0,ab.Z)((0,aa.Z)({},f),{children:[(0,e.jsx)(H.Z,{children:(0,e.jsx)(n.Z,{as:"h3",scale:"md",children:m("Cast your vote")})}),(0,e.jsxs)(I.Z,{children:[c.choices.map(function(a,b){var c=b+1===(null==j?void 0:j.value),d=function(){l({label:a,value:b+1})};return(0,e.jsxs)(aD,{isChecked:c,isDisabled:!p,children:[(0,e.jsx)("div",{style:{flexShrink:0},children:(0,e.jsx)(ah.Z,{scale:"sm",value:a,checked:c,onChange:d,disabled:!p})}),(0,e.jsx)(aE,{children:(0,e.jsx)(J.Z,{as:"span",title:a,children:a})})]},a)}),p?(0,e.jsx)(k.Z,{onClick:s,disabled:null===j,children:m("Cast Vote")}):(0,e.jsx)(ai.Z,{})]})]}))},aG=c(1274),aH=c(57049),aI=c(75472),aJ=c.n(aI),aK=c(98913),aL=c.n(aK);function aM(){var a=(0,F.Z)(["\n  border-bottom: 1px solid ",";\n  padding: 16px 24px;\n"]);return aM=function(){return a},a}function aN(){var a=(0,F.Z)(["\n  flex: 1;\n"]);return aN=function(){return a},a}var aO=(0,L.ZP)(m.Z).withConfig({componentId:"sc-3b23a182-0"})(aM(),function(a){return a.theme.colors.cardBorder}),aP=(0,L.ZP)(W.Z).withConfig({componentId:"sc-3b23a182-1"})(aN()),aQ=function(){return(0,e.jsx)(j.Z,{children:aL()(10).map(function(a){return(0,e.jsxs)(aO,{children:[(0,e.jsx)(W.Z,{height:"21px",mr:"32px",width:"100px"}),(0,e.jsx)(aP,{height:"21px",mr:"32px",width:"100%"}),(0,e.jsx)(aP,{height:"21px",width:"100%"})]},a)})})},aR=c(66260);function aS(){var a=(0,F.Z)(["\n  grid-area: address;\n"]);return aS=function(){return a},a}function aT(){var a=(0,F.Z)(["\n  grid-area: choice;\n  overflow: hidden;\n"]);return aT=function(){return a},a}function aU(){var a=(0,F.Z)(["\n  justify-self: end;\n  grid-area: vote;\n"]);return aU=function(){return a},a}function aV(){var a=(0,F.Z)(["\n  border-bottom: 1px solid ",";\n  grid-gap: 8px;\n  grid-template-areas:\n    'address address address'\n    'choice choice vote';\n  grid-template-columns: 1fr 1fr 120px;\n  padding: 8px 16px;\n\n  "," {\n    grid-gap: 16px;\n    grid-template-areas: 'address choice vote';\n    padding: 16px 24px;\n  }\n"]);return aV=function(){return a},a}var aW=(0,L.ZP)(j.Z).attrs({alignItems:"center"}).withConfig({componentId:"sc-6b2d99e6-0"})(aS()),aX=(0,L.ZP)(j.Z).withConfig({componentId:"sc-6b2d99e6-1"})(aT()),aY=(0,L.ZP)(j.Z).withConfig({componentId:"sc-6b2d99e6-2"})(aU()),aZ=(0,L.ZP)(aR.Z).withConfig({componentId:"sc-6b2d99e6-3"})(aV(),function(a){return a.theme.colors.cardBorder},function(a){return a.theme.mediaQueries.sm}),a$=function(a){var b,c=a.vote,d=a.isVoter,f=(0,w.$G)().t,g=!!(null===(b=c.metadata)|| void 0===b?void 0:b.votingPower),h=g?parseFloat(c.metadata.votingPower).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:3}):"--";return(0,e.jsxs)(aZ,{children:[(0,e.jsx)(aW,{children:(0,e.jsxs)(m.Z,{alignItems:"center",children:[(0,e.jsx)(K.Z,{href:(0,N.C)(c.voter,"address"),children:(0,O.Z)(c.voter)}),d&&(0,e.jsxs)(T.Z,{variant:"success",outline:!0,ml:"8px",children:[(0,e.jsx)(U.Z,{mr:"4px"})," ",f("Voted")]})]})}),(0,e.jsx)(aX,{children:(0,e.jsx)($,{title:c.proposal.choices[c.choice-1],children:c.proposal.choices[c.choice-1]})}),(0,e.jsx)(aY,{children:(0,e.jsxs)(m.Z,{alignItems:"center",justifyContent:"end",children:[(0,e.jsx)(J.Z,{title:c.metadata.votingPower,children:h}),g&&(0,e.jsx)(K.Z,{href:"".concat(P.Gs,"/").concat(c.id)})]})})]})},a_=function(a){var b,c=parseFloat(null==a?void 0:null===(b=a.metadata)|| void 0===b?void 0:b.votingPower);return c||(c=0),c},a0=function(a){var b=a.votes,c=a.votesLoadingStatus,d=a.totalVotes,f=(0,ae.useState)(!1),g=f[0],h=f[1],i=(0,w.$G)().t,j=(0,q.Ge)().account,l=aJ()(b,[a_,"created"],["desc","desc"]),o=g?l:l.slice(0,20),p=c===B.iF.Fetched,r=function(){h(!g)};return(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(H.Z,{children:(0,e.jsxs)(m.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,e.jsx)(n.Z,{as:"h3",scale:"md",children:i("Votes (%count%)",{count:d?d.toLocaleString():"-"})}),!p&&(0,e.jsx)(as.Z,{spin:!0,width:"22px"})]})}),!p&&(0,e.jsx)(aQ,{}),p&&o.length>0&&(0,e.jsxs)(e.Fragment,{children:[o.map(function(a){var b=j&&a.voter.toLowerCase()===j.toLowerCase();return(0,e.jsx)(a$,{vote:a,isVoter:b},a.id)}),(0,e.jsx)(m.Z,{alignItems:"center",justifyContent:"center",py:"8px",px:"24px",children:(0,e.jsx)(k.Z,{width:"100%",onClick:r,variant:"text",endIcon:g?(0,e.jsx)(aG.Z,{color:"primary",width:"21px"}):(0,e.jsx)(aH.Z,{color:"primary",width:"21px"}),disabled:!p,children:i(g?"Hide":"See All")})})]}),p&&0===o.length&&(0,e.jsx)(m.Z,{alignItems:"center",justifyContent:"center",py:"32px",children:(0,e.jsx)(n.Z,{as:"h5",children:i("No votes found")})})]})},a1=function(){var a,b=(0,v.useRouter)(),c=b.query,d=b.isFallback,f=c.id,h=(0,w.$G)().t,t=(0,q.Ge)().account,F=(0,r.Z)(f?["proposal",f]:null,function(){return(0,p.pU)(f)}),G=F.status,H=F.data,I=F.error,J=(0,r.Z)(H?["proposal",H,"votes"]:null,(0,g.Z)(i().mark(function a(){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.uy)(H));case 1:case"end":return a.stop()}},a)}))),K=J.status,L=J.data,M=J.mutate,N=t&&L&&L.some(function(a){return a.voter.toLowerCase()===t.toLowerCase()}),O=K===B.iF.Fetching||G===B.iF.Fetching;return!H&&I?(0,e.jsx)(z.Z,{}):d||!H?(0,e.jsx)(A.Z,{}):(0,e.jsxs)(x.Z,{py:"40px",children:[(0,e.jsx)(o.V,{}),(0,e.jsx)(j.Z,{mb:"40px",children:(0,e.jsx)(u(),{href:"/voting",passHref:!0,children:(0,e.jsx)(k.Z,{as:"a",variant:"text",startIcon:(0,e.jsx)(l.Z,{color:"primary",width:"24px"}),px:"0",children:h("Back to Vote Overview")})})}),(0,e.jsxs)(E.Z,{children:[(0,e.jsxs)(j.Z,{children:[(0,e.jsxs)(j.Z,{mb:"32px",children:[(0,e.jsxs)(m.Z,{alignItems:"center",mb:"8px",children:[(0,e.jsx)(D.U,{proposalState:H.state}),(0,e.jsx)(D.g,{isCoreProposal:(0,C.md)(H),ml:"8px"})]}),(0,e.jsx)(n.Z,{as:"h1",scale:"xl",mb:"16px",children:H.title}),(0,e.jsx)(j.Z,{children:(0,e.jsx)(y.Z,{children:H.body})})]}),!O&&!N&&H.state===s.r7.ACTIVE&&(0,e.jsx)(aF,{proposal:H,onSuccess:M,mb:"16px"}),(0,e.jsx)(a0,{votes:L,totalVotes:null!==(a=null==L?void 0:L.length)&& void 0!==a?a:H.votes,votesLoadingStatus:K})]}),(0,e.jsxs)(j.Z,{position:"sticky",top:"60px",children:[(0,e.jsx)(S,{proposal:H}),(0,e.jsx)(_,{choices:H.choices,votes:L,votesLoadingStatus:K})]})]})]})},a2=!0,a3=function(a){var b=a.fallback;return(0,e.jsx)(f.J$,{value:{fallback:void 0===b?{}:b},children:(0,e.jsx)(a1,{})})}},28415:function(a,b,c){"use strict";var d=c(7297),e=c(85893),f=c(87379),g=c(67952),h=c(69589),i=c(62077),j=c(98553),k=c(27553),l=c(52775),m=c(41664),n=c.n(m);function o(){var a=(0,d.Z)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 64px);\n  justify-content: center;\n"]);return o=function(){return a},a}var p=f.ZP.div.withConfig({componentId:"sc-27d142db-0"})(o()),q=function(a){var b=a.statusCode,c=(0,l.$G)().t;return(0,e.jsx)(k.Z,{children:(0,e.jsxs)(p,{children:[(0,e.jsx)(g.Z,{width:"64px",mb:"8px"}),(0,e.jsx)(h.Z,{scale:"xxl",children:void 0===b?404:b}),(0,e.jsx)(i.Z,{mb:"16px",children:c("Oops, page not found.")}),(0,e.jsx)(n(),{href:"/",passHref:!0,children:(0,e.jsx)(j.Z,{as:"a",scale:"sm",children:c("Back Home")})})]})})};b.Z=q}},function(a){a.O(0,[2298,1752,4352,7492,77,9774,2888,179],function(){var b;return a(a.s=47889)}),_N_E=a.O()}])